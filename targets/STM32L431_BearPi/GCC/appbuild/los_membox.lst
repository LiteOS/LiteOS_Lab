ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"los_membox.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.osCheckBoxMem,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	osCheckBoxMem:
  25              	.LFB133:
  26              		.file 1 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox/los_membox.c"
   1:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** /*----------------------------------------------------------------------------
   2:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * Copyright (c) <2013-2015>, <Huawei Technologies Co., Ltd>
   3:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * All rights reserved.
   4:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * are permitted provided that the following conditions are met:
   6:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * conditions and the following disclaimer.
   8:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * provided with the distribution.
  11:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * to endorse or promote products derived from this software without specific prior written
  13:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * permission.
  14:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  *---------------------------------------------------------------------------*/
  26:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** /*----------------------------------------------------------------------------
  27:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * Notice of Export Control Law
  28:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * ===============================================
  29:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * applicable export control laws and regulations.
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 2


  33:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  *---------------------------------------------------------------------------*/
  34:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
  35:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #include "los_typedef.h"
  36:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #include "los_hwi.h"
  37:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #include "los_membox.ph"
  38:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
  39:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #if (LOSCFG_PLATFORM_EXC == YES)
  40:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #include "los_memcheck.ph"
  41:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #endif
  42:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
  43:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #ifdef __cplusplus
  44:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #if __cplusplus
  45:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** extern "C" {
  46:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #endif /* __cplusplus */
  47:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #endif /* __cplusplus */
  48:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
  49:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** /**
  50:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * The address of the static memory pool must be aligned to the boundary of 4.
  51:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  */
  52:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #define OS_BOXMEM_BASE_ALIGN  4
  53:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #define IS_BOXMEM_ALIGNED(value, alignSize)  (0 == (((UINT32)(value)) & ((UINT32)(alignSize - 1))))
  54:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
  55:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** /**
  56:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * Get the address of the next memory node in the static memory pool.
  57:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  */
  58:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #define OS_MEMBOX_NODE_NEXT(addr, uwBlkSize)  (LOS_MEMBOX_NODE *)((UINT8 *)(addr) + (uwBlkSize))
  59:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
  60:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** /**
  61:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * The magic word of the memory box.
  62:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  */
  63:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #ifdef LOS_MEMBOX_MAGIC_CHECK
  64:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #define OS_MEMBOX_MAGIC              0xa55a5aa5
  65:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #define OS_MEMBOX_SET_MAGIC(addr)    *((UINT32 *)(addr)) = OS_MEMBOX_MAGIC
  66:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #define OS_MEMBOX_CHECK_MAGIC(addr)  ((*((UINT32 *)(addr)) == OS_MEMBOX_MAGIC) ? LOS_OK: LOS_NOK)
  67:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #else
  68:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #define OS_MEMBOX_SET_MAGIC(addr)
  69:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #define OS_MEMBOX_CHECK_MAGIC(addr)  LOS_OK
  70:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #endif
  71:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
  72:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** /**
  73:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  * Get the address of memory block according to the magic word information.
  74:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  */
  75:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #define OS_MEMBOX_USER_ADDR(addr)  ((VOID *)((UINT8 *)(addr) + LOS_MEMBOX_MAGIC_SIZE))
  76:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #define OS_MEMBOX_NODE_ADDR(addr)  ((LOS_MEMBOX_NODE *)((UINT8 *)(addr) - LOS_MEMBOX_MAGIC_SIZE))
  77:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
  78:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
  79:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** /*****************************************************************************
  80:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Function : osCheckBoxMem
  81:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Description : Check whether the memory block is valid
  82:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Input       : pstBoxInfo  --- Pointer to the memory pool
  83:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****                pstNode     --- Pointer to the memory block that will be checked
  84:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Output      : None
  85:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Return      : LOS_OK - OK, LOS_NOK - Error
  86:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** *****************************************************************************/
  87:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** LITE_OS_SEC_TEXT static INLINE UINT32 osCheckBoxMem(const LOS_MEMBOX_INFO *pstBoxInfo, const VOID *
  88:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** {
  27              		.loc 1 88 0
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 3


  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 16
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32 0000 80B4     		push	{r7}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 4
  35              		.cfi_offset 7, -4
  36 0002 85B0     		sub	sp, sp, #20
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 24
  39 0004 00AF     		add	r7, sp, #0
  40              	.LCFI2:
  41              		.cfi_def_cfa_register 7
  42 0006 7860     		str	r0, [r7, #4]
  43 0008 3960     		str	r1, [r7]
  89:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     UINT32 uwOffSet;
  90:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
  91:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     if (pstBoxInfo->uwBlkSize == 0)
  44              		.loc 1 91 0
  45 000a 7B68     		ldr	r3, [r7, #4]
  46 000c 1B68     		ldr	r3, [r3]
  47 000e 002B     		cmp	r3, #0
  48 0010 01D1     		bne	.L2
  92:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
  93:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         return LOS_NOK;
  49              		.loc 1 93 0
  50 0012 0123     		movs	r3, #1
  51 0014 23E0     		b	.L3
  52              	.L2:
  94:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     }
  95:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
  96:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     uwOffSet = (UINT32)pstNode - (UINT32)(pstBoxInfo + 1);
  53              		.loc 1 96 0
  54 0016 3B68     		ldr	r3, [r7]
  55 0018 7A68     		ldr	r2, [r7, #4]
  56 001a 1032     		adds	r2, r2, #16
  57 001c 9B1A     		subs	r3, r3, r2
  58 001e FB60     		str	r3, [r7, #12]
  97:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     if ((uwOffSet % pstBoxInfo->uwBlkSize) != 0)
  59              		.loc 1 97 0
  60 0020 7B68     		ldr	r3, [r7, #4]
  61 0022 1A68     		ldr	r2, [r3]
  62 0024 FB68     		ldr	r3, [r7, #12]
  63 0026 B3FBF2F1 		udiv	r1, r3, r2
  64 002a 02FB01F2 		mul	r2, r2, r1
  65 002e 9B1A     		subs	r3, r3, r2
  66 0030 002B     		cmp	r3, #0
  67 0032 01D0     		beq	.L4
  98:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
  99:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         return LOS_NOK;
  68              		.loc 1 99 0
  69 0034 0123     		movs	r3, #1
  70 0036 12E0     		b	.L3
  71              	.L4:
 100:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     }
 101:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 4


 102:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     if ((uwOffSet / pstBoxInfo->uwBlkSize) >= pstBoxInfo->uwBlkNum)
  72              		.loc 1 102 0
  73 0038 7B68     		ldr	r3, [r7, #4]
  74 003a 1B68     		ldr	r3, [r3]
  75 003c FA68     		ldr	r2, [r7, #12]
  76 003e B2FBF3F2 		udiv	r2, r2, r3
  77 0042 7B68     		ldr	r3, [r7, #4]
  78 0044 5B68     		ldr	r3, [r3, #4]
  79 0046 9A42     		cmp	r2, r3
  80 0048 01D3     		bcc	.L5
 103:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
 104:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         return LOS_NOK;
  81              		.loc 1 104 0
  82 004a 0123     		movs	r3, #1
  83 004c 07E0     		b	.L3
  84              	.L5:
 105:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     }
 106:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 107:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     return OS_MEMBOX_CHECK_MAGIC(pstNode);
  85              		.loc 1 107 0
  86 004e 3B68     		ldr	r3, [r7]
  87 0050 1B68     		ldr	r3, [r3]
  88 0052 064A     		ldr	r2, .L6
  89 0054 9342     		cmp	r3, r2
  90 0056 14BF     		ite	ne
  91 0058 0123     		movne	r3, #1
  92 005a 0023     		moveq	r3, #0
  93 005c DBB2     		uxtb	r3, r3
  94              	.L3:
 108:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** }
  95              		.loc 1 108 0
  96 005e 1846     		mov	r0, r3
  97 0060 1437     		adds	r7, r7, #20
  98              	.LCFI3:
  99              		.cfi_def_cfa_offset 4
 100 0062 BD46     		mov	sp, r7
 101              	.LCFI4:
 102              		.cfi_def_cfa_register 13
 103              		@ sp needed
 104 0064 5DF8047B 		ldr	r7, [sp], #4
 105              	.LCFI5:
 106              		.cfi_restore 7
 107              		.cfi_def_cfa_offset 0
 108 0068 7047     		bx	lr
 109              	.L7:
 110 006a 00BF     		.align	2
 111              	.L6:
 112 006c A55A5AA5 		.word	-1520805211
 113              		.cfi_endproc
 114              	.LFE133:
 116              		.section	.text.LOS_MemboxInit,"ax",%progbits
 117              		.align	1
 118              		.global	LOS_MemboxInit
 119              		.syntax unified
 120              		.thumb
 121              		.thumb_func
 122              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 5


 124              	LOS_MemboxInit:
 125              	.LFB134:
 109:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 110:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** /*****************************************************************************
 111:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Function : LOS_MemboxInit
 112:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Description : Initialize Static Memory pool
 113:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Input       : pBoxMem    --- Pointer to the memory pool
 114:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****                uwBoxSize  --- Size of the memory pool
 115:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****                uwBlkSize  --- Size of the memory block
 116:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Output      : None
 117:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Return      : LOS_OK - OK, LOS_NOK - Error
 118:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** *****************************************************************************/
 119:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** LITE_OS_SEC_TEXT_INIT UINT32 LOS_MemboxInit(VOID *pBoxMem, UINT32 uwBoxSize, UINT32 uwBlkSize)
 120:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** {
 126              		.loc 1 120 0
 127              		.cfi_startproc
 128              		@ args = 0, pretend = 0, frame = 32
 129              		@ frame_needed = 1, uses_anonymous_args = 0
 130 0000 80B5     		push	{r7, lr}
 131              	.LCFI6:
 132              		.cfi_def_cfa_offset 8
 133              		.cfi_offset 7, -8
 134              		.cfi_offset 14, -4
 135 0002 88B0     		sub	sp, sp, #32
 136              	.LCFI7:
 137              		.cfi_def_cfa_offset 40
 138 0004 00AF     		add	r7, sp, #0
 139              	.LCFI8:
 140              		.cfi_def_cfa_register 7
 141 0006 F860     		str	r0, [r7, #12]
 142 0008 B960     		str	r1, [r7, #8]
 143 000a 7A60     		str	r2, [r7, #4]
 121:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     LOS_MEMBOX_INFO *pstBoxInfo = (LOS_MEMBOX_INFO *)pBoxMem;
 144              		.loc 1 121 0
 145 000c FB68     		ldr	r3, [r7, #12]
 146 000e 7B61     		str	r3, [r7, #20]
 122:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     LOS_MEMBOX_NODE *pstNode = NULL;
 147              		.loc 1 122 0
 148 0010 0023     		movs	r3, #0
 149 0012 FB61     		str	r3, [r7, #28]
 123:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     UINT32 i;
 124:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     UINTPTR uvIntSave;
 125:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 126:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     if (pBoxMem == NULL || uwBlkSize == 0 || uwBoxSize < sizeof(LOS_MEMBOX_INFO))
 150              		.loc 1 126 0
 151 0014 FB68     		ldr	r3, [r7, #12]
 152 0016 002B     		cmp	r3, #0
 153 0018 05D0     		beq	.L9
 154              		.loc 1 126 0 is_stmt 0 discriminator 1
 155 001a 7B68     		ldr	r3, [r7, #4]
 156 001c 002B     		cmp	r3, #0
 157 001e 02D0     		beq	.L9
 158              		.loc 1 126 0 discriminator 2
 159 0020 BB68     		ldr	r3, [r7, #8]
 160 0022 0F2B     		cmp	r3, #15
 161 0024 01D8     		bhi	.L10
 162              	.L9:
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 6


 127:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
 128:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         return LOS_NOK;
 163              		.loc 1 128 0 is_stmt 1
 164 0026 0123     		movs	r3, #1
 165 0028 46E0     		b	.L11
 166              	.L10:
 129:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     }
 130:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 131:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     if (!IS_BOXMEM_ALIGNED(pBoxMem, OS_BOXMEM_BASE_ALIGN))
 167              		.loc 1 131 0
 168 002a FB68     		ldr	r3, [r7, #12]
 169 002c 03F00303 		and	r3, r3, #3
 170 0030 002B     		cmp	r3, #0
 171 0032 01D0     		beq	.L12
 132:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
 133:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         return LOS_NOK;
 172              		.loc 1 133 0
 173 0034 0123     		movs	r3, #1
 174 0036 3FE0     		b	.L11
 175              	.L12:
 134:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     }
 135:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 136:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     uvIntSave = LOS_IntLock();
 176              		.loc 1 136 0
 177 0038 FFF7FEFF 		bl	LOS_IntLock
 178 003c 3861     		str	r0, [r7, #16]
 137:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 138:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     /*
 139:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****      * The node size is aligned to the next 4 boundary.
 140:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****      * Memory that is not enough for one node size in the memory pool will be ignored.
 141:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****      */
 142:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     pstBoxInfo->uwBlkSize = LOS_MEMBOX_ALIGNED(uwBlkSize + LOS_MEMBOX_MAGIC_SIZE);
 179              		.loc 1 142 0
 180 003e 7B68     		ldr	r3, [r7, #4]
 181 0040 0733     		adds	r3, r3, #7
 182 0042 23F00302 		bic	r2, r3, #3
 183 0046 7B69     		ldr	r3, [r7, #20]
 184 0048 1A60     		str	r2, [r3]
 143:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     pstBoxInfo->uwBlkNum = (uwBoxSize - sizeof(LOS_MEMBOX_INFO)) / pstBoxInfo->uwBlkSize;
 185              		.loc 1 143 0
 186 004a BB68     		ldr	r3, [r7, #8]
 187 004c A3F11002 		sub	r2, r3, #16
 188 0050 7B69     		ldr	r3, [r7, #20]
 189 0052 1B68     		ldr	r3, [r3]
 190 0054 B2FBF3F2 		udiv	r2, r2, r3
 191 0058 7B69     		ldr	r3, [r7, #20]
 192 005a 5A60     		str	r2, [r3, #4]
 144:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     pstBoxInfo->uwBlkCnt = 0;
 193              		.loc 1 144 0
 194 005c 7B69     		ldr	r3, [r7, #20]
 195 005e 0022     		movs	r2, #0
 196 0060 9A60     		str	r2, [r3, #8]
 145:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 146:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     if (pstBoxInfo->uwBlkNum == 0)
 197              		.loc 1 146 0
 198 0062 7B69     		ldr	r3, [r7, #20]
 199 0064 5B68     		ldr	r3, [r3, #4]
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 7


 200 0066 002B     		cmp	r3, #0
 201 0068 04D1     		bne	.L13
 147:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
 148:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         LOS_IntRestore(uvIntSave);
 202              		.loc 1 148 0
 203 006a 3869     		ldr	r0, [r7, #16]
 204 006c FFF7FEFF 		bl	LOS_IntRestore
 149:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         return LOS_NOK;
 205              		.loc 1 149 0
 206 0070 0123     		movs	r3, #1
 207 0072 21E0     		b	.L11
 208              	.L13:
 150:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     }
 151:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 152:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     pstNode = (LOS_MEMBOX_NODE *)(pstBoxInfo + 1);
 209              		.loc 1 152 0
 210 0074 7B69     		ldr	r3, [r7, #20]
 211 0076 1033     		adds	r3, r3, #16
 212 0078 FB61     		str	r3, [r7, #28]
 153:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     pstBoxInfo->stFreeList.pstNext = pstNode;
 213              		.loc 1 153 0
 214 007a 7B69     		ldr	r3, [r7, #20]
 215 007c FA69     		ldr	r2, [r7, #28]
 216 007e DA60     		str	r2, [r3, #12]
 154:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 155:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     for (i = 0; i < pstBoxInfo->uwBlkNum - 1; ++i)
 217              		.loc 1 155 0
 218 0080 0023     		movs	r3, #0
 219 0082 BB61     		str	r3, [r7, #24]
 220 0084 0BE0     		b	.L14
 221              	.L15:
 156:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
 157:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         pstNode->pstNext = OS_MEMBOX_NODE_NEXT(pstNode, pstBoxInfo->uwBlkSize);
 222              		.loc 1 157 0 discriminator 3
 223 0086 7B69     		ldr	r3, [r7, #20]
 224 0088 1B68     		ldr	r3, [r3]
 225 008a FA69     		ldr	r2, [r7, #28]
 226 008c 1A44     		add	r2, r2, r3
 227 008e FB69     		ldr	r3, [r7, #28]
 228 0090 1A60     		str	r2, [r3]
 158:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         pstNode = pstNode->pstNext;
 229              		.loc 1 158 0 discriminator 3
 230 0092 FB69     		ldr	r3, [r7, #28]
 231 0094 1B68     		ldr	r3, [r3]
 232 0096 FB61     		str	r3, [r7, #28]
 155:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
 233              		.loc 1 155 0 discriminator 3
 234 0098 BB69     		ldr	r3, [r7, #24]
 235 009a 0133     		adds	r3, r3, #1
 236 009c BB61     		str	r3, [r7, #24]
 237              	.L14:
 155:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
 238              		.loc 1 155 0 is_stmt 0 discriminator 1
 239 009e 7B69     		ldr	r3, [r7, #20]
 240 00a0 5B68     		ldr	r3, [r3, #4]
 241 00a2 013B     		subs	r3, r3, #1
 242 00a4 BA69     		ldr	r2, [r7, #24]
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 8


 243 00a6 9A42     		cmp	r2, r3
 244 00a8 EDD3     		bcc	.L15
 159:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     }
 160:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     pstNode->pstNext = (LOS_MEMBOX_NODE *)NULL;  /* The last node */
 245              		.loc 1 160 0 is_stmt 1
 246 00aa FB69     		ldr	r3, [r7, #28]
 247 00ac 0022     		movs	r2, #0
 248 00ae 1A60     		str	r2, [r3]
 161:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 162:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #if ((LOSCFG_PLATFORM_EXC == YES) && (LOSCFG_SAVE_EXC_INFO == YES))
 163:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     osMemInfoUpdate(pBoxMem, uwBoxSize, MEM_MANG_MEMBOX);
 164:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** #endif
 165:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 166:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     (VOID)LOS_IntRestore(uvIntSave);
 249              		.loc 1 166 0
 250 00b0 3869     		ldr	r0, [r7, #16]
 251 00b2 FFF7FEFF 		bl	LOS_IntRestore
 167:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 168:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     return LOS_OK;
 252              		.loc 1 168 0
 253 00b6 0023     		movs	r3, #0
 254              	.L11:
 169:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** }
 255              		.loc 1 169 0
 256 00b8 1846     		mov	r0, r3
 257 00ba 2037     		adds	r7, r7, #32
 258              	.LCFI9:
 259              		.cfi_def_cfa_offset 8
 260 00bc BD46     		mov	sp, r7
 261              	.LCFI10:
 262              		.cfi_def_cfa_register 13
 263              		@ sp needed
 264 00be 80BD     		pop	{r7, pc}
 265              		.cfi_endproc
 266              	.LFE134:
 268              		.section	.text.LOS_MemboxAlloc,"ax",%progbits
 269              		.align	1
 270              		.global	LOS_MemboxAlloc
 271              		.syntax unified
 272              		.thumb
 273              		.thumb_func
 274              		.fpu fpv4-sp-d16
 276              	LOS_MemboxAlloc:
 277              	.LFB135:
 170:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 171:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** /*****************************************************************************
 172:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Function : LOS_MemboxAlloc
 173:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Description : Allocate Memory block from Static Memory pool
 174:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Input       : pBoxMem  --- Pointer to memory pool
 175:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Output      : None
 176:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Return      : Pointer to allocated memory block
 177:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** *****************************************************************************/
 178:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** LITE_OS_SEC_TEXT VOID *LOS_MemboxAlloc(VOID *pBoxMem)
 179:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** {
 278              		.loc 1 179 0
 279              		.cfi_startproc
 280              		@ args = 0, pretend = 0, frame = 24
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 9


 281              		@ frame_needed = 1, uses_anonymous_args = 0
 282 0000 80B5     		push	{r7, lr}
 283              	.LCFI11:
 284              		.cfi_def_cfa_offset 8
 285              		.cfi_offset 7, -8
 286              		.cfi_offset 14, -4
 287 0002 86B0     		sub	sp, sp, #24
 288              	.LCFI12:
 289              		.cfi_def_cfa_offset 32
 290 0004 00AF     		add	r7, sp, #0
 291              	.LCFI13:
 292              		.cfi_def_cfa_register 7
 293 0006 7860     		str	r0, [r7, #4]
 180:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     LOS_MEMBOX_INFO *pstBoxInfo = (LOS_MEMBOX_INFO *)pBoxMem;
 294              		.loc 1 180 0
 295 0008 7B68     		ldr	r3, [r7, #4]
 296 000a 3B61     		str	r3, [r7, #16]
 181:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     LOS_MEMBOX_NODE *pstNode = NULL;
 297              		.loc 1 181 0
 298 000c 0023     		movs	r3, #0
 299 000e FB60     		str	r3, [r7, #12]
 182:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     LOS_MEMBOX_NODE *pRet = NULL;
 300              		.loc 1 182 0
 301 0010 0023     		movs	r3, #0
 302 0012 7B61     		str	r3, [r7, #20]
 183:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     UINTPTR uvIntSave;
 184:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 185:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     if (pBoxMem == NULL)
 303              		.loc 1 185 0
 304 0014 7B68     		ldr	r3, [r7, #4]
 305 0016 002B     		cmp	r3, #0
 306 0018 01D1     		bne	.L17
 186:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
 187:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         return NULL;
 307              		.loc 1 187 0
 308 001a 0023     		movs	r3, #0
 309 001c 22E0     		b	.L18
 310              	.L17:
 188:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     }
 189:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 190:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     uvIntSave = LOS_IntLock();
 311              		.loc 1 190 0
 312 001e FFF7FEFF 		bl	LOS_IntLock
 313 0022 B860     		str	r0, [r7, #8]
 191:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 192:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     pstNode = &pstBoxInfo->stFreeList;
 314              		.loc 1 192 0
 315 0024 3B69     		ldr	r3, [r7, #16]
 316 0026 0C33     		adds	r3, r3, #12
 317 0028 FB60     		str	r3, [r7, #12]
 193:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     if (pstNode->pstNext != NULL)
 318              		.loc 1 193 0
 319 002a FB68     		ldr	r3, [r7, #12]
 320 002c 1B68     		ldr	r3, [r3]
 321 002e 002B     		cmp	r3, #0
 322 0030 0ED0     		beq	.L19
 194:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 10


 195:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         pRet = pstNode->pstNext;
 323              		.loc 1 195 0
 324 0032 FB68     		ldr	r3, [r7, #12]
 325 0034 1B68     		ldr	r3, [r3]
 326 0036 7B61     		str	r3, [r7, #20]
 196:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         pstNode->pstNext = pRet->pstNext;
 327              		.loc 1 196 0
 328 0038 7B69     		ldr	r3, [r7, #20]
 329 003a 1A68     		ldr	r2, [r3]
 330 003c FB68     		ldr	r3, [r7, #12]
 331 003e 1A60     		str	r2, [r3]
 197:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         OS_MEMBOX_SET_MAGIC(pRet);
 332              		.loc 1 197 0
 333 0040 7B69     		ldr	r3, [r7, #20]
 334 0042 0A4A     		ldr	r2, .L22
 335 0044 1A60     		str	r2, [r3]
 198:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         pstBoxInfo->uwBlkCnt++;
 336              		.loc 1 198 0
 337 0046 3B69     		ldr	r3, [r7, #16]
 338 0048 9B68     		ldr	r3, [r3, #8]
 339 004a 5A1C     		adds	r2, r3, #1
 340 004c 3B69     		ldr	r3, [r7, #16]
 341 004e 9A60     		str	r2, [r3, #8]
 342              	.L19:
 199:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     }
 200:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 201:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     (VOID)LOS_IntRestore(uvIntSave);
 343              		.loc 1 201 0
 344 0050 B868     		ldr	r0, [r7, #8]
 345 0052 FFF7FEFF 		bl	LOS_IntRestore
 202:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 203:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     return pRet == NULL ? NULL : OS_MEMBOX_USER_ADDR(pRet);
 346              		.loc 1 203 0
 347 0056 7B69     		ldr	r3, [r7, #20]
 348 0058 002B     		cmp	r3, #0
 349 005a 02D0     		beq	.L20
 350              		.loc 1 203 0 is_stmt 0 discriminator 1
 351 005c 7B69     		ldr	r3, [r7, #20]
 352 005e 0433     		adds	r3, r3, #4
 353 0060 00E0     		b	.L18
 354              	.L20:
 355              		.loc 1 203 0 discriminator 2
 356 0062 0023     		movs	r3, #0
 357              	.L18:
 204:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** }
 358              		.loc 1 204 0 is_stmt 1
 359 0064 1846     		mov	r0, r3
 360 0066 1837     		adds	r7, r7, #24
 361              	.LCFI14:
 362              		.cfi_def_cfa_offset 8
 363 0068 BD46     		mov	sp, r7
 364              	.LCFI15:
 365              		.cfi_def_cfa_register 13
 366              		@ sp needed
 367 006a 80BD     		pop	{r7, pc}
 368              	.L23:
 369              		.align	2
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 11


 370              	.L22:
 371 006c A55A5AA5 		.word	-1520805211
 372              		.cfi_endproc
 373              	.LFE135:
 375              		.section	.text.LOS_MemboxFree,"ax",%progbits
 376              		.align	1
 377              		.global	LOS_MemboxFree
 378              		.syntax unified
 379              		.thumb
 380              		.thumb_func
 381              		.fpu fpv4-sp-d16
 383              	LOS_MemboxFree:
 384              	.LFB136:
 205:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 206:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** /*****************************************************************************
 207:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Function : LOS_MemboxFree
 208:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Description : Free Memory block and return it to Static Memory pool
 209:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Input       : pBoxMem  --- Pointer to memory pool
 210:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****                pBox     --- Pointer to memory block to free
 211:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Output      : None
 212:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Return      : LOS_OK - OK, LOS_NOK - Error
 213:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** *****************************************************************************/
 214:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** LITE_OS_SEC_TEXT UINT32 LOS_MemboxFree(VOID *pBoxMem, VOID *pBox)
 215:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** {
 385              		.loc 1 215 0
 386              		.cfi_startproc
 387              		@ args = 0, pretend = 0, frame = 24
 388              		@ frame_needed = 1, uses_anonymous_args = 0
 389 0000 80B5     		push	{r7, lr}
 390              	.LCFI16:
 391              		.cfi_def_cfa_offset 8
 392              		.cfi_offset 7, -8
 393              		.cfi_offset 14, -4
 394 0002 86B0     		sub	sp, sp, #24
 395              	.LCFI17:
 396              		.cfi_def_cfa_offset 32
 397 0004 00AF     		add	r7, sp, #0
 398              	.LCFI18:
 399              		.cfi_def_cfa_register 7
 400 0006 7860     		str	r0, [r7, #4]
 401 0008 3960     		str	r1, [r7]
 216:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     LOS_MEMBOX_INFO *pstBoxInfo = (LOS_MEMBOX_INFO *)pBoxMem;
 402              		.loc 1 216 0
 403 000a 7B68     		ldr	r3, [r7, #4]
 404 000c 3B61     		str	r3, [r7, #16]
 217:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     UINT32 uwRet = LOS_NOK;
 405              		.loc 1 217 0
 406 000e 0123     		movs	r3, #1
 407 0010 7B61     		str	r3, [r7, #20]
 218:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     UINTPTR uvIntSave;
 219:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 220:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     if (pBoxMem == NULL || pBox == NULL)
 408              		.loc 1 220 0
 409 0012 7B68     		ldr	r3, [r7, #4]
 410 0014 002B     		cmp	r3, #0
 411 0016 02D0     		beq	.L25
 412              		.loc 1 220 0 is_stmt 0 discriminator 1
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 12


 413 0018 3B68     		ldr	r3, [r7]
 414 001a 002B     		cmp	r3, #0
 415 001c 01D1     		bne	.L26
 416              	.L25:
 221:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
 222:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         return LOS_NOK;
 417              		.loc 1 222 0 is_stmt 1
 418 001e 0123     		movs	r3, #1
 419 0020 20E0     		b	.L27
 420              	.L26:
 223:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     }
 224:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 225:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     uvIntSave = LOS_IntLock();
 421              		.loc 1 225 0
 422 0022 FFF7FEFF 		bl	LOS_IntLock
 423 0026 F860     		str	r0, [r7, #12]
 424              	.LBB2:
 226:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 227:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     do
 228:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
 229:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         LOS_MEMBOX_NODE *pstNode = OS_MEMBOX_NODE_ADDR(pBox);
 425              		.loc 1 229 0
 426 0028 3B68     		ldr	r3, [r7]
 427 002a 043B     		subs	r3, r3, #4
 428 002c BB60     		str	r3, [r7, #8]
 230:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 231:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         if (osCheckBoxMem(pstBoxInfo, pstNode) != LOS_OK)
 429              		.loc 1 231 0
 430 002e B968     		ldr	r1, [r7, #8]
 431 0030 3869     		ldr	r0, [r7, #16]
 432 0032 FFF7FEFF 		bl	osCheckBoxMem
 433 0036 0346     		mov	r3, r0
 434 0038 002B     		cmp	r3, #0
 435 003a 0ED1     		bne	.L30
 232:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         {
 233:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****             break;
 234:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         }
 235:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 236:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         pstNode->pstNext = pstBoxInfo->stFreeList.pstNext;
 436              		.loc 1 236 0
 437 003c 3B69     		ldr	r3, [r7, #16]
 438 003e DA68     		ldr	r2, [r3, #12]
 439 0040 BB68     		ldr	r3, [r7, #8]
 440 0042 1A60     		str	r2, [r3]
 237:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         pstBoxInfo->stFreeList.pstNext = pstNode;
 441              		.loc 1 237 0
 442 0044 3B69     		ldr	r3, [r7, #16]
 443 0046 BA68     		ldr	r2, [r7, #8]
 444 0048 DA60     		str	r2, [r3, #12]
 238:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         pstBoxInfo->uwBlkCnt--;
 445              		.loc 1 238 0
 446 004a 3B69     		ldr	r3, [r7, #16]
 447 004c 9B68     		ldr	r3, [r3, #8]
 448 004e 5A1E     		subs	r2, r3, #1
 449 0050 3B69     		ldr	r3, [r7, #16]
 450 0052 9A60     		str	r2, [r3, #8]
 239:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         uwRet = LOS_OK;
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 13


 451              		.loc 1 239 0
 452 0054 0023     		movs	r3, #0
 453 0056 7B61     		str	r3, [r7, #20]
 454 0058 00E0     		b	.L29
 455              	.L30:
 233:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         }
 456              		.loc 1 233 0
 457 005a 00BF     		nop
 458              	.L29:
 459              	.LBE2:
 240:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     } while (0);
 241:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 242:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     (VOID)LOS_IntRestore(uvIntSave);
 460              		.loc 1 242 0
 461 005c F868     		ldr	r0, [r7, #12]
 462 005e FFF7FEFF 		bl	LOS_IntRestore
 243:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 244:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     return uwRet;
 463              		.loc 1 244 0
 464 0062 7B69     		ldr	r3, [r7, #20]
 465              	.L27:
 245:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** }
 466              		.loc 1 245 0
 467 0064 1846     		mov	r0, r3
 468 0066 1837     		adds	r7, r7, #24
 469              	.LCFI19:
 470              		.cfi_def_cfa_offset 8
 471 0068 BD46     		mov	sp, r7
 472              	.LCFI20:
 473              		.cfi_def_cfa_register 13
 474              		@ sp needed
 475 006a 80BD     		pop	{r7, pc}
 476              		.cfi_endproc
 477              	.LFE136:
 479              		.section	.text.LOS_MemboxClr,"ax",%progbits
 480              		.align	1
 481              		.global	LOS_MemboxClr
 482              		.syntax unified
 483              		.thumb
 484              		.thumb_func
 485              		.fpu fpv4-sp-d16
 487              	LOS_MemboxClr:
 488              	.LFB137:
 246:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 247:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** /*****************************************************************************
 248:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Function : LOS_MemboxClr
 249:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Description : Clear the memory block
 250:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Input       : pBoxMem  --- Pointer to memory pool
 251:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****                pBox     --- Pointer to memory block to clear
 252:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Output      : None
 253:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Return      : None
 254:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** *****************************************************************************/
 255:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** LITE_OS_SEC_TEXT_MINOR VOID LOS_MemboxClr(VOID *pBoxMem, VOID *pBox)
 256:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** {
 489              		.loc 1 256 0
 490              		.cfi_startproc
 491              		@ args = 0, pretend = 0, frame = 16
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 14


 492              		@ frame_needed = 1, uses_anonymous_args = 0
 493 0000 80B5     		push	{r7, lr}
 494              	.LCFI21:
 495              		.cfi_def_cfa_offset 8
 496              		.cfi_offset 7, -8
 497              		.cfi_offset 14, -4
 498 0002 84B0     		sub	sp, sp, #16
 499              	.LCFI22:
 500              		.cfi_def_cfa_offset 24
 501 0004 00AF     		add	r7, sp, #0
 502              	.LCFI23:
 503              		.cfi_def_cfa_register 7
 504 0006 7860     		str	r0, [r7, #4]
 505 0008 3960     		str	r1, [r7]
 257:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     LOS_MEMBOX_INFO *pstBoxInfo = (LOS_MEMBOX_INFO *)pBoxMem;
 506              		.loc 1 257 0
 507 000a 7B68     		ldr	r3, [r7, #4]
 508 000c FB60     		str	r3, [r7, #12]
 258:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 259:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     if (pBoxMem == NULL || pBox == NULL)
 509              		.loc 1 259 0
 510 000e 7B68     		ldr	r3, [r7, #4]
 511 0010 002B     		cmp	r3, #0
 512 0012 0BD0     		beq	.L35
 513              		.loc 1 259 0 is_stmt 0 discriminator 1
 514 0014 3B68     		ldr	r3, [r7]
 515 0016 002B     		cmp	r3, #0
 516 0018 08D0     		beq	.L35
 260:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
 261:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         return;
 262:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     }
 263:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 264:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     memset(pBox, 0, pstBoxInfo->uwBlkSize - LOS_MEMBOX_MAGIC_SIZE);
 517              		.loc 1 264 0 is_stmt 1
 518 001a FB68     		ldr	r3, [r7, #12]
 519 001c 1B68     		ldr	r3, [r3]
 520 001e 043B     		subs	r3, r3, #4
 521 0020 1A46     		mov	r2, r3
 522 0022 0021     		movs	r1, #0
 523 0024 3868     		ldr	r0, [r7]
 524 0026 FFF7FEFF 		bl	memset
 525 002a 00E0     		b	.L31
 526              	.L35:
 261:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     }
 527              		.loc 1 261 0
 528 002c 00BF     		nop
 529              	.L31:
 265:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** }
 530              		.loc 1 265 0
 531 002e 1037     		adds	r7, r7, #16
 532              	.LCFI24:
 533              		.cfi_def_cfa_offset 8
 534 0030 BD46     		mov	sp, r7
 535              	.LCFI25:
 536              		.cfi_def_cfa_register 13
 537              		@ sp needed
 538 0032 80BD     		pop	{r7, pc}
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 15


 539              		.cfi_endproc
 540              	.LFE137:
 542              		.section	.text.LOS_MemboxStatisticsGet,"ax",%progbits
 543              		.align	1
 544              		.global	LOS_MemboxStatisticsGet
 545              		.syntax unified
 546              		.thumb
 547              		.thumb_func
 548              		.fpu fpv4-sp-d16
 550              	LOS_MemboxStatisticsGet:
 551              	.LFB138:
 266:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 267:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** /*****************************************************************************
 268:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Function : LOS_MemboxStatisticsGet
 269:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Description : Get information about membox
 270:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Input       : pBoxMem     --- Pointer to the calculate membox
 271:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Output      : puwMaxBlk   --- Record the total number of membox
 272:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****                puwBlkCnt   --- Record the number of the allocated blocks of membox
 273:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****                puwBlkSize  --- Record the block size of membox
 274:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****  Return      : LOS_OK - OK, LOS_NOK - Error
 275:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** *****************************************************************************/
 276:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** LITE_OS_SEC_TEXT_MINOR UINT32 LOS_MemboxStatisticsGet(VOID *pBoxMem, UINT32 *puwMaxBlk, UINT32 *puw
 277:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** {
 552              		.loc 1 277 0
 553              		.cfi_startproc
 554              		@ args = 0, pretend = 0, frame = 16
 555              		@ frame_needed = 1, uses_anonymous_args = 0
 556              		@ link register save eliminated.
 557 0000 80B4     		push	{r7}
 558              	.LCFI26:
 559              		.cfi_def_cfa_offset 4
 560              		.cfi_offset 7, -4
 561 0002 85B0     		sub	sp, sp, #20
 562              	.LCFI27:
 563              		.cfi_def_cfa_offset 24
 564 0004 00AF     		add	r7, sp, #0
 565              	.LCFI28:
 566              		.cfi_def_cfa_register 7
 567 0006 F860     		str	r0, [r7, #12]
 568 0008 B960     		str	r1, [r7, #8]
 569 000a 7A60     		str	r2, [r7, #4]
 570 000c 3B60     		str	r3, [r7]
 278:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     if ((NULL == pBoxMem) || (NULL == puwMaxBlk) || (NULL == puwBlkCnt) || (NULL == puwBlkSize))
 571              		.loc 1 278 0
 572 000e FB68     		ldr	r3, [r7, #12]
 573 0010 002B     		cmp	r3, #0
 574 0012 08D0     		beq	.L37
 575              		.loc 1 278 0 is_stmt 0 discriminator 1
 576 0014 BB68     		ldr	r3, [r7, #8]
 577 0016 002B     		cmp	r3, #0
 578 0018 05D0     		beq	.L37
 579              		.loc 1 278 0 discriminator 2
 580 001a 7B68     		ldr	r3, [r7, #4]
 581 001c 002B     		cmp	r3, #0
 582 001e 02D0     		beq	.L37
 583              		.loc 1 278 0 discriminator 3
 584 0020 3B68     		ldr	r3, [r7]
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 16


 585 0022 002B     		cmp	r3, #0
 586 0024 01D1     		bne	.L38
 587              	.L37:
 279:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     {
 280:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****         return LOS_NOK;
 588              		.loc 1 280 0 is_stmt 1
 589 0026 0123     		movs	r3, #1
 590 0028 0CE0     		b	.L39
 591              	.L38:
 281:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     }
 282:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 283:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     *puwMaxBlk = ((LOS_MEMBOX_INFO *)pBoxMem)->uwBlkNum;    /* Total number of blocks */
 592              		.loc 1 283 0
 593 002a FB68     		ldr	r3, [r7, #12]
 594 002c 5A68     		ldr	r2, [r3, #4]
 595 002e BB68     		ldr	r3, [r7, #8]
 596 0030 1A60     		str	r2, [r3]
 284:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     *puwBlkCnt = ((LOS_MEMBOX_INFO *)pBoxMem)->uwBlkCnt;    /* The number of allocated blocks */
 597              		.loc 1 284 0
 598 0032 FB68     		ldr	r3, [r7, #12]
 599 0034 9A68     		ldr	r2, [r3, #8]
 600 0036 7B68     		ldr	r3, [r7, #4]
 601 0038 1A60     		str	r2, [r3]
 285:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     *puwBlkSize = ((LOS_MEMBOX_INFO *)pBoxMem)->uwBlkSize;  /* Block size */
 602              		.loc 1 285 0
 603 003a FB68     		ldr	r3, [r7, #12]
 604 003c 1A68     		ldr	r2, [r3]
 605 003e 3B68     		ldr	r3, [r7]
 606 0040 1A60     		str	r2, [r3]
 286:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** 
 287:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c ****     return LOS_OK;
 607              		.loc 1 287 0
 608 0042 0023     		movs	r3, #0
 609              	.L39:
 288:E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/mem/membox\los_membox.c **** }
 610              		.loc 1 288 0
 611 0044 1846     		mov	r0, r3
 612 0046 1437     		adds	r7, r7, #20
 613              	.LCFI29:
 614              		.cfi_def_cfa_offset 4
 615 0048 BD46     		mov	sp, r7
 616              	.LCFI30:
 617              		.cfi_def_cfa_register 13
 618              		@ sp needed
 619 004a 5DF8047B 		ldr	r7, [sp], #4
 620              	.LCFI31:
 621              		.cfi_restore 7
 622              		.cfi_def_cfa_offset 0
 623 004e 7047     		bx	lr
 624              		.cfi_endproc
 625              	.LFE138:
 627              		.text
 628              	.Letext0:
 629              		.file 2 "e:\\ac6\\systemworkbench\\plugins\\fr.ac6.mcu.externaltools.arm-none.win32_1.16.0.2018071
 630              		.file 3 "e:\\ac6\\systemworkbench\\plugins\\fr.ac6.mcu.externaltools.arm-none.win32_1.16.0.2018071
 631              		.file 4 "e:\\ac6\\systemworkbench\\plugins\\fr.ac6.mcu.externaltools.arm-none.win32_1.16.0.2018071
 632              		.file 5 "e:\\ac6\\systemworkbench\\plugins\\fr.ac6.mcu.externaltools.arm-none.win32_1.16.0.2018071
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 17


 633              		.file 6 "e:\\ac6\\systemworkbench\\plugins\\fr.ac6.mcu.externaltools.arm-none.win32_1.16.0.2018071
 634              		.file 7 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_typedef.h"
 635              		.file 8 "e:\\ac6\\systemworkbench\\plugins\\fr.ac6.mcu.externaltools.arm-none.win32_1.16.0.2018071
 636              		.file 9 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/arch/arm/common/cmsis/core_cm4.h"
 637              		.file 10 "E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Inc/system_stm32l4xx.h"
 638              		.file 11 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_list.h"
 639              		.file 12 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_err.h"
 640              		.file 13 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_tick.h"
 641              		.file 14 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_event.h"
 642              		.file 15 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_task.h"
 643              		.file 16 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/include/los_task.ph"
 644              		.file 17 "E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Inc/main.h"
 645              		.file 18 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_config.h"
 646              		.file 19 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/arch/arm/arm-m/include/los_hwi.h"
 647              		.file 20 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_membox.h"
ARM GAS  C:\Users\user\AppData\Local\Temp\ccSnT985.s 			page 18


DEFINED SYMBOLS
                            *ABS*:00000000 los_membox.c
C:\Users\user\AppData\Local\Temp\ccSnT985.s:18     .text.osCheckBoxMem:00000000 $t
C:\Users\user\AppData\Local\Temp\ccSnT985.s:24     .text.osCheckBoxMem:00000000 osCheckBoxMem
C:\Users\user\AppData\Local\Temp\ccSnT985.s:112    .text.osCheckBoxMem:0000006c $d
C:\Users\user\AppData\Local\Temp\ccSnT985.s:117    .text.LOS_MemboxInit:00000000 $t
C:\Users\user\AppData\Local\Temp\ccSnT985.s:124    .text.LOS_MemboxInit:00000000 LOS_MemboxInit
C:\Users\user\AppData\Local\Temp\ccSnT985.s:269    .text.LOS_MemboxAlloc:00000000 $t
C:\Users\user\AppData\Local\Temp\ccSnT985.s:276    .text.LOS_MemboxAlloc:00000000 LOS_MemboxAlloc
C:\Users\user\AppData\Local\Temp\ccSnT985.s:371    .text.LOS_MemboxAlloc:0000006c $d
C:\Users\user\AppData\Local\Temp\ccSnT985.s:376    .text.LOS_MemboxFree:00000000 $t
C:\Users\user\AppData\Local\Temp\ccSnT985.s:383    .text.LOS_MemboxFree:00000000 LOS_MemboxFree
C:\Users\user\AppData\Local\Temp\ccSnT985.s:480    .text.LOS_MemboxClr:00000000 $t
C:\Users\user\AppData\Local\Temp\ccSnT985.s:487    .text.LOS_MemboxClr:00000000 LOS_MemboxClr
C:\Users\user\AppData\Local\Temp\ccSnT985.s:543    .text.LOS_MemboxStatisticsGet:00000000 $t
C:\Users\user\AppData\Local\Temp\ccSnT985.s:550    .text.LOS_MemboxStatisticsGet:00000000 LOS_MemboxStatisticsGet

UNDEFINED SYMBOLS
LOS_IntLock
LOS_IntRestore
memset
