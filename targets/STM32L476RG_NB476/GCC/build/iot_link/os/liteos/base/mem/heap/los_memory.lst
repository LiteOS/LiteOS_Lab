ARM GAS  /tmp/ccrHIZjn.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"los_memory.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.LOS_MemInit,"ax",%progbits
  18              		.align	1
  19              		.global	LOS_MemInit
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	LOS_MemInit:
  27              	.LFB160:
  28              		.file 1 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c"
   1:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** /*----------------------------------------------------------------------------
   2:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * Copyright (c) <2018>, <Huawei Technologies Co., Ltd>
   3:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * All rights reserved.
   4:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * are permitted provided that the following conditions are met:
   6:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * conditions and the following disclaimer.
   8:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * provided with the distribution.
  11:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * to endorse or promote products derived from this software without specific prior written
  13:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * permission.
  14:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  *---------------------------------------------------------------------------*/
  26:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** /*----------------------------------------------------------------------------
  27:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * Notice of Export Control Law
  28:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * ===============================================
  29:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
ARM GAS  /tmp/ccrHIZjn.s 			page 2


  31:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  * applicable export control laws and regulations.
  33:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  *---------------------------------------------------------------------------*/
  34:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  35:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #include <los_config.h>
  36:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  37:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #if (LOSCFG_HEAP_IMPROVED == YES)
  38:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  39:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #include <string.h>
  40:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  41:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #include <mem.h>
  42:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #include <heap.h>
  43:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  44:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #ifdef LOSCFG_ENABLE_MPU
  45:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #include <los_task.ph>
  46:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #endif
  47:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  48:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #include <stdbool.h>
  49:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  50:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** /*****************************************************************************
  51:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Function : LOS_MemInit
  52:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Description : Initialize Dynamic Memory pool
  53:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Input       : pPool  --- Pointer to memory pool
  54:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****                uwSize --- Size of memory in bytes to allocate
  55:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Output      : None
  56:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Return      : LOS_OK - Ok, LOS_NOK - Error
  57:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** *****************************************************************************/
  58:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** UINT32 LOS_MemInit (VOID *pPool, UINT32 uwSize)
  59:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** {
  29              		.loc 1 59 1
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 16
  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 80B5     		push	{r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  38 0002 84B0     		sub	sp, sp, #16
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 24
  41 0004 00AF     		add	r7, sp, #0
  42              	.LCFI2:
  43              		.cfi_def_cfa_register 7
  44 0006 7860     		str	r0, [r7, #4]
  45 0008 3960     		str	r1, [r7]
  60:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     heap_t *                heap;
  61:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  62:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     uwSize -= (UINT32) pPool & ALLOC_ALIGN_MASK;
  46              		.loc 1 62 30
  47 000a 7B68     		ldr	r3, [r7, #4]
  48 000c 03F00303 		and	r3, r3, #3
  49              		.loc 1 62 12
  50 0010 3A68     		ldr	r2, [r7]
  51 0012 D31A     		subs	r3, r2, r3
  52 0014 3B60     		str	r3, [r7]
  63:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     uwSize &= ~ALLOC_ALIGN_MASK;
ARM GAS  /tmp/ccrHIZjn.s 			page 3


  53              		.loc 1 63 12
  54 0016 3B68     		ldr	r3, [r7]
  55 0018 23F00303 		bic	r3, r3, #3
  56 001c 3B60     		str	r3, [r7]
  64:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     pPool  = (char *) ((UINT32) pPool & ~ALLOC_ALIGN_MASK);
  57              		.loc 1 64 24
  58 001e 7B68     		ldr	r3, [r7, #4]
  59              		.loc 1 64 39
  60 0020 23F00303 		bic	r3, r3, #3
  61              		.loc 1 64 12
  62 0024 7B60     		str	r3, [r7, #4]
  65:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  66:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     if (pPool == NULL || uwSize <= sizeof(heap_t))
  63              		.loc 1 66 8
  64 0026 7B68     		ldr	r3, [r7, #4]
  65 0028 002B     		cmp	r3, #0
  66 002a 03D0     		beq	.L2
  67              		.loc 1 66 23 discriminator 1
  68 002c 3B68     		ldr	r3, [r7]
  69 002e B3F50C7F 		cmp	r3, #560
  70 0032 01D8     		bhi	.L3
  71              	.L2:
  67:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     {
  68:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****         return LOS_NOK;
  72              		.loc 1 68 16
  73 0034 0123     		movs	r3, #1
  74 0036 14E0     		b	.L4
  75              	.L3:
  69:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     }
  70:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  71:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     heap = (heap_t *) pPool;
  76              		.loc 1 71 10
  77 0038 7B68     		ldr	r3, [r7, #4]
  78 003a FB60     		str	r3, [r7, #12]
  72:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  73:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     heap_init (heap);
  79              		.loc 1 73 5
  80 003c F868     		ldr	r0, [r7, #12]
  81 003e FFF7FEFF 		bl	heap_init
  74:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  75:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     if (heap_add (heap, (char *) (heap + 1), uwSize - sizeof (heap_t)) != 0)
  82              		.loc 1 75 40
  83 0042 FB68     		ldr	r3, [r7, #12]
  84 0044 03F50C71 		add	r1, r3, #560
  85              		.loc 1 75 9
  86 0048 3B68     		ldr	r3, [r7]
  87 004a A3F50C73 		sub	r3, r3, #560
  88 004e 1A46     		mov	r2, r3
  89 0050 F868     		ldr	r0, [r7, #12]
  90 0052 FFF7FEFF 		bl	heap_add
  91 0056 0346     		mov	r3, r0
  92              		.loc 1 75 8
  93 0058 002B     		cmp	r3, #0
  94 005a 01D0     		beq	.L5
  76:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     {
  77:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****         return LOS_NOK;
  95              		.loc 1 77 16
ARM GAS  /tmp/ccrHIZjn.s 			page 4


  96 005c 0123     		movs	r3, #1
  97 005e 00E0     		b	.L4
  98              	.L5:
  78:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     }
  79:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  80:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     return LOS_OK;
  99              		.loc 1 80 12
 100 0060 0023     		movs	r3, #0
 101              	.L4:
  81:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** }
 102              		.loc 1 81 1
 103 0062 1846     		mov	r0, r3
 104 0064 1037     		adds	r7, r7, #16
 105              	.LCFI3:
 106              		.cfi_def_cfa_offset 8
 107 0066 BD46     		mov	sp, r7
 108              	.LCFI4:
 109              		.cfi_def_cfa_register 13
 110              		@ sp needed
 111 0068 80BD     		pop	{r7, pc}
 112              		.cfi_endproc
 113              	.LFE160:
 115              		.section	.text.osMemSystemInit,"ax",%progbits
 116              		.align	1
 117              		.global	osMemSystemInit
 118              		.syntax unified
 119              		.thumb
 120              		.thumb_func
 121              		.fpu fpv4-sp-d16
 123              	osMemSystemInit:
 124              	.LFB161:
  82:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  83:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** UINT32 osMemSystemInit(VOID)
  84:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** {
 125              		.loc 1 84 1
 126              		.cfi_startproc
 127              		@ args = 0, pretend = 0, frame = 8
 128              		@ frame_needed = 1, uses_anonymous_args = 0
 129 0000 80B5     		push	{r7, lr}
 130              	.LCFI5:
 131              		.cfi_def_cfa_offset 8
 132              		.cfi_offset 7, -8
 133              		.cfi_offset 14, -4
 134 0002 82B0     		sub	sp, sp, #8
 135              	.LCFI6:
 136              		.cfi_def_cfa_offset 16
 137 0004 00AF     		add	r7, sp, #0
 138              	.LCFI7:
 139              		.cfi_def_cfa_register 7
  85:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     UINT32                  uwRet;
  86:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     const struct phys_mem * spm = system_phys_mem;
 140              		.loc 1 86 29
 141 0006 1A4B     		ldr	r3, .L11
 142 0008 7B60     		str	r3, [r7, #4]
  87:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  88:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     uwRet = LOS_MemInit((VOID *)spm->start, (UINT32)(spm->end - spm->start));
 143              		.loc 1 88 36
ARM GAS  /tmp/ccrHIZjn.s 			page 5


 144 000a 7B68     		ldr	r3, [r7, #4]
 145 000c 1B68     		ldr	r3, [r3]
 146              		.loc 1 88 13
 147 000e 1846     		mov	r0, r3
 148              		.loc 1 88 57
 149 0010 7B68     		ldr	r3, [r7, #4]
 150 0012 5A68     		ldr	r2, [r3, #4]
 151              		.loc 1 88 68
 152 0014 7B68     		ldr	r3, [r7, #4]
 153 0016 1B68     		ldr	r3, [r3]
 154              		.loc 1 88 63
 155 0018 D31A     		subs	r3, r2, r3
 156              		.loc 1 88 13
 157 001a 1946     		mov	r1, r3
 158 001c FFF7FEFF 		bl	LOS_MemInit
 159 0020 3860     		str	r0, [r7]
  89:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  90:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     if (uwRet != LOS_OK)
 160              		.loc 1 90 8
 161 0022 3B68     		ldr	r3, [r7]
 162 0024 002B     		cmp	r3, #0
 163 0026 01D0     		beq	.L7
  91:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     {
  92:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****         return uwRet;
 164              		.loc 1 92 16
 165 0028 3B68     		ldr	r3, [r7]
 166 002a 1DE0     		b	.L8
 167              	.L7:
  93:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     }
  94:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  95:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     m_aucSysMem0 = (UINT8*) spm->start;
 168              		.loc 1 95 32
 169 002c 7B68     		ldr	r3, [r7, #4]
 170 002e 1B68     		ldr	r3, [r3]
 171              		.loc 1 95 20
 172 0030 1A46     		mov	r2, r3
 173              		.loc 1 95 18
 174 0032 104B     		ldr	r3, .L11+4
 175 0034 1A60     		str	r2, [r3]
  96:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  97:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     spm++;
 176              		.loc 1 97 8
 177 0036 7B68     		ldr	r3, [r7, #4]
 178 0038 0833     		adds	r3, r3, #8
 179 003a 7B60     		str	r3, [r7, #4]
  98:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
  99:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     while (spm->end)
 180              		.loc 1 99 11
 181 003c 0FE0     		b	.L9
 182              	.L10:
 100:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     {
 101:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****         heap_add ((heap_t *) m_aucSysMem0, (char *) spm->start,
 183              		.loc 1 101 9
 184 003e 0D4B     		ldr	r3, .L11+4
 185 0040 1868     		ldr	r0, [r3]
 186              		.loc 1 101 56
 187 0042 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccrHIZjn.s 			page 6


 188 0044 1B68     		ldr	r3, [r3]
 189              		.loc 1 101 9
 190 0046 1946     		mov	r1, r3
 102:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****                   (size_t) spm->end - spm->start);
 191              		.loc 1 102 31
 192 0048 7B68     		ldr	r3, [r7, #4]
 193 004a 5A68     		ldr	r2, [r3, #4]
 194              		.loc 1 102 42
 195 004c 7B68     		ldr	r3, [r7, #4]
 196 004e 1B68     		ldr	r3, [r3]
 197              		.loc 1 102 37
 198 0050 D31A     		subs	r3, r2, r3
 101:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****                   (size_t) spm->end - spm->start);
 199              		.loc 1 101 9
 200 0052 1A46     		mov	r2, r3
 201 0054 FFF7FEFF 		bl	heap_add
 103:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 104:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****         spm++;
 202              		.loc 1 104 12
 203 0058 7B68     		ldr	r3, [r7, #4]
 204 005a 0833     		adds	r3, r3, #8
 205 005c 7B60     		str	r3, [r7, #4]
 206              	.L9:
  99:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     {
 207              		.loc 1 99 15
 208 005e 7B68     		ldr	r3, [r7, #4]
 209 0060 5B68     		ldr	r3, [r3, #4]
  99:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     {
 210              		.loc 1 99 11
 211 0062 002B     		cmp	r3, #0
 212 0064 EBD1     		bne	.L10
 105:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     }
 106:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 107:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     return LOS_OK;
 213              		.loc 1 107 12
 214 0066 0023     		movs	r3, #0
 215              	.L8:
 108:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** }
 216              		.loc 1 108 1
 217 0068 1846     		mov	r0, r3
 218 006a 0837     		adds	r7, r7, #8
 219              	.LCFI8:
 220              		.cfi_def_cfa_offset 8
 221 006c BD46     		mov	sp, r7
 222              	.LCFI9:
 223              		.cfi_def_cfa_register 13
 224              		@ sp needed
 225 006e 80BD     		pop	{r7, pc}
 226              	.L12:
 227              		.align	2
 228              	.L11:
 229 0070 00000000 		.word	system_phys_mem
 230 0074 00000000 		.word	m_aucSysMem0
 231              		.cfi_endproc
 232              	.LFE161:
 234              		.section	.text.osHeapAllocAlign,"ax",%progbits
 235              		.align	1
ARM GAS  /tmp/ccrHIZjn.s 			page 7


 236              		.global	osHeapAllocAlign
 237              		.syntax unified
 238              		.thumb
 239              		.thumb_func
 240              		.fpu fpv4-sp-d16
 242              	osHeapAllocAlign:
 243              	.LFB162:
 109:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 110:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** /*****************************************************************************
 111:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Function : osHeapAllocAlign
 112:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Description : To alloc memory block from the heap memory poll with
 113:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Input       : VOID *pPool       --- Pointer to the manager,to distinguish heap
 114:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****                UINT32 uwSize     --- size of the heap memory pool
 115:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****                UINT32 uwBoundary --- boundary the heap needs align
 116:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Output      : None
 117:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Return      : NULL:error    other value:the address of the memory we alloced
 118:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** *****************************************************************************/
 119:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** LITE_OS_SEC_TEXT VOID* osHeapAllocAlign(VOID *pPool, UINT32 uwSize, UINT32 uwBoundary)
 120:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** {
 244              		.loc 1 120 1
 245              		.cfi_startproc
 246              		@ args = 0, pretend = 0, frame = 16
 247              		@ frame_needed = 1, uses_anonymous_args = 0
 248 0000 80B5     		push	{r7, lr}
 249              	.LCFI10:
 250              		.cfi_def_cfa_offset 8
 251              		.cfi_offset 7, -8
 252              		.cfi_offset 14, -4
 253 0002 84B0     		sub	sp, sp, #16
 254              	.LCFI11:
 255              		.cfi_def_cfa_offset 24
 256 0004 00AF     		add	r7, sp, #0
 257              	.LCFI12:
 258              		.cfi_def_cfa_register 7
 259 0006 F860     		str	r0, [r7, #12]
 260 0008 B960     		str	r1, [r7, #8]
 261 000a 7A60     		str	r2, [r7, #4]
 121:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     return heap_alloc_align ((heap_t *) pPool, uwBoundary, uwSize);
 262              		.loc 1 121 12
 263 000c BA68     		ldr	r2, [r7, #8]
 264 000e 7968     		ldr	r1, [r7, #4]
 265 0010 F868     		ldr	r0, [r7, #12]
 266 0012 FFF7FEFF 		bl	heap_alloc_align
 267 0016 0346     		mov	r3, r0
 122:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** }
 268              		.loc 1 122 1
 269 0018 1846     		mov	r0, r3
 270 001a 1037     		adds	r7, r7, #16
 271              	.LCFI13:
 272              		.cfi_def_cfa_offset 8
 273 001c BD46     		mov	sp, r7
 274              	.LCFI14:
 275              		.cfi_def_cfa_register 13
 276              		@ sp needed
 277 001e 80BD     		pop	{r7, pc}
 278              		.cfi_endproc
 279              	.LFE162:
ARM GAS  /tmp/ccrHIZjn.s 			page 8


 281              		.section	.text.osHeapAlloc,"ax",%progbits
 282              		.align	1
 283              		.global	osHeapAlloc
 284              		.syntax unified
 285              		.thumb
 286              		.thumb_func
 287              		.fpu fpv4-sp-d16
 289              	osHeapAlloc:
 290              	.LFB163:
 123:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 124:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** /*****************************************************************************
 125:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Function : osHeapAlloc
 126:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Description : To alloc memory block from the heap memory poll
 127:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Input       : VOID *pPool   --- Pointer to the manager,to distinguish heap
 128:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****                UINT32 uwSize --- size of the heap memory pool
 129:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Output      : None
 130:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Return      : NULL:error    other value:the address of the memory we alloced
 131:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** *****************************************************************************/
 132:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** VOID * osHeapAlloc (VOID * pPool, UINT32 uwSize)
 133:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** {
 291              		.loc 1 133 1
 292              		.cfi_startproc
 293              		@ args = 0, pretend = 0, frame = 8
 294              		@ frame_needed = 1, uses_anonymous_args = 0
 295 0000 80B5     		push	{r7, lr}
 296              	.LCFI15:
 297              		.cfi_def_cfa_offset 8
 298              		.cfi_offset 7, -8
 299              		.cfi_offset 14, -4
 300 0002 82B0     		sub	sp, sp, #8
 301              	.LCFI16:
 302              		.cfi_def_cfa_offset 16
 303 0004 00AF     		add	r7, sp, #0
 304              	.LCFI17:
 305              		.cfi_def_cfa_register 7
 306 0006 7860     		str	r0, [r7, #4]
 307 0008 3960     		str	r1, [r7]
 134:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     return heap_alloc ((heap_t *) pPool, uwSize);
 308              		.loc 1 134 12
 309 000a 3968     		ldr	r1, [r7]
 310 000c 7868     		ldr	r0, [r7, #4]
 311 000e FFF7FEFF 		bl	heap_alloc
 312 0012 0346     		mov	r3, r0
 135:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** }
 313              		.loc 1 135 1
 314 0014 1846     		mov	r0, r3
 315 0016 0837     		adds	r7, r7, #8
 316              	.LCFI18:
 317              		.cfi_def_cfa_offset 8
 318 0018 BD46     		mov	sp, r7
 319              	.LCFI19:
 320              		.cfi_def_cfa_register 13
 321              		@ sp needed
 322 001a 80BD     		pop	{r7, pc}
 323              		.cfi_endproc
 324              	.LFE163:
 326              		.section	.text.osHeapFree,"ax",%progbits
ARM GAS  /tmp/ccrHIZjn.s 			page 9


 327              		.align	1
 328              		.global	osHeapFree
 329              		.syntax unified
 330              		.thumb
 331              		.thumb_func
 332              		.fpu fpv4-sp-d16
 334              	osHeapFree:
 335              	.LFB164:
 136:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 137:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** /*****************************************************************************
 138:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Function : osHeapFree
 139:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Description : To free the  memory block from  heap memory poll
 140:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Input       : VOID* pPool --- Pointer to the manager,to distinguish heap
 141:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****                VOID* pPtr: --- the pointer of heap memory we want to free
 142:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Output      : None
 143:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Return      : 1:success 0:error
 144:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** *****************************************************************************/
 145:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** BOOL osHeapFree (VOID * pPool, VOID * pMem)
 146:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** {
 336              		.loc 1 146 1
 337              		.cfi_startproc
 338              		@ args = 0, pretend = 0, frame = 8
 339              		@ frame_needed = 1, uses_anonymous_args = 0
 340 0000 80B5     		push	{r7, lr}
 341              	.LCFI20:
 342              		.cfi_def_cfa_offset 8
 343              		.cfi_offset 7, -8
 344              		.cfi_offset 14, -4
 345 0002 82B0     		sub	sp, sp, #8
 346              	.LCFI21:
 347              		.cfi_def_cfa_offset 16
 348 0004 00AF     		add	r7, sp, #0
 349              	.LCFI22:
 350              		.cfi_def_cfa_register 7
 351 0006 7860     		str	r0, [r7, #4]
 352 0008 3960     		str	r1, [r7]
 147:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     if (heap_free ((heap_t *) pPool, pMem) != 0)
 353              		.loc 1 147 9
 354 000a 3968     		ldr	r1, [r7]
 355 000c 7868     		ldr	r0, [r7, #4]
 356 000e FFF7FEFF 		bl	heap_free
 357 0012 0346     		mov	r3, r0
 358              		.loc 1 147 8
 359 0014 002B     		cmp	r3, #0
 360 0016 01D0     		beq	.L18
 148:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     {
 149:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****         return FALSE;
 361              		.loc 1 149 16
 362 0018 0023     		movs	r3, #0
 363 001a 00E0     		b	.L19
 364              	.L18:
 150:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     }
 151:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 152:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     return TRUE;
 365              		.loc 1 152 12
 366 001c 0123     		movs	r3, #1
 367              	.L19:
ARM GAS  /tmp/ccrHIZjn.s 			page 10


 153:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** }
 368              		.loc 1 153 1
 369 001e 1846     		mov	r0, r3
 370 0020 0837     		adds	r7, r7, #8
 371              	.LCFI23:
 372              		.cfi_def_cfa_offset 8
 373 0022 BD46     		mov	sp, r7
 374              	.LCFI24:
 375              		.cfi_def_cfa_register 13
 376              		@ sp needed
 377 0024 80BD     		pop	{r7, pc}
 378              		.cfi_endproc
 379              	.LFE164:
 381              		.section	.text.osHeapRealloc,"ax",%progbits
 382              		.align	1
 383              		.global	osHeapRealloc
 384              		.syntax unified
 385              		.thumb
 386              		.thumb_func
 387              		.fpu fpv4-sp-d16
 389              	osHeapRealloc:
 390              	.LFB165:
 154:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 155:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** /*****************************************************************************
 156:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Function : osHeapRealloc
 157:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Description : realloc memory from heap memory pool
 158:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Input       : VOID* pPool --- Pointer to the manager,to distinguish heap
 159:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****                VOID* pPtr: --- the pointer of heap memory we want to free
 160:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Output      : None
 161:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Return      : Pointer to allocated memory node
 162:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** *****************************************************************************/
 163:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** VOID *osHeapRealloc(VOID * pPool, VOID *pPtr, UINT32 uwSize)
 164:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** {
 391              		.loc 1 164 1
 392              		.cfi_startproc
 393              		@ args = 0, pretend = 0, frame = 16
 394              		@ frame_needed = 1, uses_anonymous_args = 0
 395 0000 80B5     		push	{r7, lr}
 396              	.LCFI25:
 397              		.cfi_def_cfa_offset 8
 398              		.cfi_offset 7, -8
 399              		.cfi_offset 14, -4
 400 0002 84B0     		sub	sp, sp, #16
 401              	.LCFI26:
 402              		.cfi_def_cfa_offset 24
 403 0004 00AF     		add	r7, sp, #0
 404              	.LCFI27:
 405              		.cfi_def_cfa_register 7
 406 0006 F860     		str	r0, [r7, #12]
 407 0008 B960     		str	r1, [r7, #8]
 408 000a 7A60     		str	r2, [r7, #4]
 165:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     return heap_realloc ((heap_t *) pPool, pPtr, uwSize);
 409              		.loc 1 165 12
 410 000c 7A68     		ldr	r2, [r7, #4]
 411 000e B968     		ldr	r1, [r7, #8]
 412 0010 F868     		ldr	r0, [r7, #12]
 413 0012 FFF7FEFF 		bl	heap_realloc
ARM GAS  /tmp/ccrHIZjn.s 			page 11


 414 0016 0346     		mov	r3, r0
 166:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** }
 415              		.loc 1 166 1
 416 0018 1846     		mov	r0, r3
 417 001a 1037     		adds	r7, r7, #16
 418              	.LCFI28:
 419              		.cfi_def_cfa_offset 8
 420 001c BD46     		mov	sp, r7
 421              	.LCFI29:
 422              		.cfi_def_cfa_register 13
 423              		@ sp needed
 424 001e 80BD     		pop	{r7, pc}
 425              		.cfi_endproc
 426              	.LFE165:
 428              		.section	.text.LOS_MemAlloc,"ax",%progbits
 429              		.align	1
 430              		.global	LOS_MemAlloc
 431              		.syntax unified
 432              		.thumb
 433              		.thumb_func
 434              		.fpu fpv4-sp-d16
 436              	LOS_MemAlloc:
 437              	.LFB166:
 167:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 168:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** /*****************************************************************************
 169:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Function : LOS_MemAlloc
 170:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Description : Allocate Memory from Memory pool
 171:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Input       : pPool  --- Pointer to memory pool
 172:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****                uwSize --- Size of memory in bytes to allocate
 173:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Output      : None
 174:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Return      : Pointer to allocated memory
 175:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** *****************************************************************************/
 176:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** LITE_OS_SEC_TEXT VOID *LOS_MemAlloc (VOID *pPool, UINT32 uwSize)
 177:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** {
 438              		.loc 1 177 1
 439              		.cfi_startproc
 440              		@ args = 0, pretend = 0, frame = 16
 441              		@ frame_needed = 1, uses_anonymous_args = 0
 442 0000 80B5     		push	{r7, lr}
 443              	.LCFI30:
 444              		.cfi_def_cfa_offset 8
 445              		.cfi_offset 7, -8
 446              		.cfi_offset 14, -4
 447 0002 84B0     		sub	sp, sp, #16
 448              	.LCFI31:
 449              		.cfi_def_cfa_offset 24
 450 0004 00AF     		add	r7, sp, #0
 451              	.LCFI32:
 452              		.cfi_def_cfa_register 7
 453 0006 7860     		str	r0, [r7, #4]
 454 0008 3960     		str	r1, [r7]
 178:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     VOID *pRet = NULL;
 455              		.loc 1 178 11
 456 000a 0023     		movs	r3, #0
 457 000c FB60     		str	r3, [r7, #12]
 179:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 180:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     if (0 == uwSize)
ARM GAS  /tmp/ccrHIZjn.s 			page 12


 458              		.loc 1 180 8
 459 000e 3B68     		ldr	r3, [r7]
 460 0010 002B     		cmp	r3, #0
 461 0012 01D1     		bne	.L23
 181:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     {
 182:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****         return pRet;
 462              		.loc 1 182 16
 463 0014 FB68     		ldr	r3, [r7, #12]
 464 0016 12E0     		b	.L24
 465              	.L23:
 183:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     }
 184:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 185:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     if (NULL == pPool)
 466              		.loc 1 185 8
 467 0018 7B68     		ldr	r3, [r7, #4]
 468 001a 002B     		cmp	r3, #0
 469 001c 01D1     		bne	.L25
 186:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     {
 187:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #if (LOSCFG_ENABLE_MPU == YES)
 188:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****         pPool = g_stLosTask.pstRunTask->pPool;
 189:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #else
 190:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****         return pRet;
 470              		.loc 1 190 16
 471 001e FB68     		ldr	r3, [r7, #12]
 472 0020 0DE0     		b	.L24
 473              	.L25:
 191:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #endif
 192:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     }
 193:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 194:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #if (LOSCFG_KERNEL_MEM_SLAB == YES)
 195:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     pRet = osSlabMemAlloc(pPool, uwSize);
 474              		.loc 1 195 12
 475 0022 3968     		ldr	r1, [r7]
 476 0024 7868     		ldr	r0, [r7, #4]
 477 0026 FFF7FEFF 		bl	osSlabMemAlloc
 478 002a F860     		str	r0, [r7, #12]
 196:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     if(pRet == NULL)
 479              		.loc 1 196 7
 480 002c FB68     		ldr	r3, [r7, #12]
 481 002e 002B     		cmp	r3, #0
 482 0030 04D1     		bne	.L26
 197:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #endif
 198:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****         pRet = osHeapAlloc((heap_t *) pPool, uwSize);
 483              		.loc 1 198 16
 484 0032 3968     		ldr	r1, [r7]
 485 0034 7868     		ldr	r0, [r7, #4]
 486 0036 FFF7FEFF 		bl	osHeapAlloc
 487 003a F860     		str	r0, [r7, #12]
 488              	.L26:
 199:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 200:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     return pRet;
 489              		.loc 1 200 12
 490 003c FB68     		ldr	r3, [r7, #12]
 491              	.L24:
 201:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** }
 492              		.loc 1 201 1
 493 003e 1846     		mov	r0, r3
ARM GAS  /tmp/ccrHIZjn.s 			page 13


 494 0040 1037     		adds	r7, r7, #16
 495              	.LCFI33:
 496              		.cfi_def_cfa_offset 8
 497 0042 BD46     		mov	sp, r7
 498              	.LCFI34:
 499              		.cfi_def_cfa_register 13
 500              		@ sp needed
 501 0044 80BD     		pop	{r7, pc}
 502              		.cfi_endproc
 503              	.LFE166:
 505              		.section	.text.LOS_MemAllocAlign,"ax",%progbits
 506              		.align	1
 507              		.global	LOS_MemAllocAlign
 508              		.syntax unified
 509              		.thumb
 510              		.thumb_func
 511              		.fpu fpv4-sp-d16
 513              	LOS_MemAllocAlign:
 514              	.LFB167:
 202:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 203:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** /*****************************************************************************
 204:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Function : LOS_MemAllocAlign
 205:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Description : align size then allocate node from Memory pool
 206:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Input       : pPool      --- Pointer to memory pool
 207:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****                uwSize     --- Size of memory in bytes to allocate
 208:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****                uwBoundary --- align form
 209:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Output      : None
 210:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Return      : Pointer to allocated memory node
 211:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** *****************************************************************************/
 212:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** LITE_OS_SEC_TEXT VOID *LOS_MemAllocAlign(VOID *pPool, UINT32 uwSize, UINT32 uwBoundary)
 213:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** {
 515              		.loc 1 213 1
 516              		.cfi_startproc
 517              		@ args = 0, pretend = 0, frame = 16
 518              		@ frame_needed = 1, uses_anonymous_args = 0
 519 0000 80B5     		push	{r7, lr}
 520              	.LCFI35:
 521              		.cfi_def_cfa_offset 8
 522              		.cfi_offset 7, -8
 523              		.cfi_offset 14, -4
 524 0002 84B0     		sub	sp, sp, #16
 525              	.LCFI36:
 526              		.cfi_def_cfa_offset 24
 527 0004 00AF     		add	r7, sp, #0
 528              	.LCFI37:
 529              		.cfi_def_cfa_register 7
 530 0006 F860     		str	r0, [r7, #12]
 531 0008 B960     		str	r1, [r7, #8]
 532 000a 7A60     		str	r2, [r7, #4]
 214:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     return osHeapAllocAlign((heap_t *) pPool, uwSize, uwBoundary);
 533              		.loc 1 214 12
 534 000c 7A68     		ldr	r2, [r7, #4]
 535 000e B968     		ldr	r1, [r7, #8]
 536 0010 F868     		ldr	r0, [r7, #12]
 537 0012 FFF7FEFF 		bl	osHeapAllocAlign
 538 0016 0346     		mov	r3, r0
 215:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** }
ARM GAS  /tmp/ccrHIZjn.s 			page 14


 539              		.loc 1 215 1
 540 0018 1846     		mov	r0, r3
 541 001a 1037     		adds	r7, r7, #16
 542              	.LCFI38:
 543              		.cfi_def_cfa_offset 8
 544 001c BD46     		mov	sp, r7
 545              	.LCFI39:
 546              		.cfi_def_cfa_register 13
 547              		@ sp needed
 548 001e 80BD     		pop	{r7, pc}
 549              		.cfi_endproc
 550              	.LFE167:
 552              		.section	.text.LOS_MemRealloc,"ax",%progbits
 553              		.align	1
 554              		.global	LOS_MemRealloc
 555              		.syntax unified
 556              		.thumb
 557              		.thumb_func
 558              		.fpu fpv4-sp-d16
 560              	LOS_MemRealloc:
 561              	.LFB168:
 216:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 217:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** /*****************************************************************************
 218:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Function : LOS_MemRealloc
 219:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Description : realloc memory from Memory pool
 220:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Input       : pPool  --- Pointer to memory pool
 221:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****                pPtr   --- Pointer to memory
 222:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****                uwSize --- new size
 223:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Output      : None
 224:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Return      : Pointer to allocated memory node
 225:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** *****************************************************************************/
 226:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** LITE_OS_SEC_TEXT_MINOR VOID *LOS_MemRealloc(VOID *pPool, VOID *pPtr, UINT32 uwSize)
 227:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** {
 562              		.loc 1 227 1
 563              		.cfi_startproc
 564              		@ args = 0, pretend = 0, frame = 16
 565              		@ frame_needed = 1, uses_anonymous_args = 0
 566 0000 80B5     		push	{r7, lr}
 567              	.LCFI40:
 568              		.cfi_def_cfa_offset 8
 569              		.cfi_offset 7, -8
 570              		.cfi_offset 14, -4
 571 0002 84B0     		sub	sp, sp, #16
 572              	.LCFI41:
 573              		.cfi_def_cfa_offset 24
 574 0004 00AF     		add	r7, sp, #0
 575              	.LCFI42:
 576              		.cfi_def_cfa_register 7
 577 0006 F860     		str	r0, [r7, #12]
 578 0008 B960     		str	r1, [r7, #8]
 579 000a 7A60     		str	r2, [r7, #4]
 228:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     return osHeapRealloc((heap_t *) pPool, pPtr, uwSize);
 580              		.loc 1 228 12
 581 000c 7A68     		ldr	r2, [r7, #4]
 582 000e B968     		ldr	r1, [r7, #8]
 583 0010 F868     		ldr	r0, [r7, #12]
 584 0012 FFF7FEFF 		bl	osHeapRealloc
ARM GAS  /tmp/ccrHIZjn.s 			page 15


 585 0016 0346     		mov	r3, r0
 229:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** }
 586              		.loc 1 229 1
 587 0018 1846     		mov	r0, r3
 588 001a 1037     		adds	r7, r7, #16
 589              	.LCFI43:
 590              		.cfi_def_cfa_offset 8
 591 001c BD46     		mov	sp, r7
 592              	.LCFI44:
 593              		.cfi_def_cfa_register 13
 594              		@ sp needed
 595 001e 80BD     		pop	{r7, pc}
 596              		.cfi_endproc
 597              	.LFE168:
 599              		.section	.text.LOS_MemFree,"ax",%progbits
 600              		.align	1
 601              		.global	LOS_MemFree
 602              		.syntax unified
 603              		.thumb
 604              		.thumb_func
 605              		.fpu fpv4-sp-d16
 607              	LOS_MemFree:
 608              	.LFB169:
 230:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 231:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** /*****************************************************************************
 232:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Function : LOS_MemFree
 233:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Description : Free Memory and return it to Memory pool
 234:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Input       : pPool --- Pointer to memory pool
 235:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****                pMem  --- Pointer to memory to free
 236:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Output      : None
 237:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****  Return      : LOS_OK - OK, LOS_NOK - Error
 238:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** *****************************************************************************/
 239:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** LITE_OS_SEC_TEXT UINT32 LOS_MemFree (VOID *pPool, VOID *pMem)
 240:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** {
 609              		.loc 1 240 1
 610              		.cfi_startproc
 611              		@ args = 0, pretend = 0, frame = 16
 612              		@ frame_needed = 1, uses_anonymous_args = 0
 613 0000 80B5     		push	{r7, lr}
 614              	.LCFI45:
 615              		.cfi_def_cfa_offset 8
 616              		.cfi_offset 7, -8
 617              		.cfi_offset 14, -4
 618 0002 84B0     		sub	sp, sp, #16
 619              	.LCFI46:
 620              		.cfi_def_cfa_offset 24
 621 0004 00AF     		add	r7, sp, #0
 622              	.LCFI47:
 623              		.cfi_def_cfa_register 7
 624 0006 7860     		str	r0, [r7, #4]
 625 0008 3960     		str	r1, [r7]
 241:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     BOOL bRet = FALSE;
 626              		.loc 1 241 10
 627 000a 0023     		movs	r3, #0
 628 000c FB60     		str	r3, [r7, #12]
 242:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 243:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     if ((NULL == pPool) || (NULL == pMem))
ARM GAS  /tmp/ccrHIZjn.s 			page 16


 629              		.loc 1 243 8
 630 000e 7B68     		ldr	r3, [r7, #4]
 631 0010 002B     		cmp	r3, #0
 632 0012 02D0     		beq	.L32
 633              		.loc 1 243 25 discriminator 1
 634 0014 3B68     		ldr	r3, [r7]
 635 0016 002B     		cmp	r3, #0
 636 0018 01D1     		bne	.L33
 637              	.L32:
 244:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     {
 245:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****         return LOS_NOK;
 638              		.loc 1 245 16
 639 001a 0123     		movs	r3, #1
 640 001c 12E0     		b	.L34
 641              	.L33:
 246:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     }
 247:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 248:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #if (LOSCFG_KERNEL_MEM_SLAB == YES)
 249:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     bRet = osSlabMemFree(pPool, pMem);
 642              		.loc 1 249 12
 643 001e 3968     		ldr	r1, [r7]
 644 0020 7868     		ldr	r0, [r7, #4]
 645 0022 FFF7FEFF 		bl	osSlabMemFree
 646 0026 F860     		str	r0, [r7, #12]
 250:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     if(bRet != TRUE)
 647              		.loc 1 250 7
 648 0028 FB68     		ldr	r3, [r7, #12]
 649 002a 012B     		cmp	r3, #1
 650 002c 04D0     		beq	.L35
 251:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #endif
 252:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****         bRet = osHeapFree((heap_t *) pPool, pMem);
 651              		.loc 1 252 16
 652 002e 3968     		ldr	r1, [r7]
 653 0030 7868     		ldr	r0, [r7, #4]
 654 0032 FFF7FEFF 		bl	osHeapFree
 655 0036 F860     		str	r0, [r7, #12]
 656              	.L35:
 253:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 254:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     return (bRet == TRUE ? LOS_OK : LOS_NOK);
 657              		.loc 1 254 35
 658 0038 FB68     		ldr	r3, [r7, #12]
 659 003a 012B     		cmp	r3, #1
 660 003c 14BF     		ite	ne
 661 003e 0123     		movne	r3, #1
 662 0040 0023     		moveq	r3, #0
 663 0042 DBB2     		uxtb	r3, r3
 664              	.L34:
 255:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** }
 665              		.loc 1 255 1
 666 0044 1846     		mov	r0, r3
 667 0046 1037     		adds	r7, r7, #16
 668              	.LCFI48:
 669              		.cfi_def_cfa_offset 8
 670 0048 BD46     		mov	sp, r7
 671              	.LCFI49:
 672              		.cfi_def_cfa_register 13
 673              		@ sp needed
ARM GAS  /tmp/ccrHIZjn.s 			page 17


 674 004a 80BD     		pop	{r7, pc}
 675              		.cfi_endproc
 676              	.LFE169:
 678              		.section	.text.osSlabCtrlHdrGet,"ax",%progbits
 679              		.align	1
 680              		.global	osSlabCtrlHdrGet
 681              		.syntax unified
 682              		.thumb
 683              		.thumb_func
 684              		.fpu fpv4-sp-d16
 686              	osSlabCtrlHdrGet:
 687              	.LFB170:
 256:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 257:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** VOID * osSlabCtrlHdrGet (VOID * pPool)
 258:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** {
 688              		.loc 1 258 1
 689              		.cfi_startproc
 690              		@ args = 0, pretend = 0, frame = 8
 691              		@ frame_needed = 1, uses_anonymous_args = 0
 692              		@ link register save eliminated.
 693 0000 80B4     		push	{r7}
 694              	.LCFI50:
 695              		.cfi_def_cfa_offset 4
 696              		.cfi_offset 7, -4
 697 0002 83B0     		sub	sp, sp, #12
 698              	.LCFI51:
 699              		.cfi_def_cfa_offset 16
 700 0004 00AF     		add	r7, sp, #0
 701              	.LCFI52:
 702              		.cfi_def_cfa_register 7
 703 0006 7860     		str	r0, [r7, #4]
 259:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #if (LOSCFG_KERNEL_MEM_SLAB == YES)
 260:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     return &((heap_t *)pPool)->stSlabCtrlHdr;
 704              		.loc 1 260 12
 705 0008 7B68     		ldr	r3, [r7, #4]
 706 000a 03F5F873 		add	r3, r3, #496
 261:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #else
 262:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     return NULL;
 263:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** #endif
 264:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** }
 707              		.loc 1 264 1
 708 000e 1846     		mov	r0, r3
 709 0010 0C37     		adds	r7, r7, #12
 710              	.LCFI53:
 711              		.cfi_def_cfa_offset 4
 712 0012 BD46     		mov	sp, r7
 713              	.LCFI54:
 714              		.cfi_def_cfa_register 13
 715              		@ sp needed
 716 0014 5DF8047B 		ldr	r7, [sp], #4
 717              	.LCFI55:
 718              		.cfi_restore 7
 719              		.cfi_def_cfa_offset 0
 720 0018 7047     		bx	lr
 721              		.cfi_endproc
 722              	.LFE170:
 724              		.section	.text.LOS_MemInfo,"ax",%progbits
ARM GAS  /tmp/ccrHIZjn.s 			page 18


 725              		.align	1
 726              		.global	LOS_MemInfo
 727              		.syntax unified
 728              		.thumb
 729              		.thumb_func
 730              		.fpu fpv4-sp-d16
 732              	LOS_MemInfo:
 733              	.LFB171:
 265:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 266:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** VOID LOS_MemInfo (VOID * pPool, BOOL bShowDetail)
 267:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     {
 734              		.loc 1 267 5
 735              		.cfi_startproc
 736              		@ args = 0, pretend = 0, frame = 16
 737              		@ frame_needed = 1, uses_anonymous_args = 0
 738 0000 80B5     		push	{r7, lr}
 739              	.LCFI56:
 740              		.cfi_def_cfa_offset 8
 741              		.cfi_offset 7, -8
 742              		.cfi_offset 14, -4
 743 0002 84B0     		sub	sp, sp, #16
 744              	.LCFI57:
 745              		.cfi_def_cfa_offset 24
 746 0004 00AF     		add	r7, sp, #0
 747              	.LCFI58:
 748              		.cfi_def_cfa_register 7
 749 0006 7860     		str	r0, [r7, #4]
 750 0008 3960     		str	r1, [r7]
 268:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     heap_t * pHeap = pPool == NULL ? (heap_t *) m_aucSysMem0 : (heap_t *) pPool;
 751              		.loc 1 268 62
 752 000a 7B68     		ldr	r3, [r7, #4]
 753 000c 002B     		cmp	r3, #0
 754 000e 02D1     		bne	.L39
 755              		.loc 1 268 62 is_stmt 0 discriminator 1
 756 0010 094B     		ldr	r3, .L41
 757 0012 1B68     		ldr	r3, [r3]
 758 0014 00E0     		b	.L40
 759              	.L39:
 760              		.loc 1 268 62 discriminator 2
 761 0016 7B68     		ldr	r3, [r7, #4]
 762              	.L40:
 763              		.loc 1 268 14 is_stmt 1 discriminator 4
 764 0018 FB60     		str	r3, [r7, #12]
 269:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c **** 
 270:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     __dump_heap (pHeap, (bool)bShowDetail);
 765              		.loc 1 270 5 discriminator 4
 766 001a 3B68     		ldr	r3, [r7]
 767 001c 002B     		cmp	r3, #0
 768 001e 14BF     		ite	ne
 769 0020 0123     		movne	r3, #1
 770 0022 0023     		moveq	r3, #0
 771 0024 DBB2     		uxtb	r3, r3
 772 0026 1946     		mov	r1, r3
 773 0028 F868     		ldr	r0, [r7, #12]
 774 002a FFF7FEFF 		bl	__dump_heap
 271:/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/mem/heap/los_memory.c ****     }
 775              		.loc 1 271 5 discriminator 4
ARM GAS  /tmp/ccrHIZjn.s 			page 19


 776 002e 00BF     		nop
 777 0030 1037     		adds	r7, r7, #16
 778              	.LCFI59:
 779              		.cfi_def_cfa_offset 8
 780 0032 BD46     		mov	sp, r7
 781              	.LCFI60:
 782              		.cfi_def_cfa_register 13
 783              		@ sp needed
 784 0034 80BD     		pop	{r7, pc}
 785              	.L42:
 786 0036 00BF     		.align	2
 787              	.L41:
 788 0038 00000000 		.word	m_aucSysMem0
 789              		.cfi_endproc
 790              	.LFE171:
 792              		.text
 793              	.Letext0:
 794              		.file 2 "/home/fanxinhao/toolchain/gcc-arm-none-eabi-9-2019-q4-major/lib/gcc/arm-none-eabi/9.2.1/i
 795              		.file 3 "/home/fanxinhao/toolchain/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/machine
 796              		.file 4 "/home/fanxinhao/toolchain/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/sys/loc
 797              		.file 5 "/home/fanxinhao/toolchain/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/sys/_ty
 798              		.file 6 "/home/fanxinhao/toolchain/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/sys/ree
 799              		.file 7 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/include/los_typedef.h"
 800              		.file 8 "/home/fanxinhao/toolchain/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/sys/_st
 801              		.file 9 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/arch/arm/common/cmsis/core_cm4.h"
 802              		.file 10 "/home/fanxinhao/Work/LiteOS_Lab_2/targets/STM32L476RG_NB476/Inc/system_stm32l4xx.h"
 803              		.file 11 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/include/los_config.h"
 804              		.file 12 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/include/los_list.h"
 805              		.file 13 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/include/los_err.h"
 806              		.file 14 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/arch/arm/arm-m/include/los_hwi.h"
 807              		.file 15 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/include/los_tick.h"
 808              		.file 16 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/include/los_event.h"
 809              		.file 17 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/include/los_task.h"
 810              		.file 18 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/include/los_slab.ph"
 811              		.file 19 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/include/list.h"
 812              		.file 20 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/include/chunk.h"
 813              		.file 21 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/include/cm-tlsf.h"
 814              		.file 22 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/include/heap.h"
 815              		.file 23 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/include/mem.h"
 816              		.file 24 "/home/fanxinhao/Work/LiteOS_Lab_2/iot_link/os/liteos/base/include/los_task.ph"
ARM GAS  /tmp/ccrHIZjn.s 			page 20


DEFINED SYMBOLS
                            *ABS*:0000000000000000 los_memory.c
     /tmp/ccrHIZjn.s:18     .text.LOS_MemInit:0000000000000000 $t
     /tmp/ccrHIZjn.s:26     .text.LOS_MemInit:0000000000000000 LOS_MemInit
     /tmp/ccrHIZjn.s:116    .text.osMemSystemInit:0000000000000000 $t
     /tmp/ccrHIZjn.s:123    .text.osMemSystemInit:0000000000000000 osMemSystemInit
     /tmp/ccrHIZjn.s:229    .text.osMemSystemInit:0000000000000070 $d
     /tmp/ccrHIZjn.s:235    .text.osHeapAllocAlign:0000000000000000 $t
     /tmp/ccrHIZjn.s:242    .text.osHeapAllocAlign:0000000000000000 osHeapAllocAlign
     /tmp/ccrHIZjn.s:282    .text.osHeapAlloc:0000000000000000 $t
     /tmp/ccrHIZjn.s:289    .text.osHeapAlloc:0000000000000000 osHeapAlloc
     /tmp/ccrHIZjn.s:327    .text.osHeapFree:0000000000000000 $t
     /tmp/ccrHIZjn.s:334    .text.osHeapFree:0000000000000000 osHeapFree
     /tmp/ccrHIZjn.s:382    .text.osHeapRealloc:0000000000000000 $t
     /tmp/ccrHIZjn.s:389    .text.osHeapRealloc:0000000000000000 osHeapRealloc
     /tmp/ccrHIZjn.s:429    .text.LOS_MemAlloc:0000000000000000 $t
     /tmp/ccrHIZjn.s:436    .text.LOS_MemAlloc:0000000000000000 LOS_MemAlloc
     /tmp/ccrHIZjn.s:506    .text.LOS_MemAllocAlign:0000000000000000 $t
     /tmp/ccrHIZjn.s:513    .text.LOS_MemAllocAlign:0000000000000000 LOS_MemAllocAlign
     /tmp/ccrHIZjn.s:553    .text.LOS_MemRealloc:0000000000000000 $t
     /tmp/ccrHIZjn.s:560    .text.LOS_MemRealloc:0000000000000000 LOS_MemRealloc
     /tmp/ccrHIZjn.s:600    .text.LOS_MemFree:0000000000000000 $t
     /tmp/ccrHIZjn.s:607    .text.LOS_MemFree:0000000000000000 LOS_MemFree
     /tmp/ccrHIZjn.s:679    .text.osSlabCtrlHdrGet:0000000000000000 $t
     /tmp/ccrHIZjn.s:686    .text.osSlabCtrlHdrGet:0000000000000000 osSlabCtrlHdrGet
     /tmp/ccrHIZjn.s:725    .text.LOS_MemInfo:0000000000000000 $t
     /tmp/ccrHIZjn.s:732    .text.LOS_MemInfo:0000000000000000 LOS_MemInfo
     /tmp/ccrHIZjn.s:788    .text.LOS_MemInfo:0000000000000038 $d

UNDEFINED SYMBOLS
heap_init
heap_add
system_phys_mem
m_aucSysMem0
heap_alloc_align
heap_alloc
heap_free
heap_realloc
osSlabMemAlloc
osSlabMemFree
__dump_heap
