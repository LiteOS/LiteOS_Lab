ARM GAS  /tmp/ccBtvIog.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"los_heap.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.dlist_init,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	dlist_init:
  26              	.LFB133:
  27              		.file 1 "/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h"
   1:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** /*----------------------------------------------------------------------------
   2:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * Copyright (c) <2018>, <Huawei Technologies Co., Ltd>
   3:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * All rights reserved.
   4:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * Redistribution and use in source and binary forms, with or without modification,
   5:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * are permitted provided that the following conditions are met:
   6:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * conditions and the following disclaimer.
   8:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * provided with the distribution.
  11:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * to endorse or promote products derived from this software without specific prior written
  13:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * permission.
  14:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  *---------------------------------------------------------------------------*/
  26:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** /*----------------------------------------------------------------------------
  27:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * Notice of Export Control Law
  28:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * ===============================================
  29:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
ARM GAS  /tmp/ccBtvIog.s 			page 2


  32:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * applicable export control laws and regulations.
  33:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  *---------------------------------------------------------------------------*/
  34:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  35:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** #ifndef __LIST_H__
  36:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** #define __LIST_H__
  37:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  38:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** /* double list */
  39:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  40:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** typedef struct dlist
  41:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     {
  42:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     struct dlist * prev, * next;
  43:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     } dlist_t;
  44:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  45:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** /* macros */
  46:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  47:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** /**
  48:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * DLIST_INIT - create a empty list head body
  49:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  */
  50:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  51:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** #define DLIST_INIT(h)           { &(h), &(h) }
  52:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  53:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** /**
  54:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * DLIST_DEF - define a empty list head
  55:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  */
  56:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  57:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** #define DLIST_DEF(name)         dlist_t name = DLIST_INIT (name)
  58:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  59:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** /* inlines */
  60:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  61:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** /* list operations */
  62:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  63:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** static inline void dlist_init (dlist_t * head)
  64:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     {
  28              		.loc 1 64 5
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33 0000 80B4     		push	{r7}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 7, -4
  37 0002 83B0     		sub	sp, sp, #12
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 16
  40 0004 00AF     		add	r7, sp, #0
  41              	.LCFI2:
  42              		.cfi_def_cfa_register 7
  43 0006 7860     		str	r0, [r7, #4]
  65:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     head->prev = head->next = head;
  44              		.loc 1 65 29
  45 0008 7B68     		ldr	r3, [r7, #4]
  46 000a 7A68     		ldr	r2, [r7, #4]
  47 000c 5A60     		str	r2, [r3, #4]
  48              		.loc 1 65 22
  49 000e 7B68     		ldr	r3, [r7, #4]
  50 0010 5A68     		ldr	r2, [r3, #4]
ARM GAS  /tmp/ccBtvIog.s 			page 3


  51              		.loc 1 65 16
  52 0012 7B68     		ldr	r3, [r7, #4]
  53 0014 1A60     		str	r2, [r3]
  66:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     }
  54              		.loc 1 66 5
  55 0016 00BF     		nop
  56 0018 0C37     		adds	r7, r7, #12
  57              	.LCFI3:
  58              		.cfi_def_cfa_offset 4
  59 001a BD46     		mov	sp, r7
  60              	.LCFI4:
  61              		.cfi_def_cfa_register 13
  62              		@ sp needed
  63 001c 5DF8047B 		ldr	r7, [sp], #4
  64              	.LCFI5:
  65              		.cfi_restore 7
  66              		.cfi_def_cfa_offset 0
  67 0020 7047     		bx	lr
  68              		.cfi_endproc
  69              	.LFE133:
  71              		.section	.text.__dlist_add_at,"ax",%progbits
  72              		.align	1
  73              		.syntax unified
  74              		.thumb
  75              		.thumb_func
  76              		.fpu fpv4-sp-d16
  78              	__dlist_add_at:
  79              	.LFB134:
  67:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  68:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** /**
  69:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * __dlist_add_at - insert a new entry between two known consecutive entries
  70:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  *
  71:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * This is only for internal list manipulation where we know
  72:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * the prev/next entries already!
  73:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  */
  74:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  75:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** static inline void __dlist_add_at (dlist_t * prev, dlist_t * next, dlist_t * new)
  76:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     {
  80              		.loc 1 76 5
  81              		.cfi_startproc
  82              		@ args = 0, pretend = 0, frame = 16
  83              		@ frame_needed = 1, uses_anonymous_args = 0
  84              		@ link register save eliminated.
  85 0000 80B4     		push	{r7}
  86              	.LCFI6:
  87              		.cfi_def_cfa_offset 4
  88              		.cfi_offset 7, -4
  89 0002 85B0     		sub	sp, sp, #20
  90              	.LCFI7:
  91              		.cfi_def_cfa_offset 24
  92 0004 00AF     		add	r7, sp, #0
  93              	.LCFI8:
  94              		.cfi_def_cfa_register 7
  95 0006 F860     		str	r0, [r7, #12]
  96 0008 B960     		str	r1, [r7, #8]
  97 000a 7A60     		str	r2, [r7, #4]
  77:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     new->prev  = prev;
ARM GAS  /tmp/ccBtvIog.s 			page 4


  98              		.loc 1 77 16
  99 000c 7B68     		ldr	r3, [r7, #4]
 100 000e FA68     		ldr	r2, [r7, #12]
 101 0010 1A60     		str	r2, [r3]
  78:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     new->next  = next;
 102              		.loc 1 78 16
 103 0012 7B68     		ldr	r3, [r7, #4]
 104 0014 BA68     		ldr	r2, [r7, #8]
 105 0016 5A60     		str	r2, [r3, #4]
  79:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     prev->next = new;
 106              		.loc 1 79 16
 107 0018 FB68     		ldr	r3, [r7, #12]
 108 001a 7A68     		ldr	r2, [r7, #4]
 109 001c 5A60     		str	r2, [r3, #4]
  80:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     next->prev = new;
 110              		.loc 1 80 16
 111 001e BB68     		ldr	r3, [r7, #8]
 112 0020 7A68     		ldr	r2, [r7, #4]
 113 0022 1A60     		str	r2, [r3]
  81:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     }
 114              		.loc 1 81 5
 115 0024 00BF     		nop
 116 0026 1437     		adds	r7, r7, #20
 117              	.LCFI9:
 118              		.cfi_def_cfa_offset 4
 119 0028 BD46     		mov	sp, r7
 120              	.LCFI10:
 121              		.cfi_def_cfa_register 13
 122              		@ sp needed
 123 002a 5DF8047B 		ldr	r7, [sp], #4
 124              	.LCFI11:
 125              		.cfi_restore 7
 126              		.cfi_def_cfa_offset 0
 127 002e 7047     		bx	lr
 128              		.cfi_endproc
 129              	.LFE134:
 131              		.section	.text.dlist_add_tail,"ax",%progbits
 132              		.align	1
 133              		.syntax unified
 134              		.thumb
 135              		.thumb_func
 136              		.fpu fpv4-sp-d16
 138              	dlist_add_tail:
 139              	.LFB136:
  82:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  83:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** /**
  84:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * dlist_add - add a new entry at the front of the list
  85:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * @new: new entry to be added
  86:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * @head: list head to add it after
  87:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  *
  88:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * Insert a new entry after the specified head
  89:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * This is good for implementing stacks
  90:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  */
  91:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  92:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** static inline void dlist_add (dlist_t * head, dlist_t * new)
  93:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     {
  94:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     __dlist_add_at (head, head->next, new);
ARM GAS  /tmp/ccBtvIog.s 			page 5


  95:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     }
  96:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
  97:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** /**
  98:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * dlist_add_tail - add a new entry at the tail of the list
  99:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * @new: new entry to be added
 100:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * @head: list head to add it before
 101:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  *
 102:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * Insert a new entry before the specified head
 103:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * This is useful for implementing queues
 104:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  */
 105:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
 106:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** static inline void dlist_add_tail (dlist_t * head, dlist_t * new)
 107:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     {
 140              		.loc 1 107 5
 141              		.cfi_startproc
 142              		@ args = 0, pretend = 0, frame = 8
 143              		@ frame_needed = 1, uses_anonymous_args = 0
 144 0000 80B5     		push	{r7, lr}
 145              	.LCFI12:
 146              		.cfi_def_cfa_offset 8
 147              		.cfi_offset 7, -8
 148              		.cfi_offset 14, -4
 149 0002 82B0     		sub	sp, sp, #8
 150              	.LCFI13:
 151              		.cfi_def_cfa_offset 16
 152 0004 00AF     		add	r7, sp, #0
 153              	.LCFI14:
 154              		.cfi_def_cfa_register 7
 155 0006 7860     		str	r0, [r7, #4]
 156 0008 3960     		str	r1, [r7]
 108:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     __dlist_add_at (head->prev, head, new);
 157              		.loc 1 108 25
 158 000a 7B68     		ldr	r3, [r7, #4]
 159 000c 1B68     		ldr	r3, [r3]
 160              		.loc 1 108 5
 161 000e 3A68     		ldr	r2, [r7]
 162 0010 7968     		ldr	r1, [r7, #4]
 163 0012 1846     		mov	r0, r3
 164 0014 FFF7FEFF 		bl	__dlist_add_at
 109:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     }
 165              		.loc 1 109 5
 166 0018 00BF     		nop
 167 001a 0837     		adds	r7, r7, #8
 168              	.LCFI15:
 169              		.cfi_def_cfa_offset 8
 170 001c BD46     		mov	sp, r7
 171              	.LCFI16:
 172              		.cfi_def_cfa_register 13
 173              		@ sp needed
 174 001e 80BD     		pop	{r7, pc}
 175              		.cfi_endproc
 176              	.LFE136:
 178              		.section	.text.dlist_del,"ax",%progbits
 179              		.align	1
 180              		.syntax unified
 181              		.thumb
 182              		.thumb_func
ARM GAS  /tmp/ccBtvIog.s 			page 6


 183              		.fpu fpv4-sp-d16
 185              	dlist_del:
 186              	.LFB137:
 110:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
 111:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** /**
 112:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * dlist_del - deletes entry from list.
 113:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * @entry: the element to delete from the list
 114:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * Note: dlist_empty() on entry does not return true after this, the entry is
 115:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * in an undefined state
 116:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  */
 117:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
 118:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** static inline void dlist_del (dlist_t * node)
 119:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     {
 187              		.loc 1 119 5
 188              		.cfi_startproc
 189              		@ args = 0, pretend = 0, frame = 8
 190              		@ frame_needed = 1, uses_anonymous_args = 0
 191              		@ link register save eliminated.
 192 0000 80B4     		push	{r7}
 193              	.LCFI17:
 194              		.cfi_def_cfa_offset 4
 195              		.cfi_offset 7, -4
 196 0002 83B0     		sub	sp, sp, #12
 197              	.LCFI18:
 198              		.cfi_def_cfa_offset 16
 199 0004 00AF     		add	r7, sp, #0
 200              	.LCFI19:
 201              		.cfi_def_cfa_register 7
 202 0006 7860     		str	r0, [r7, #4]
 120:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     node->prev->next = node->next;
 203              		.loc 1 120 9
 204 0008 7B68     		ldr	r3, [r7, #4]
 205 000a 1B68     		ldr	r3, [r3]
 206              		.loc 1 120 28
 207 000c 7A68     		ldr	r2, [r7, #4]
 208 000e 5268     		ldr	r2, [r2, #4]
 209              		.loc 1 120 22
 210 0010 5A60     		str	r2, [r3, #4]
 121:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     node->next->prev = node->prev;
 211              		.loc 1 121 9
 212 0012 7B68     		ldr	r3, [r7, #4]
 213 0014 5B68     		ldr	r3, [r3, #4]
 214              		.loc 1 121 28
 215 0016 7A68     		ldr	r2, [r7, #4]
 216 0018 1268     		ldr	r2, [r2]
 217              		.loc 1 121 22
 218 001a 1A60     		str	r2, [r3]
 122:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     }
 219              		.loc 1 122 5
 220 001c 00BF     		nop
 221 001e 0C37     		adds	r7, r7, #12
 222              	.LCFI20:
 223              		.cfi_def_cfa_offset 4
 224 0020 BD46     		mov	sp, r7
 225              	.LCFI21:
 226              		.cfi_def_cfa_register 13
 227              		@ sp needed
ARM GAS  /tmp/ccBtvIog.s 			page 7


 228 0022 5DF8047B 		ldr	r7, [sp], #4
 229              	.LCFI22:
 230              		.cfi_restore 7
 231              		.cfi_def_cfa_offset 0
 232 0026 7047     		bx	lr
 233              		.cfi_endproc
 234              	.LFE137:
 236              		.section	.text.dlist_empty,"ax",%progbits
 237              		.align	1
 238              		.syntax unified
 239              		.thumb
 240              		.thumb_func
 241              		.fpu fpv4-sp-d16
 243              	dlist_empty:
 244              	.LFB138:
 123:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
 124:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** /**
 125:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * dlist_empty - check if a list is empty
 126:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  * @head: the list head to check
 127:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****  */
 128:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** 
 129:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h **** static inline int dlist_empty (dlist_t * head)
 130:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     {
 245              		.loc 1 130 5
 246              		.cfi_startproc
 247              		@ args = 0, pretend = 0, frame = 8
 248              		@ frame_needed = 1, uses_anonymous_args = 0
 249              		@ link register save eliminated.
 250 0000 80B4     		push	{r7}
 251              	.LCFI23:
 252              		.cfi_def_cfa_offset 4
 253              		.cfi_offset 7, -4
 254 0002 83B0     		sub	sp, sp, #12
 255              	.LCFI24:
 256              		.cfi_def_cfa_offset 16
 257 0004 00AF     		add	r7, sp, #0
 258              	.LCFI25:
 259              		.cfi_def_cfa_register 7
 260 0006 7860     		str	r0, [r7, #4]
 131:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     return head->prev == head;
 261              		.loc 1 131 16
 262 0008 7B68     		ldr	r3, [r7, #4]
 263 000a 1B68     		ldr	r3, [r3]
 264              		.loc 1 131 23
 265 000c 7A68     		ldr	r2, [r7, #4]
 266 000e 9A42     		cmp	r2, r3
 267 0010 0CBF     		ite	eq
 268 0012 0123     		moveq	r3, #1
 269 0014 0023     		movne	r3, #0
 270 0016 DBB2     		uxtb	r3, r3
 132:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/list.h ****     }
 271              		.loc 1 132 5
 272 0018 1846     		mov	r0, r3
 273 001a 0C37     		adds	r7, r7, #12
 274              	.LCFI26:
 275              		.cfi_def_cfa_offset 4
 276 001c BD46     		mov	sp, r7
ARM GAS  /tmp/ccBtvIog.s 			page 8


 277              	.LCFI27:
 278              		.cfi_def_cfa_register 13
 279              		@ sp needed
 280 001e 5DF8047B 		ldr	r7, [sp], #4
 281              	.LCFI28:
 282              		.cfi_restore 7
 283              		.cfi_def_cfa_offset 0
 284 0022 7047     		bx	lr
 285              		.cfi_endproc
 286              	.LFE138:
 288              		.section	.text.__is_free,"ax",%progbits
 289              		.align	1
 290              		.syntax unified
 291              		.thumb
 292              		.thumb_func
 293              		.fpu fpv4-sp-d16
 295              	__is_free:
 296              	.LFB139:
 297              		.file 2 "/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h"
   1:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** /*----------------------------------------------------------------------------
   2:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * Copyright (c) <2018>, <Huawei Technologies Co., Ltd>
   3:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * All rights reserved.
   4:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * Redistribution and use in source and binary forms, with or without modification,
   5:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * are permitted provided that the following conditions are met:
   6:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * conditions and the following disclaimer.
   8:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * provided with the distribution.
  11:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * to endorse or promote products derived from this software without specific prior written
  13:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * permission.
  14:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  *---------------------------------------------------------------------------*/
  26:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** /*----------------------------------------------------------------------------
  27:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * Notice of Export Control Law
  28:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * ===============================================
  29:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * applicable export control laws and regulations.
  33:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  *---------------------------------------------------------------------------*/
  34:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  35:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** #ifndef __CHUNK_H__
  36:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** #define __CHUNK_H__
  37:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  38:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** #include <stddef.h>
ARM GAS  /tmp/ccBtvIog.s 			page 9


  39:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** #include <stdint.h>
  40:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  41:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** #include <list.h>
  42:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  43:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** #ifndef ALLOC_ALIGN_SIZE
  44:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** #define ALLOC_ALIGN_SIZE        (4)
  45:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** #endif
  46:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  47:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** #define ALLOC_ALIGN_MASK        (ALLOC_ALIGN_SIZE - 1)
  48:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  49:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** #define ALLOC_MIN_SIZE          (sizeof (chunk_t) - sizeof (ach_t))
  50:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  51:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** typedef struct chunk
  52:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** {
  53:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     struct chunk * prev;
  54:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     uintptr_t      size;        /* bit[0] means is_allocated */
  55:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     dlist_t        node;        /* used for free chunks only */
  56:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** } fch_t, chunk_t;
  57:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  58:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** typedef struct ach
  59:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** {
  60:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     struct chunk * prev;
  61:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     uintptr_t      size;        /* bit[0] means is_allocated */
  62:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** } ach_t;
  63:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  64:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** /* inlines */
  65:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  66:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** /**
  67:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * __is_free - check if a chunk is free
  68:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * @chunk: the given chunk
  69:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  *
  70:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * return: true if the chunk is free, false if not
  71:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  */
  72:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  73:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** static inline int __is_free (chunk_t * chunk)
  74:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** {
 298              		.loc 2 74 1
 299              		.cfi_startproc
 300              		@ args = 0, pretend = 0, frame = 8
 301              		@ frame_needed = 1, uses_anonymous_args = 0
 302              		@ link register save eliminated.
 303 0000 80B4     		push	{r7}
 304              	.LCFI29:
 305              		.cfi_def_cfa_offset 4
 306              		.cfi_offset 7, -4
 307 0002 83B0     		sub	sp, sp, #12
 308              	.LCFI30:
 309              		.cfi_def_cfa_offset 16
 310 0004 00AF     		add	r7, sp, #0
 311              	.LCFI31:
 312              		.cfi_def_cfa_register 7
 313 0006 7860     		str	r0, [r7, #4]
  75:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     return (chunk->size & 1) == 0;
 314              		.loc 2 75 18
 315 0008 7B68     		ldr	r3, [r7, #4]
 316 000a 5B68     		ldr	r3, [r3, #4]
 317              		.loc 2 75 25
ARM GAS  /tmp/ccBtvIog.s 			page 10


 318 000c 03F00103 		and	r3, r3, #1
 319              		.loc 2 75 30
 320 0010 002B     		cmp	r3, #0
 321 0012 0CBF     		ite	eq
 322 0014 0123     		moveq	r3, #1
 323 0016 0023     		movne	r3, #0
 324 0018 DBB2     		uxtb	r3, r3
  76:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** }
 325              		.loc 2 76 1
 326 001a 1846     		mov	r0, r3
 327 001c 0C37     		adds	r7, r7, #12
 328              	.LCFI32:
 329              		.cfi_def_cfa_offset 4
 330 001e BD46     		mov	sp, r7
 331              	.LCFI33:
 332              		.cfi_def_cfa_register 13
 333              		@ sp needed
 334 0020 5DF8047B 		ldr	r7, [sp], #4
 335              	.LCFI34:
 336              		.cfi_restore 7
 337              		.cfi_def_cfa_offset 0
 338 0024 7047     		bx	lr
 339              		.cfi_endproc
 340              	.LFE139:
 342              		.section	.text.__set_chunk_allocated,"ax",%progbits
 343              		.align	1
 344              		.syntax unified
 345              		.thumb
 346              		.thumb_func
 347              		.fpu fpv4-sp-d16
 349              	__set_chunk_allocated:
 350              	.LFB140:
  77:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  78:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** /**
  79:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * __set_chunk_allocated - set a chunk as allocated
  80:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * @chunk: the given chunk
  81:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  */
  82:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  83:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** static inline void __set_chunk_allocated (chunk_t * chunk)
  84:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** {
 351              		.loc 2 84 1
 352              		.cfi_startproc
 353              		@ args = 0, pretend = 0, frame = 8
 354              		@ frame_needed = 1, uses_anonymous_args = 0
 355              		@ link register save eliminated.
 356 0000 80B4     		push	{r7}
 357              	.LCFI35:
 358              		.cfi_def_cfa_offset 4
 359              		.cfi_offset 7, -4
 360 0002 83B0     		sub	sp, sp, #12
 361              	.LCFI36:
 362              		.cfi_def_cfa_offset 16
 363 0004 00AF     		add	r7, sp, #0
 364              	.LCFI37:
 365              		.cfi_def_cfa_register 7
 366 0006 7860     		str	r0, [r7, #4]
  85:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     chunk->size |= 1;
ARM GAS  /tmp/ccBtvIog.s 			page 11


 367              		.loc 2 85 17
 368 0008 7B68     		ldr	r3, [r7, #4]
 369 000a 5B68     		ldr	r3, [r3, #4]
 370 000c 43F00102 		orr	r2, r3, #1
 371 0010 7B68     		ldr	r3, [r7, #4]
 372 0012 5A60     		str	r2, [r3, #4]
  86:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** }
 373              		.loc 2 86 1
 374 0014 00BF     		nop
 375 0016 0C37     		adds	r7, r7, #12
 376              	.LCFI38:
 377              		.cfi_def_cfa_offset 4
 378 0018 BD46     		mov	sp, r7
 379              	.LCFI39:
 380              		.cfi_def_cfa_register 13
 381              		@ sp needed
 382 001a 5DF8047B 		ldr	r7, [sp], #4
 383              	.LCFI40:
 384              		.cfi_restore 7
 385              		.cfi_def_cfa_offset 0
 386 001e 7047     		bx	lr
 387              		.cfi_endproc
 388              	.LFE140:
 390              		.section	.text.__set_chunk_free,"ax",%progbits
 391              		.align	1
 392              		.syntax unified
 393              		.thumb
 394              		.thumb_func
 395              		.fpu fpv4-sp-d16
 397              	__set_chunk_free:
 398              	.LFB141:
  87:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  88:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** /**
  89:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * __set_chunk_free - set a chunk as free
  90:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * @chunk: the given chunk
  91:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  */
  92:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  93:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** static inline void __set_chunk_free (chunk_t * chunk)
  94:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** {
 399              		.loc 2 94 1
 400              		.cfi_startproc
 401              		@ args = 0, pretend = 0, frame = 8
 402              		@ frame_needed = 1, uses_anonymous_args = 0
 403              		@ link register save eliminated.
 404 0000 80B4     		push	{r7}
 405              	.LCFI41:
 406              		.cfi_def_cfa_offset 4
 407              		.cfi_offset 7, -4
 408 0002 83B0     		sub	sp, sp, #12
 409              	.LCFI42:
 410              		.cfi_def_cfa_offset 16
 411 0004 00AF     		add	r7, sp, #0
 412              	.LCFI43:
 413              		.cfi_def_cfa_register 7
 414 0006 7860     		str	r0, [r7, #4]
  95:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     chunk->size &= ~1;
 415              		.loc 2 95 17
ARM GAS  /tmp/ccBtvIog.s 			page 12


 416 0008 7B68     		ldr	r3, [r7, #4]
 417 000a 5B68     		ldr	r3, [r3, #4]
 418 000c 23F00102 		bic	r2, r3, #1
 419 0010 7B68     		ldr	r3, [r7, #4]
 420 0012 5A60     		str	r2, [r3, #4]
  96:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** }
 421              		.loc 2 96 1
 422 0014 00BF     		nop
 423 0016 0C37     		adds	r7, r7, #12
 424              	.LCFI44:
 425              		.cfi_def_cfa_offset 4
 426 0018 BD46     		mov	sp, r7
 427              	.LCFI45:
 428              		.cfi_def_cfa_register 13
 429              		@ sp needed
 430 001a 5DF8047B 		ldr	r7, [sp], #4
 431              	.LCFI46:
 432              		.cfi_restore 7
 433              		.cfi_def_cfa_offset 0
 434 001e 7047     		bx	lr
 435              		.cfi_endproc
 436              	.LFE141:
 438              		.section	.text.__get_next_chunk,"ax",%progbits
 439              		.align	1
 440              		.syntax unified
 441              		.thumb
 442              		.thumb_func
 443              		.fpu fpv4-sp-d16
 445              	__get_next_chunk:
 446              	.LFB142:
  97:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
  98:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** /**
  99:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * __get_next_chunk - get the next chunk
 100:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * @chunk: the current chunk
 101:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  *
 102:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * return: next chunk
 103:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  */
 104:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 105:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** static inline chunk_t * __get_next_chunk (chunk_t * chunk)
 106:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** {
 447              		.loc 2 106 1
 448              		.cfi_startproc
 449              		@ args = 0, pretend = 0, frame = 8
 450              		@ frame_needed = 1, uses_anonymous_args = 0
 451              		@ link register save eliminated.
 452 0000 80B4     		push	{r7}
 453              	.LCFI47:
 454              		.cfi_def_cfa_offset 4
 455              		.cfi_offset 7, -4
 456 0002 83B0     		sub	sp, sp, #12
 457              	.LCFI48:
 458              		.cfi_def_cfa_offset 16
 459 0004 00AF     		add	r7, sp, #0
 460              	.LCFI49:
 461              		.cfi_def_cfa_register 7
 462 0006 7860     		str	r0, [r7, #4]
 107:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     return (chunk_t *) (((char *) chunk) + (chunk->size & ~1));
ARM GAS  /tmp/ccBtvIog.s 			page 13


 463              		.loc 2 107 50
 464 0008 7B68     		ldr	r3, [r7, #4]
 465 000a 5B68     		ldr	r3, [r3, #4]
 466              		.loc 2 107 57
 467 000c 23F00103 		bic	r3, r3, #1
 468              		.loc 2 107 12
 469 0010 7A68     		ldr	r2, [r7, #4]
 470 0012 1344     		add	r3, r3, r2
 108:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** }
 471              		.loc 2 108 1
 472 0014 1846     		mov	r0, r3
 473 0016 0C37     		adds	r7, r7, #12
 474              	.LCFI50:
 475              		.cfi_def_cfa_offset 4
 476 0018 BD46     		mov	sp, r7
 477              	.LCFI51:
 478              		.cfi_def_cfa_register 13
 479              		@ sp needed
 480 001a 5DF8047B 		ldr	r7, [sp], #4
 481              	.LCFI52:
 482              		.cfi_restore 7
 483              		.cfi_def_cfa_offset 0
 484 001e 7047     		bx	lr
 485              		.cfi_endproc
 486              	.LFE142:
 488              		.section	.text.__get_prev_chunk,"ax",%progbits
 489              		.align	1
 490              		.syntax unified
 491              		.thumb
 492              		.thumb_func
 493              		.fpu fpv4-sp-d16
 495              	__get_prev_chunk:
 496              	.LFB143:
 109:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 110:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** /**
 111:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * __get_prev_chunk - get the previous chunk
 112:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * @chunk: the current chunk
 113:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  *
 114:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * return: previous chunk
 115:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  */
 116:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 117:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** static inline chunk_t * __get_prev_chunk (chunk_t * chunk)
 118:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** {
 497              		.loc 2 118 1
 498              		.cfi_startproc
 499              		@ args = 0, pretend = 0, frame = 8
 500              		@ frame_needed = 1, uses_anonymous_args = 0
 501              		@ link register save eliminated.
 502 0000 80B4     		push	{r7}
 503              	.LCFI53:
 504              		.cfi_def_cfa_offset 4
 505              		.cfi_offset 7, -4
 506 0002 83B0     		sub	sp, sp, #12
 507              	.LCFI54:
 508              		.cfi_def_cfa_offset 16
 509 0004 00AF     		add	r7, sp, #0
 510              	.LCFI55:
ARM GAS  /tmp/ccBtvIog.s 			page 14


 511              		.cfi_def_cfa_register 7
 512 0006 7860     		str	r0, [r7, #4]
 119:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     return chunk->prev;
 513              		.loc 2 119 17
 514 0008 7B68     		ldr	r3, [r7, #4]
 515 000a 1B68     		ldr	r3, [r3]
 120:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** }
 516              		.loc 2 120 1
 517 000c 1846     		mov	r0, r3
 518 000e 0C37     		adds	r7, r7, #12
 519              	.LCFI56:
 520              		.cfi_def_cfa_offset 4
 521 0010 BD46     		mov	sp, r7
 522              	.LCFI57:
 523              		.cfi_def_cfa_register 13
 524              		@ sp needed
 525 0012 5DF8047B 		ldr	r7, [sp], #4
 526              	.LCFI58:
 527              		.cfi_restore 7
 528              		.cfi_def_cfa_offset 0
 529 0016 7047     		bx	lr
 530              		.cfi_endproc
 531              	.LFE143:
 533              		.section	.text.__get_mem_block,"ax",%progbits
 534              		.align	1
 535              		.syntax unified
 536              		.thumb
 537              		.thumb_func
 538              		.fpu fpv4-sp-d16
 540              	__get_mem_block:
 541              	.LFB144:
 121:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 122:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** /**
 123:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * __get_mem_block - get the memory block in a chunk
 124:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * @chunk: the chunk
 125:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  *
 126:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * return: the memory block in the chunk
 127:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  */
 128:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 129:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** static inline char * __get_mem_block (chunk_t * chunk)
 130:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** {
 542              		.loc 2 130 1
 543              		.cfi_startproc
 544              		@ args = 0, pretend = 0, frame = 8
 545              		@ frame_needed = 1, uses_anonymous_args = 0
 546              		@ link register save eliminated.
 547 0000 80B4     		push	{r7}
 548              	.LCFI59:
 549              		.cfi_def_cfa_offset 4
 550              		.cfi_offset 7, -4
 551 0002 83B0     		sub	sp, sp, #12
 552              	.LCFI60:
 553              		.cfi_def_cfa_offset 16
 554 0004 00AF     		add	r7, sp, #0
 555              	.LCFI61:
 556              		.cfi_def_cfa_register 7
 557 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/ccBtvIog.s 			page 15


 131:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     return (char *) chunk + sizeof (ach_t);
 558              		.loc 2 131 27
 559 0008 7B68     		ldr	r3, [r7, #4]
 560 000a 0833     		adds	r3, r3, #8
 132:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** }
 561              		.loc 2 132 1
 562 000c 1846     		mov	r0, r3
 563 000e 0C37     		adds	r7, r7, #12
 564              	.LCFI62:
 565              		.cfi_def_cfa_offset 4
 566 0010 BD46     		mov	sp, r7
 567              	.LCFI63:
 568              		.cfi_def_cfa_register 13
 569              		@ sp needed
 570 0012 5DF8047B 		ldr	r7, [sp], #4
 571              	.LCFI64:
 572              		.cfi_restore 7
 573              		.cfi_def_cfa_offset 0
 574 0016 7047     		bx	lr
 575              		.cfi_endproc
 576              	.LFE144:
 578              		.section	.text.__get_ach_from_mem,"ax",%progbits
 579              		.align	1
 580              		.syntax unified
 581              		.thumb
 582              		.thumb_func
 583              		.fpu fpv4-sp-d16
 585              	__get_ach_from_mem:
 586              	.LFB146:
 133:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 134:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** /**
 135:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * __get_fch_from_mem - create a new chunk for a memory block
 136:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * @mem: the memory block
 137:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  *
 138:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * return: the new chunk containing the memory block
 139:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  */
 140:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 141:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** static inline chunk_t * __get_fch_from_mem (char * mem)
 142:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** {
 143:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     return &((chunk_t *) mem) [-1];
 144:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** }
 145:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 146:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** /**
 147:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * __get_ach_from_mem - get the chunk of a allocated memory block
 148:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * @mem: the memory block
 149:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  *
 150:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * return: the chunk containing the memory block
 151:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  */
 152:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 153:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** static inline ach_t * __get_ach_from_mem (char * mem)
 154:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** {
 587              		.loc 2 154 1
 588              		.cfi_startproc
 589              		@ args = 0, pretend = 0, frame = 16
 590              		@ frame_needed = 1, uses_anonymous_args = 0
 591              		@ link register save eliminated.
 592 0000 80B4     		push	{r7}
ARM GAS  /tmp/ccBtvIog.s 			page 16


 593              	.LCFI65:
 594              		.cfi_def_cfa_offset 4
 595              		.cfi_offset 7, -4
 596 0002 85B0     		sub	sp, sp, #20
 597              	.LCFI66:
 598              		.cfi_def_cfa_offset 24
 599 0004 00AF     		add	r7, sp, #0
 600              	.LCFI67:
 601              		.cfi_def_cfa_register 7
 602 0006 7860     		str	r0, [r7, #4]
 155:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     uintptr_t szorptr;
 156:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 157:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     /*
 158:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      * there are two possible cases here:
 159:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *
 160:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      * 1) chunk->head is just behind the 'mem':
 161:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *
 162:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *    +-------------+--------------+
 163:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *    | prev | size | memory block |
 164:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *    +-------------+--------------+
 165:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *
 166:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      * 2) after an aligned alloc, there may extra memory in the front but the
 167:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *    size is less than sizeof (chunk_t), there will be a pointer in the
 168:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *    'extra mem':
 169:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *
 170:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *    +-------------+-----------+----------------------+
 171:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *    | prev | size | extra mem | aligned memory block |
 172:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *    +-------------+-----------+----------------------+
 173:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *
 174:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *    please refer to the routine of <__carve_head> for this case
 175:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      *
 176:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      * for both cases, this routine just works fine
 177:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****      */
 178:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 179:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     szorptr = ((uintptr_t *) mem) [-1];
 603              		.loc 2 179 13
 604 0008 7B68     		ldr	r3, [r7, #4]
 605 000a 53F8043C 		ldr	r3, [r3, #-4]
 606 000e FB60     		str	r3, [r7, #12]
 180:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 181:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     if (szorptr & 1)
 607              		.loc 2 181 17
 608 0010 FB68     		ldr	r3, [r7, #12]
 609 0012 03F00103 		and	r3, r3, #1
 610              		.loc 2 181 8
 611 0016 002B     		cmp	r3, #0
 612 0018 02D0     		beq	.L18
 182:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     {
 183:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 184:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****         /* case 1, chunk->size */
 185:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 186:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****         return &((ach_t *) mem) [-1];
 613              		.loc 2 186 16
 614 001a 7B68     		ldr	r3, [r7, #4]
 615 001c 083B     		subs	r3, r3, #8
 616 001e 00E0     		b	.L19
 617              	.L18:
ARM GAS  /tmp/ccBtvIog.s 			page 17


 187:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     }
 188:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 189:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     /* case 2, a pointer to the chunk */
 190:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 191:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     return (ach_t *) szorptr;
 618              		.loc 2 191 12
 619 0020 FB68     		ldr	r3, [r7, #12]
 620              	.L19:
 192:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** }
 621              		.loc 2 192 1
 622 0022 1846     		mov	r0, r3
 623 0024 1437     		adds	r7, r7, #20
 624              	.LCFI68:
 625              		.cfi_def_cfa_offset 4
 626 0026 BD46     		mov	sp, r7
 627              	.LCFI69:
 628              		.cfi_def_cfa_register 13
 629              		@ sp needed
 630 0028 5DF8047B 		ldr	r7, [sp], #4
 631              	.LCFI70:
 632              		.cfi_restore 7
 633              		.cfi_def_cfa_offset 0
 634 002c 7047     		bx	lr
 635              		.cfi_endproc
 636              	.LFE146:
 638              		.section	.text.__set_ach_to_mem,"ax",%progbits
 639              		.align	1
 640              		.syntax unified
 641              		.thumb
 642              		.thumb_func
 643              		.fpu fpv4-sp-d16
 645              	__set_ach_to_mem:
 646              	.LFB147:
 193:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 194:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** /**
 195:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * __set_ach_to_mem - set chunk in the front of memory block
 196:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * @mem: the memory block
 197:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  *
 198:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  * return: NA
 199:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****  */
 200:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** 
 201:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** static inline void __set_ach_to_mem (char * mem, chunk_t * chunk)
 202:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** {
 647              		.loc 2 202 1
 648              		.cfi_startproc
 649              		@ args = 0, pretend = 0, frame = 8
 650              		@ frame_needed = 1, uses_anonymous_args = 0
 651              		@ link register save eliminated.
 652 0000 80B4     		push	{r7}
 653              	.LCFI71:
 654              		.cfi_def_cfa_offset 4
 655              		.cfi_offset 7, -4
 656 0002 83B0     		sub	sp, sp, #12
 657              	.LCFI72:
 658              		.cfi_def_cfa_offset 16
 659 0004 00AF     		add	r7, sp, #0
 660              	.LCFI73:
ARM GAS  /tmp/ccBtvIog.s 			page 18


 661              		.cfi_def_cfa_register 7
 662 0006 7860     		str	r0, [r7, #4]
 663 0008 3960     		str	r1, [r7]
 203:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h ****     ((chunk_t **) mem) [-1] = chunk;
 664              		.loc 2 203 24
 665 000a 7B68     		ldr	r3, [r7, #4]
 666 000c 043B     		subs	r3, r3, #4
 667              		.loc 2 203 29
 668 000e 3A68     		ldr	r2, [r7]
 669 0010 1A60     		str	r2, [r3]
 204:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/chunk.h **** }
 670              		.loc 2 204 1
 671 0012 00BF     		nop
 672 0014 0C37     		adds	r7, r7, #12
 673              	.LCFI74:
 674              		.cfi_def_cfa_offset 4
 675 0016 BD46     		mov	sp, r7
 676              	.LCFI75:
 677              		.cfi_def_cfa_register 13
 678              		@ sp needed
 679 0018 5DF8047B 		ldr	r7, [sp], #4
 680              	.LCFI76:
 681              		.cfi_restore 7
 682              		.cfi_def_cfa_offset 0
 683 001c 7047     		bx	lr
 684              		.cfi_endproc
 685              	.LFE147:
 687              		.section	.text.__cm_init,"ax",%progbits
 688              		.align	1
 689              		.syntax unified
 690              		.thumb
 691              		.thumb_func
 692              		.fpu fpv4-sp-d16
 694              	__cm_init:
 695              	.LFB149:
 696              		.file 3 "/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h"
   1:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** /*----------------------------------------------------------------------------
   2:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * Copyright (c) <2018>, <Huawei Technologies Co., Ltd>
   3:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * All rights reserved.
   4:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * Redistribution and use in source and binary forms, with or without modification,
   5:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * are permitted provided that the following conditions are met:
   6:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * conditions and the following disclaimer.
   8:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * provided with the distribution.
  11:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * to endorse or promote products derived from this software without specific prior written
  13:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * permission.
  14:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
ARM GAS  /tmp/ccBtvIog.s 			page 19


  22:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *---------------------------------------------------------------------------*/
  26:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** /*----------------------------------------------------------------------------
  27:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * Notice of Export Control Law
  28:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * ===============================================
  29:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * applicable export control laws and regulations.
  33:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *---------------------------------------------------------------------------*/
  34:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
  35:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** #ifndef __CM_TLSF_H__
  36:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** #define __CM_TLSF_H__
  37:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
  38:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** #include <list.h>
  39:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** #include "los_common.h"
  40:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
  41:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** #include "chunk.h"
  42:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
  43:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** /*
  44:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * chunks are inserted to chunk lists in a 2d "chunk_t *" array,
  45:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * "chunks [max_nr_fl] [max_nr_sl]" according to their size:
  46:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  47:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * the index in the 1st level is the last (most-significant) bit set:
  48:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  49:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *     fl_idx = fls (size);
  50:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  51:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * the index in the 2nd level is SL_BITS bits followed the bit:
  52:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  53:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *     sl_idx = (size - (1 << fl_idx)) >> (fl_idx - SL_BITS) =
  54:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *            = (size >> (fl_idx - SL_BITS)) - (1 << SL_BITS);
  55:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  56:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * given a size with the value of 74, its binary value is:
  57:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  58:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *     size = 74 = 0b01001010:
  59:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  60:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * fl_idx = 6
  61:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *          |
  62:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *        7 6 5 4 3 2 1 0
  63:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *      +-----------------+
  64:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *      | 0 1 0 0 1 0 1 0 |
  65:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *      +-----------------+
  66:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *        7 6 5 4 3 2 1 0
  67:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * sl_idx =   0 0          0 if SL_BITS = 2
  68:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * sl_idx =   0 0 1        1 if SL_BITS = 3
  69:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * sl_idx =   0 0 1 0      2 if SL_BITS = 4
  70:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  71:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * but we only support 2 or 3 as the value of SL_BITS, so sl_bmap can be a
  72:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * array of uint8_t
  73:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  */
  74:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
  75:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** #define SL_BITS                 2   /* valid value only 2 or 3 */
  76:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
  77:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** /*
  78:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * the minimum chunks managed is sizeof (chunk_t) which size is:
ARM GAS  /tmp/ccBtvIog.s 			page 20


  79:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  80:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *     4 * sizeof (uintptr_t)
  81:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  82:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * so fl_idx is always greater or equal to:
  83:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  84:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *     fls (sizeof (chunk_t))
  85:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  86:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * so fl_idx from [0 ~ fls (sizeof (chunk_t)) - 1] will never be used for
  87:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * space saving purpose, we use the following index map:
  88:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  89:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *     real idx - fl_idx
  90:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *            0 - fls (sizeof (chunk_t))
  91:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *            1 - fls (sizeof (chunk_t)) + 1
  92:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *          ... - ...
  93:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  94:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * so the 'real idx' to fl_idx have a fixed gap (called 'bias' here):
  95:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
  96:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *     bias = fls (sizeof (chunk_t)) == log2 (sizeof (chunk_t))
  97:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  */
  98:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
  99:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** enum
 100:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** {
 101:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     MIN_CHUNK_SIZE_LOG2 = sizeof (chunk_t) ==  8 ? 3    /* 16-bit target */
 102:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****                         : sizeof (chunk_t) == 16 ? 4    /* 32-bit target */
 103:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****                         : sizeof (chunk_t) == 32 ? 5    /* 64-bit target */
 104:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****                         : 0,
 105:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** };
 106:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 107:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** enum
 108:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** {
 109:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_008K = 13,
 110:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_016K,
 111:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_032K,
 112:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_064K,
 113:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_128K,
 114:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_256K,
 115:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_512K,
 116:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_001M,
 117:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_002M,
 118:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_004M,
 119:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_008M,
 120:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_016M,
 121:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_032M,
 122:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_064M,
 123:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_128M,
 124:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_256M,
 125:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_512M,
 126:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_001G,
 127:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     FL_IDX_MAX_002G,
 128:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** };
 129:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 130:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** #define FL_IDX_MAX              (FL_IDX_MAX_512M)
 131:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** #define FL_IDX_BIAS             (MIN_CHUNK_SIZE_LOG2)
 132:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** #define FL_IDXES                (FL_IDX_MAX - FL_IDX_BIAS)
 133:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** #define SL_IDXES                (1 << SL_BITS)
 134:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 135:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** #define SL_IDX_MAX              (SL_IDXES - 1)
ARM GAS  /tmp/ccBtvIog.s 			page 21


 136:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 137:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** typedef struct chunk_mgr
 138:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** {
 139:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     uint32_t  fl_bmap;
 140:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     uint8_t   sl_bmap [FL_IDXES];
 141:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     chunk_t * chunks  [FL_IDXES] [SL_IDXES];
 142:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** } chunk_mgr_t;
 143:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 144:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** #define CTZ(x)                  (32 - CLZ (~(x) & ((x) - 1)))
 145:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 146:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** /**
 147:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * __cm_init - initialize chunk manager
 148:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * @cm: the given chunk manager
 149:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
 150:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * return: 0 on success, negtive value on error
 151:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  */
 152:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 153:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** static inline int __cm_init (chunk_mgr_t * cm)
 154:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** {
 697              		.loc 3 154 1
 698              		.cfi_startproc
 699              		@ args = 0, pretend = 0, frame = 8
 700              		@ frame_needed = 1, uses_anonymous_args = 0
 701              		@ link register save eliminated.
 702 0000 80B4     		push	{r7}
 703              	.LCFI77:
 704              		.cfi_def_cfa_offset 4
 705              		.cfi_offset 7, -4
 706 0002 83B0     		sub	sp, sp, #12
 707              	.LCFI78:
 708              		.cfi_def_cfa_offset 16
 709 0004 00AF     		add	r7, sp, #0
 710              	.LCFI79:
 711              		.cfi_def_cfa_register 7
 712 0006 7860     		str	r0, [r7, #4]
 155:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     return 0;
 713              		.loc 3 155 12
 714 0008 0023     		movs	r3, #0
 156:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** }
 715              		.loc 3 156 1
 716 000a 1846     		mov	r0, r3
 717 000c 0C37     		adds	r7, r7, #12
 718              	.LCFI80:
 719              		.cfi_def_cfa_offset 4
 720 000e BD46     		mov	sp, r7
 721              	.LCFI81:
 722              		.cfi_def_cfa_register 13
 723              		@ sp needed
 724 0010 5DF8047B 		ldr	r7, [sp], #4
 725              	.LCFI82:
 726              		.cfi_restore 7
 727              		.cfi_def_cfa_offset 0
 728 0014 7047     		bx	lr
 729              		.cfi_endproc
 730              	.LFE149:
 732              		.section	.text.__get_fl_idx,"ax",%progbits
 733              		.align	1
ARM GAS  /tmp/ccBtvIog.s 			page 22


 734              		.syntax unified
 735              		.thumb
 736              		.thumb_func
 737              		.fpu fpv4-sp-d16
 739              	__get_fl_idx:
 740              	.LFB150:
 157:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 158:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** static inline int __get_fl_idx (size_t size)
 159:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** {
 741              		.loc 3 159 1
 742              		.cfi_startproc
 743              		@ args = 0, pretend = 0, frame = 8
 744              		@ frame_needed = 1, uses_anonymous_args = 0
 745              		@ link register save eliminated.
 746 0000 80B4     		push	{r7}
 747              	.LCFI83:
 748              		.cfi_def_cfa_offset 4
 749              		.cfi_offset 7, -4
 750 0002 83B0     		sub	sp, sp, #12
 751              	.LCFI84:
 752              		.cfi_def_cfa_offset 16
 753 0004 00AF     		add	r7, sp, #0
 754              	.LCFI85:
 755              		.cfi_def_cfa_register 7
 756 0006 7860     		str	r0, [r7, #4]
 160:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     return 31 - CLZ (size);     /* size is never 0 */
 757              		.loc 3 160 17
 758 0008 7B68     		ldr	r3, [r7, #4]
 759 000a B3FA83F3 		clz	r3, r3
 760              		.loc 3 160 15
 761 000e C3F11F03 		rsb	r3, r3, #31
 161:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** }
 762              		.loc 3 161 1
 763 0012 1846     		mov	r0, r3
 764 0014 0C37     		adds	r7, r7, #12
 765              	.LCFI86:
 766              		.cfi_def_cfa_offset 4
 767 0016 BD46     		mov	sp, r7
 768              	.LCFI87:
 769              		.cfi_def_cfa_register 13
 770              		@ sp needed
 771 0018 5DF8047B 		ldr	r7, [sp], #4
 772              	.LCFI88:
 773              		.cfi_restore 7
 774              		.cfi_def_cfa_offset 0
 775 001c 7047     		bx	lr
 776              		.cfi_endproc
 777              	.LFE150:
 779              		.section	.text.__get_sl_idx,"ax",%progbits
 780              		.align	1
 781              		.syntax unified
 782              		.thumb
 783              		.thumb_func
 784              		.fpu fpv4-sp-d16
 786              	__get_sl_idx:
 787              	.LFB151:
 162:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
ARM GAS  /tmp/ccBtvIog.s 			page 23


 163:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** static inline int __get_sl_idx (size_t size, int fl_idx)
 164:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** {
 788              		.loc 3 164 1
 789              		.cfi_startproc
 790              		@ args = 0, pretend = 0, frame = 8
 791              		@ frame_needed = 1, uses_anonymous_args = 0
 792              		@ link register save eliminated.
 793 0000 80B4     		push	{r7}
 794              	.LCFI89:
 795              		.cfi_def_cfa_offset 4
 796              		.cfi_offset 7, -4
 797 0002 83B0     		sub	sp, sp, #12
 798              	.LCFI90:
 799              		.cfi_def_cfa_offset 16
 800 0004 00AF     		add	r7, sp, #0
 801              	.LCFI91:
 802              		.cfi_def_cfa_register 7
 803 0006 7860     		str	r0, [r7, #4]
 804 0008 3960     		str	r1, [r7]
 165:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     return (size >> (fl_idx - SL_BITS)) - (1 << SL_BITS);
 805              		.loc 3 165 29
 806 000a 3B68     		ldr	r3, [r7]
 807 000c 023B     		subs	r3, r3, #2
 808              		.loc 3 165 18
 809 000e 7A68     		ldr	r2, [r7, #4]
 810 0010 22FA03F3 		lsr	r3, r2, r3
 811              		.loc 3 165 41
 812 0014 043B     		subs	r3, r3, #4
 166:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** }
 813              		.loc 3 166 1
 814 0016 1846     		mov	r0, r3
 815 0018 0C37     		adds	r7, r7, #12
 816              	.LCFI92:
 817              		.cfi_def_cfa_offset 4
 818 001a BD46     		mov	sp, r7
 819              	.LCFI93:
 820              		.cfi_def_cfa_register 13
 821              		@ sp needed
 822 001c 5DF8047B 		ldr	r7, [sp], #4
 823              	.LCFI94:
 824              		.cfi_restore 7
 825              		.cfi_def_cfa_offset 0
 826 0020 7047     		bx	lr
 827              		.cfi_endproc
 828              	.LFE151:
 830              		.section	.text.__cm_put_chunk,"ax",%progbits
 831              		.align	1
 832              		.syntax unified
 833              		.thumb
 834              		.thumb_func
 835              		.fpu fpv4-sp-d16
 837              	__cm_put_chunk:
 838              	.LFB152:
 167:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 168:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** static inline int __cm_put_chunk (chunk_mgr_t * cm, chunk_t * chunk)
 169:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** {
 839              		.loc 3 169 1
ARM GAS  /tmp/ccBtvIog.s 			page 24


 840              		.cfi_startproc
 841              		@ args = 0, pretend = 0, frame = 16
 842              		@ frame_needed = 1, uses_anonymous_args = 0
 843 0000 80B5     		push	{r7, lr}
 844              	.LCFI95:
 845              		.cfi_def_cfa_offset 8
 846              		.cfi_offset 7, -8
 847              		.cfi_offset 14, -4
 848 0002 84B0     		sub	sp, sp, #16
 849              	.LCFI96:
 850              		.cfi_def_cfa_offset 24
 851 0004 00AF     		add	r7, sp, #0
 852              	.LCFI97:
 853              		.cfi_def_cfa_register 7
 854 0006 7860     		str	r0, [r7, #4]
 855 0008 3960     		str	r1, [r7]
 170:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     int fl_idx = __get_fl_idx (chunk->size);
 856              		.loc 3 170 18
 857 000a 3B68     		ldr	r3, [r7]
 858 000c 5B68     		ldr	r3, [r3, #4]
 859 000e 1846     		mov	r0, r3
 860 0010 FFF7FEFF 		bl	__get_fl_idx
 861 0014 F860     		str	r0, [r7, #12]
 171:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     int sl_idx = __get_sl_idx (chunk->size, fl_idx);
 862              		.loc 3 171 18
 863 0016 3B68     		ldr	r3, [r7]
 864 0018 5B68     		ldr	r3, [r3, #4]
 865 001a F968     		ldr	r1, [r7, #12]
 866 001c 1846     		mov	r0, r3
 867 001e FFF7FEFF 		bl	__get_sl_idx
 868 0022 B860     		str	r0, [r7, #8]
 172:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 173:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     if (fl_idx >= FL_IDX_MAX)
 869              		.loc 3 173 8
 870 0024 FB68     		ldr	r3, [r7, #12]
 871 0026 1C2B     		cmp	r3, #28
 872 0028 02DD     		ble	.L28
 174:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     {
 175:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         return -1;
 873              		.loc 3 175 16
 874 002a 4FF0FF33 		mov	r3, #-1
 875 002e 49E0     		b	.L29
 876              	.L28:
 176:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     }
 177:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 178:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     cm->fl_bmap |= 1 << fl_idx;
 877              		.loc 3 178 17
 878 0030 7B68     		ldr	r3, [r7, #4]
 879 0032 1B68     		ldr	r3, [r3]
 880              		.loc 3 178 22
 881 0034 0121     		movs	r1, #1
 882 0036 FA68     		ldr	r2, [r7, #12]
 883 0038 01FA02F2 		lsl	r2, r1, r2
 884              		.loc 3 178 17
 885 003c 1A43     		orrs	r2, r2, r3
 886 003e 7B68     		ldr	r3, [r7, #4]
 887 0040 1A60     		str	r2, [r3]
ARM GAS  /tmp/ccBtvIog.s 			page 25


 179:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     cm->sl_bmap [fl_idx - FL_IDX_BIAS] |= 1 << sl_idx;
 888              		.loc 3 179 40
 889 0042 FB68     		ldr	r3, [r7, #12]
 890 0044 043B     		subs	r3, r3, #4
 891 0046 7A68     		ldr	r2, [r7, #4]
 892 0048 1344     		add	r3, r3, r2
 893 004a 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 894 004c 5AB2     		sxtb	r2, r3
 895              		.loc 3 179 45
 896 004e 0121     		movs	r1, #1
 897 0050 BB68     		ldr	r3, [r7, #8]
 898 0052 01FA03F3 		lsl	r3, r1, r3
 899              		.loc 3 179 40
 900 0056 5BB2     		sxtb	r3, r3
 901 0058 1343     		orrs	r3, r3, r2
 902 005a 5AB2     		sxtb	r2, r3
 903 005c FB68     		ldr	r3, [r7, #12]
 904 005e 043B     		subs	r3, r3, #4
 905 0060 D1B2     		uxtb	r1, r2
 906 0062 7A68     		ldr	r2, [r7, #4]
 907 0064 1344     		add	r3, r3, r2
 908 0066 0A46     		mov	r2, r1
 909 0068 1A71     		strb	r2, [r3, #4]
 180:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 181:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     fl_idx -= FL_IDX_BIAS;
 910              		.loc 3 181 12
 911 006a FB68     		ldr	r3, [r7, #12]
 912 006c 043B     		subs	r3, r3, #4
 913 006e FB60     		str	r3, [r7, #12]
 182:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 183:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     if (cm->chunks [fl_idx][sl_idx] == NULL)
 914              		.loc 3 183 28
 915 0070 7B68     		ldr	r3, [r7, #4]
 916 0072 FA68     		ldr	r2, [r7, #12]
 917 0074 9100     		lsls	r1, r2, #2
 918 0076 BA68     		ldr	r2, [r7, #8]
 919 0078 0A44     		add	r2, r2, r1
 920 007a 0832     		adds	r2, r2, #8
 921 007c 53F82230 		ldr	r3, [r3, r2, lsl #2]
 922              		.loc 3 183 8
 923 0080 002B     		cmp	r3, #0
 924 0082 0ED1     		bne	.L30
 184:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     {
 185:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         dlist_init (&chunk->node);
 925              		.loc 3 185 9
 926 0084 3B68     		ldr	r3, [r7]
 927 0086 0833     		adds	r3, r3, #8
 928 0088 1846     		mov	r0, r3
 929 008a FFF7FEFF 		bl	dlist_init
 186:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         cm->chunks [fl_idx][sl_idx] = chunk;
 930              		.loc 3 186 37
 931 008e 7B68     		ldr	r3, [r7, #4]
 932 0090 FA68     		ldr	r2, [r7, #12]
 933 0092 9100     		lsls	r1, r2, #2
 934 0094 BA68     		ldr	r2, [r7, #8]
 935 0096 0A44     		add	r2, r2, r1
 936 0098 0832     		adds	r2, r2, #8
ARM GAS  /tmp/ccBtvIog.s 			page 26


 937 009a 3968     		ldr	r1, [r7]
 938 009c 43F82210 		str	r1, [r3, r2, lsl #2]
 939 00a0 0FE0     		b	.L31
 940              	.L30:
 187:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     }
 188:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     else
 189:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     {
 190:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         dlist_add_tail (&cm->chunks [fl_idx][sl_idx]->node, &chunk->node);
 941              		.loc 3 190 45
 942 00a2 7B68     		ldr	r3, [r7, #4]
 943 00a4 FA68     		ldr	r2, [r7, #12]
 944 00a6 9100     		lsls	r1, r2, #2
 945 00a8 BA68     		ldr	r2, [r7, #8]
 946 00aa 0A44     		add	r2, r2, r1
 947 00ac 0832     		adds	r2, r2, #8
 948 00ae 53F82230 		ldr	r3, [r3, r2, lsl #2]
 949              		.loc 3 190 9
 950 00b2 03F10802 		add	r2, r3, #8
 951 00b6 3B68     		ldr	r3, [r7]
 952 00b8 0833     		adds	r3, r3, #8
 953 00ba 1946     		mov	r1, r3
 954 00bc 1046     		mov	r0, r2
 955 00be FFF7FEFF 		bl	dlist_add_tail
 956              	.L31:
 191:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     }
 192:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 193:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     return 0;
 957              		.loc 3 193 12
 958 00c2 0023     		movs	r3, #0
 959              	.L29:
 194:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** }
 960              		.loc 3 194 1
 961 00c4 1846     		mov	r0, r3
 962 00c6 1037     		adds	r7, r7, #16
 963              	.LCFI98:
 964              		.cfi_def_cfa_offset 8
 965 00c8 BD46     		mov	sp, r7
 966              	.LCFI99:
 967              		.cfi_def_cfa_register 13
 968              		@ sp needed
 969 00ca 80BD     		pop	{r7, pc}
 970              		.cfi_endproc
 971              	.LFE152:
 973              		.section	.text.__cm_del_chunk,"ax",%progbits
 974              		.align	1
 975              		.syntax unified
 976              		.thumb
 977              		.thumb_func
 978              		.fpu fpv4-sp-d16
 980              	__cm_del_chunk:
 981              	.LFB153:
 195:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 196:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** /**
 197:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * __cm_del_chunk - delete a chunk from a heap (for allocating or merging)
 198:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * @heap:  the given heap
 199:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * @chunk: the chunk to delete
 200:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
ARM GAS  /tmp/ccBtvIog.s 			page 27


 201:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * return: NA
 202:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  */
 203:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 204:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** static inline void __cm_del_chunk (chunk_mgr_t * cm, chunk_t * chunk)
 205:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** {
 982              		.loc 3 205 1
 983              		.cfi_startproc
 984              		@ args = 0, pretend = 0, frame = 16
 985              		@ frame_needed = 1, uses_anonymous_args = 0
 986 0000 80B5     		push	{r7, lr}
 987              	.LCFI100:
 988              		.cfi_def_cfa_offset 8
 989              		.cfi_offset 7, -8
 990              		.cfi_offset 14, -4
 991 0002 84B0     		sub	sp, sp, #16
 992              	.LCFI101:
 993              		.cfi_def_cfa_offset 24
 994 0004 00AF     		add	r7, sp, #0
 995              	.LCFI102:
 996              		.cfi_def_cfa_register 7
 997 0006 7860     		str	r0, [r7, #4]
 998 0008 3960     		str	r1, [r7]
 206:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     int fl_idx = __get_fl_idx (chunk->size);
 999              		.loc 3 206 18
 1000 000a 3B68     		ldr	r3, [r7]
 1001 000c 5B68     		ldr	r3, [r3, #4]
 1002 000e 1846     		mov	r0, r3
 1003 0010 FFF7FEFF 		bl	__get_fl_idx
 1004 0014 F860     		str	r0, [r7, #12]
 207:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     int sl_idx = __get_sl_idx (chunk->size, fl_idx);
 1005              		.loc 3 207 18
 1006 0016 3B68     		ldr	r3, [r7]
 1007 0018 5B68     		ldr	r3, [r3, #4]
 1008 001a F968     		ldr	r1, [r7, #12]
 1009 001c 1846     		mov	r0, r3
 1010 001e FFF7FEFF 		bl	__get_sl_idx
 1011 0022 B860     		str	r0, [r7, #8]
 208:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 209:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     fl_idx -= FL_IDX_BIAS;
 1012              		.loc 3 209 12
 1013 0024 FB68     		ldr	r3, [r7, #12]
 1014 0026 043B     		subs	r3, r3, #4
 1015 0028 FB60     		str	r3, [r7, #12]
 210:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 211:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     if (!dlist_empty (&chunk->node))
 1016              		.loc 3 211 10
 1017 002a 3B68     		ldr	r3, [r7]
 1018 002c 0833     		adds	r3, r3, #8
 1019 002e 1846     		mov	r0, r3
 1020 0030 FFF7FEFF 		bl	dlist_empty
 1021 0034 0346     		mov	r3, r0
 1022              		.loc 3 211 8
 1023 0036 002B     		cmp	r3, #0
 1024 0038 1CD1     		bne	.L33
 212:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     {
 213:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         if (cm->chunks [fl_idx][sl_idx] == chunk)
 1025              		.loc 3 213 32
ARM GAS  /tmp/ccBtvIog.s 			page 28


 1026 003a 7B68     		ldr	r3, [r7, #4]
 1027 003c FA68     		ldr	r2, [r7, #12]
 1028 003e 9100     		lsls	r1, r2, #2
 1029 0040 BA68     		ldr	r2, [r7, #8]
 1030 0042 0A44     		add	r2, r2, r1
 1031 0044 0832     		adds	r2, r2, #8
 1032 0046 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1033              		.loc 3 213 12
 1034 004a 3A68     		ldr	r2, [r7]
 1035 004c 9A42     		cmp	r2, r3
 1036 004e 0BD1     		bne	.L34
 214:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         {
 215:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****             cm->chunks [fl_idx][sl_idx] = container_of (chunk->node.next, chunk_t, node);
 1037              		.loc 3 215 43
 1038 0050 3B68     		ldr	r3, [r7]
 1039 0052 DB68     		ldr	r3, [r3, #12]
 1040 0054 A3F10801 		sub	r1, r3, #8
 1041              		.loc 3 215 41
 1042 0058 7B68     		ldr	r3, [r7, #4]
 1043 005a FA68     		ldr	r2, [r7, #12]
 1044 005c 9000     		lsls	r0, r2, #2
 1045 005e BA68     		ldr	r2, [r7, #8]
 1046 0060 0244     		add	r2, r2, r0
 1047 0062 0832     		adds	r2, r2, #8
 1048 0064 43F82210 		str	r1, [r3, r2, lsl #2]
 1049              	.L34:
 216:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         }
 217:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 218:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         dlist_del (&chunk->node);
 1050              		.loc 3 218 9
 1051 0068 3B68     		ldr	r3, [r7]
 1052 006a 0833     		adds	r3, r3, #8
 1053 006c 1846     		mov	r0, r3
 1054 006e FFF7FEFF 		bl	dlist_del
 219:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 220:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         return;
 1055              		.loc 3 220 9
 1056 0072 30E0     		b	.L32
 1057              	.L33:
 221:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     }
 222:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 223:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     cm->chunks [fl_idx][sl_idx] = NULL;
 1058              		.loc 3 223 33
 1059 0074 7B68     		ldr	r3, [r7, #4]
 1060 0076 FA68     		ldr	r2, [r7, #12]
 1061 0078 9100     		lsls	r1, r2, #2
 1062 007a BA68     		ldr	r2, [r7, #8]
 1063 007c 0A44     		add	r2, r2, r1
 1064 007e 0832     		adds	r2, r2, #8
 1065 0080 0021     		movs	r1, #0
 1066 0082 43F82210 		str	r1, [r3, r2, lsl #2]
 224:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 225:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     cm->sl_bmap [fl_idx] &= ~(1 << sl_idx);
 1067              		.loc 3 225 26
 1068 0086 7A68     		ldr	r2, [r7, #4]
 1069 0088 FB68     		ldr	r3, [r7, #12]
 1070 008a 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccBtvIog.s 			page 29


 1071 008c 0433     		adds	r3, r3, #4
 1072 008e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1073 0090 5AB2     		sxtb	r2, r3
 1074              		.loc 3 225 33
 1075 0092 0121     		movs	r1, #1
 1076 0094 BB68     		ldr	r3, [r7, #8]
 1077 0096 01FA03F3 		lsl	r3, r1, r3
 1078              		.loc 3 225 26
 1079 009a 5BB2     		sxtb	r3, r3
 1080 009c DB43     		mvns	r3, r3
 1081 009e 5BB2     		sxtb	r3, r3
 1082 00a0 1340     		ands	r3, r3, r2
 1083 00a2 5BB2     		sxtb	r3, r3
 1084 00a4 D9B2     		uxtb	r1, r3
 1085 00a6 7A68     		ldr	r2, [r7, #4]
 1086 00a8 FB68     		ldr	r3, [r7, #12]
 1087 00aa 1344     		add	r3, r3, r2
 1088 00ac 0433     		adds	r3, r3, #4
 1089 00ae 0A46     		mov	r2, r1
 1090 00b0 1A70     		strb	r2, [r3]
 226:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 227:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     if (cm->sl_bmap [fl_idx] == 0)
 1091              		.loc 3 227 21
 1092 00b2 7A68     		ldr	r2, [r7, #4]
 1093 00b4 FB68     		ldr	r3, [r7, #12]
 1094 00b6 1344     		add	r3, r3, r2
 1095 00b8 0433     		adds	r3, r3, #4
 1096 00ba 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1097              		.loc 3 227 8
 1098 00bc 002B     		cmp	r3, #0
 1099 00be 0AD1     		bne	.L32
 228:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     {
 229:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         cm->fl_bmap &= ~(1 << (fl_idx + FL_IDX_BIAS));
 1100              		.loc 3 229 21
 1101 00c0 7B68     		ldr	r3, [r7, #4]
 1102 00c2 1B68     		ldr	r3, [r3]
 1103              		.loc 3 229 39
 1104 00c4 FA68     		ldr	r2, [r7, #12]
 1105 00c6 0432     		adds	r2, r2, #4
 1106              		.loc 3 229 28
 1107 00c8 0121     		movs	r1, #1
 1108 00ca 01FA02F2 		lsl	r2, r1, r2
 1109              		.loc 3 229 24
 1110 00ce D243     		mvns	r2, r2
 1111              		.loc 3 229 21
 1112 00d0 1A40     		ands	r2, r2, r3
 1113 00d2 7B68     		ldr	r3, [r7, #4]
 1114 00d4 1A60     		str	r2, [r3]
 1115              	.L32:
 230:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     }
 231:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** }
 1116              		.loc 3 231 1
 1117 00d6 1037     		adds	r7, r7, #16
 1118              	.LCFI103:
 1119              		.cfi_def_cfa_offset 8
 1120 00d8 BD46     		mov	sp, r7
 1121              	.LCFI104:
ARM GAS  /tmp/ccBtvIog.s 			page 30


 1122              		.cfi_def_cfa_register 13
 1123              		@ sp needed
 1124 00da 80BD     		pop	{r7, pc}
 1125              		.cfi_endproc
 1126              	.LFE153:
 1128              		.section	.text.__cm_get_chunk,"ax",%progbits
 1129              		.align	1
 1130              		.syntax unified
 1131              		.thumb
 1132              		.thumb_func
 1133              		.fpu fpv4-sp-d16
 1135              	__cm_get_chunk:
 1136              	.LFB154:
 232:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 233:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** /**
 234:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * __cm_get_chunk - get a proper chunk in the heap
 235:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * @heap:  the heap to allocate from
 236:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * @bytes: size of memory in bytes to allocate
 237:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  *
 238:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  * return: the proper chunk found, or NULL if not found
 239:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****  */
 240:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 241:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** static inline chunk_t * __cm_get_chunk (chunk_mgr_t * cm, size_t bytes)
 242:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** {
 1137              		.loc 3 242 1
 1138              		.cfi_startproc
 1139              		@ args = 0, pretend = 0, frame = 24
 1140              		@ frame_needed = 1, uses_anonymous_args = 0
 1141 0000 80B5     		push	{r7, lr}
 1142              	.LCFI105:
 1143              		.cfi_def_cfa_offset 8
 1144              		.cfi_offset 7, -8
 1145              		.cfi_offset 14, -4
 1146 0002 86B0     		sub	sp, sp, #24
 1147              	.LCFI106:
 1148              		.cfi_def_cfa_offset 32
 1149 0004 00AF     		add	r7, sp, #0
 1150              	.LCFI107:
 1151              		.cfi_def_cfa_register 7
 1152 0006 7860     		str	r0, [r7, #4]
 1153 0008 3960     		str	r1, [r7]
 243:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     int       fl_idx;
 244:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     int       sl_idx;
 245:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     uint32_t  fl_bmap;
 246:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     uint32_t  sl_bmap;
 247:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 248:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     fl_idx = __get_fl_idx (bytes);
 1154              		.loc 3 248 14
 1155 000a 3868     		ldr	r0, [r7]
 1156 000c FFF7FEFF 		bl	__get_fl_idx
 1157 0010 7861     		str	r0, [r7, #20]
 249:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 250:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     bytes += (1 << (fl_idx - SL_BITS)) - 1;
 1158              		.loc 3 250 28
 1159 0012 7B69     		ldr	r3, [r7, #20]
 1160 0014 023B     		subs	r3, r3, #2
 1161              		.loc 3 250 17
ARM GAS  /tmp/ccBtvIog.s 			page 31


 1162 0016 0122     		movs	r2, #1
 1163 0018 02FA03F3 		lsl	r3, r2, r3
 1164              		.loc 3 250 11
 1165 001c 1A46     		mov	r2, r3
 1166 001e 3B68     		ldr	r3, [r7]
 1167 0020 1344     		add	r3, r3, r2
 1168 0022 013B     		subs	r3, r3, #1
 1169 0024 3B60     		str	r3, [r7]
 251:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 252:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     fl_idx = __get_fl_idx (bytes);
 1170              		.loc 3 252 14
 1171 0026 3868     		ldr	r0, [r7]
 1172 0028 FFF7FEFF 		bl	__get_fl_idx
 1173 002c 7861     		str	r0, [r7, #20]
 253:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     sl_idx = __get_sl_idx (bytes, fl_idx);
 1174              		.loc 3 253 14
 1175 002e 7969     		ldr	r1, [r7, #20]
 1176 0030 3868     		ldr	r0, [r7]
 1177 0032 FFF7FEFF 		bl	__get_sl_idx
 1178 0036 F860     		str	r0, [r7, #12]
 254:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 255:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     if (fl_idx > FL_IDX_MAX)
 1179              		.loc 3 255 8
 1180 0038 7B69     		ldr	r3, [r7, #20]
 1181 003a 1D2B     		cmp	r3, #29
 1182 003c 01DD     		ble	.L37
 256:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     {
 257:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         return NULL;
 1183              		.loc 3 257 16
 1184 003e 0023     		movs	r3, #0
 1185 0040 41E0     		b	.L38
 1186              	.L37:
 258:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     }
 259:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 260:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     sl_bmap = cm->sl_bmap [fl_idx - FL_IDX_BIAS] & (0xffffffffu << sl_idx);
 1187              		.loc 3 260 35
 1188 0042 7B69     		ldr	r3, [r7, #20]
 1189 0044 043B     		subs	r3, r3, #4
 1190              		.loc 3 260 27
 1191 0046 7A68     		ldr	r2, [r7, #4]
 1192 0048 1344     		add	r3, r3, r2
 1193 004a 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1194 004c 1946     		mov	r1, r3
 1195              		.loc 3 260 65
 1196 004e 4FF0FF32 		mov	r2, #-1
 1197 0052 FB68     		ldr	r3, [r7, #12]
 1198 0054 02FA03F3 		lsl	r3, r2, r3
 1199              		.loc 3 260 13
 1200 0058 0B40     		ands	r3, r3, r1
 1201 005a 3B61     		str	r3, [r7, #16]
 261:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 262:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     if (sl_bmap == 0)
 1202              		.loc 3 262 8
 1203 005c 3B69     		ldr	r3, [r7, #16]
 1204 005e 002B     		cmp	r3, #0
 1205 0060 1ED1     		bne	.L39
 263:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     {
ARM GAS  /tmp/ccBtvIog.s 			page 32


 264:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         fl_bmap = cm->fl_bmap & (0xffffffffu << (fl_idx + 1));
 1206              		.loc 3 264 21
 1207 0062 7B68     		ldr	r3, [r7, #4]
 1208 0064 1A68     		ldr	r2, [r3]
 1209              		.loc 3 264 57
 1210 0066 7B69     		ldr	r3, [r7, #20]
 1211 0068 0133     		adds	r3, r3, #1
 1212              		.loc 3 264 46
 1213 006a 4FF0FF31 		mov	r1, #-1
 1214 006e 01FA03F3 		lsl	r3, r1, r3
 1215              		.loc 3 264 17
 1216 0072 1340     		ands	r3, r3, r2
 1217 0074 BB60     		str	r3, [r7, #8]
 265:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 266:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         if (fl_bmap == 0)
 1218              		.loc 3 266 12
 1219 0076 BB68     		ldr	r3, [r7, #8]
 1220 0078 002B     		cmp	r3, #0
 1221 007a 01D1     		bne	.L40
 267:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         {
 268:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****             return NULL;
 1222              		.loc 3 268 20
 1223 007c 0023     		movs	r3, #0
 1224 007e 22E0     		b	.L38
 1225              	.L40:
 269:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         }
 270:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 271:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         fl_idx  = CTZ (fl_bmap);
 1226              		.loc 3 271 19
 1227 0080 BB68     		ldr	r3, [r7, #8]
 1228 0082 DA43     		mvns	r2, r3
 1229 0084 BB68     		ldr	r3, [r7, #8]
 1230 0086 013B     		subs	r3, r3, #1
 1231 0088 1340     		ands	r3, r3, r2
 1232 008a B3FA83F3 		clz	r3, r3
 1233              		.loc 3 271 17
 1234 008e C3F12003 		rsb	r3, r3, #32
 1235 0092 7B61     		str	r3, [r7, #20]
 272:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         sl_bmap = cm->sl_bmap [fl_idx - FL_IDX_BIAS];
 1236              		.loc 3 272 39
 1237 0094 7B69     		ldr	r3, [r7, #20]
 1238 0096 043B     		subs	r3, r3, #4
 1239              		.loc 3 272 31
 1240 0098 7A68     		ldr	r2, [r7, #4]
 1241 009a 1344     		add	r3, r3, r2
 1242 009c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1243              		.loc 3 272 17
 1244 009e 3B61     		str	r3, [r7, #16]
 1245              	.L39:
 273:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     }
 274:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 275:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     sl_idx = CTZ (sl_bmap);
 1246              		.loc 3 275 14
 1247 00a0 3B69     		ldr	r3, [r7, #16]
 1248 00a2 DA43     		mvns	r2, r3
 1249 00a4 3B69     		ldr	r3, [r7, #16]
 1250 00a6 013B     		subs	r3, r3, #1
ARM GAS  /tmp/ccBtvIog.s 			page 33


 1251 00a8 1340     		ands	r3, r3, r2
 1252 00aa B3FA83F3 		clz	r3, r3
 1253              		.loc 3 275 12
 1254 00ae C3F12003 		rsb	r3, r3, #32
 1255 00b2 FB60     		str	r3, [r7, #12]
 276:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 277:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     return cm->chunks [fl_idx - FL_IDX_BIAS] [sl_idx];
 1256              		.loc 3 277 31
 1257 00b4 7B69     		ldr	r3, [r7, #20]
 1258 00b6 1A1F     		subs	r2, r3, #4
 1259              		.loc 3 277 46
 1260 00b8 7B68     		ldr	r3, [r7, #4]
 1261 00ba 9100     		lsls	r1, r2, #2
 1262 00bc FA68     		ldr	r2, [r7, #12]
 1263 00be 0A44     		add	r2, r2, r1
 1264 00c0 0832     		adds	r2, r2, #8
 1265 00c2 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1266              	.L38:
 278:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** }
 1267              		.loc 3 278 1
 1268 00c6 1846     		mov	r0, r3
 1269 00c8 1837     		adds	r7, r7, #24
 1270              	.LCFI108:
 1271              		.cfi_def_cfa_offset 8
 1272 00ca BD46     		mov	sp, r7
 1273              	.LCFI109:
 1274              		.cfi_def_cfa_register 13
 1275              		@ sp needed
 1276 00cc 80BD     		pop	{r7, pc}
 1277              		.cfi_endproc
 1278              	.LFE154:
 1280              		.section	.text.__get_max_free,"ax",%progbits
 1281              		.align	1
 1282              		.syntax unified
 1283              		.thumb
 1284              		.thumb_func
 1285              		.fpu fpv4-sp-d16
 1287              	__get_max_free:
 1288              	.LFB155:
 279:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 280:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** #if (LOSCFG_MEM_STATISTICS == YES)
 281:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** static inline size_t __get_max_free (chunk_mgr_t * cm)
 282:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** {
 1289              		.loc 3 282 1
 1290              		.cfi_startproc
 1291              		@ args = 0, pretend = 0, frame = 32
 1292              		@ frame_needed = 1, uses_anonymous_args = 0
 1293              		@ link register save eliminated.
 1294 0000 80B4     		push	{r7}
 1295              	.LCFI110:
 1296              		.cfi_def_cfa_offset 4
 1297              		.cfi_offset 7, -4
 1298 0002 89B0     		sub	sp, sp, #36
 1299              	.LCFI111:
 1300              		.cfi_def_cfa_offset 40
 1301 0004 00AF     		add	r7, sp, #0
 1302              	.LCFI112:
ARM GAS  /tmp/ccBtvIog.s 			page 34


 1303              		.cfi_def_cfa_register 7
 1304 0006 7860     		str	r0, [r7, #4]
 283:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     int       fl_idx;
 284:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     int       sl_idx;
 285:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     dlist_t * itr;
 286:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     size_t    max;
 287:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 288:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     if (cm->fl_bmap == 0)
 1305              		.loc 3 288 11
 1306 0008 7B68     		ldr	r3, [r7, #4]
 1307 000a 1B68     		ldr	r3, [r3]
 1308              		.loc 3 288 8
 1309 000c 002B     		cmp	r3, #0
 1310 000e 01D1     		bne	.L42
 289:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     {
 290:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         return 0;
 1311              		.loc 3 290 16
 1312 0010 0023     		movs	r3, #0
 1313 0012 4AE0     		b	.L43
 1314              	.L42:
 291:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     }
 292:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 293:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     /* find the highest bit in fl_bmap */
 294:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 295:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     fl_idx = CLZ (1) - CLZ (cm->fl_bmap) - FL_IDX_BIAS;
 1315              		.loc 3 295 31
 1316 0014 7B68     		ldr	r3, [r7, #4]
 1317 0016 1B68     		ldr	r3, [r3]
 1318              		.loc 3 295 24
 1319 0018 B3FA83F3 		clz	r3, r3
 1320              		.loc 3 295 12
 1321 001c C3F11B03 		rsb	r3, r3, #27
 1322 0020 7B61     		str	r3, [r7, #20]
 296:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     sl_idx = CLZ (1) - CLZ (cm->sl_bmap [fl_idx]);
 1323              		.loc 3 296 41
 1324 0022 7A68     		ldr	r2, [r7, #4]
 1325 0024 7B69     		ldr	r3, [r7, #20]
 1326 0026 1344     		add	r3, r3, r2
 1327 0028 0433     		adds	r3, r3, #4
 1328 002a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1329              		.loc 3 296 24
 1330 002c B3FA83F3 		clz	r3, r3
 1331              		.loc 3 296 12
 1332 0030 C3F11F03 		rsb	r3, r3, #31
 1333 0034 3B61     		str	r3, [r7, #16]
 297:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 298:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     if (fl_idx >= FL_IDXES)
 1334              		.loc 3 298 8
 1335 0036 7B69     		ldr	r3, [r7, #20]
 1336 0038 182B     		cmp	r3, #24
 1337 003a 01DD     		ble	.L44
 299:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     {
 300:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         return 0;
 1338              		.loc 3 300 16
 1339 003c 0023     		movs	r3, #0
 1340 003e 34E0     		b	.L43
 1341              	.L44:
ARM GAS  /tmp/ccBtvIog.s 			page 35


 301:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     }
 302:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 303:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     if (sl_idx >= SL_IDXES)
 1342              		.loc 3 303 8
 1343 0040 3B69     		ldr	r3, [r7, #16]
 1344 0042 032B     		cmp	r3, #3
 1345 0044 01DD     		ble	.L45
 304:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     {
 305:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         return 0;
 1346              		.loc 3 305 16
 1347 0046 0023     		movs	r3, #0
 1348 0048 2FE0     		b	.L43
 1349              	.L45:
 306:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     }
 307:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 308:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     max = (cm->chunks [fl_idx][sl_idx])->size;
 1350              		.loc 3 308 31
 1351 004a 7B68     		ldr	r3, [r7, #4]
 1352 004c 7A69     		ldr	r2, [r7, #20]
 1353 004e 9100     		lsls	r1, r2, #2
 1354 0050 3A69     		ldr	r2, [r7, #16]
 1355 0052 0A44     		add	r2, r2, r1
 1356 0054 0832     		adds	r2, r2, #8
 1357 0056 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1358              		.loc 3 308 9
 1359 005a 5B68     		ldr	r3, [r3, #4]
 1360 005c BB61     		str	r3, [r7, #24]
 309:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 310:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     dlist_foreach (itr, &cm->chunks [fl_idx][sl_idx]->node)
 1361              		.loc 3 310 5
 1362 005e 7B68     		ldr	r3, [r7, #4]
 1363 0060 7A69     		ldr	r2, [r7, #20]
 1364 0062 9100     		lsls	r1, r2, #2
 1365 0064 3A69     		ldr	r2, [r7, #16]
 1366 0066 0A44     		add	r2, r2, r1
 1367 0068 0832     		adds	r2, r2, #8
 1368 006a 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1369 006e DB68     		ldr	r3, [r3, #12]
 1370 0070 FB61     		str	r3, [r7, #28]
 1371 0072 0DE0     		b	.L46
 1372              	.L48:
 1373              	.LBB2:
 311:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     {
 312:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         chunk_t * chunk = container_of (itr, chunk_t, node);
 1374              		.loc 3 312 19
 1375 0074 FB69     		ldr	r3, [r7, #28]
 1376 0076 083B     		subs	r3, r3, #8
 1377 0078 FB60     		str	r3, [r7, #12]
 313:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 314:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         if (chunk->size > max)
 1378              		.loc 3 314 18
 1379 007a FB68     		ldr	r3, [r7, #12]
 1380 007c 5B68     		ldr	r3, [r3, #4]
 1381              		.loc 3 314 12
 1382 007e BA69     		ldr	r2, [r7, #24]
 1383 0080 9A42     		cmp	r2, r3
 1384 0082 02D2     		bcs	.L47
ARM GAS  /tmp/ccBtvIog.s 			page 36


 315:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         {
 316:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****             max = chunk->size;
 1385              		.loc 3 316 17
 1386 0084 FB68     		ldr	r3, [r7, #12]
 1387 0086 5B68     		ldr	r3, [r3, #4]
 1388 0088 BB61     		str	r3, [r7, #24]
 1389              	.L47:
 1390              	.LBE2:
 310:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     {
 1391              		.loc 3 310 5 discriminator 2
 1392 008a FB69     		ldr	r3, [r7, #28]
 1393 008c 5B68     		ldr	r3, [r3, #4]
 1394 008e FB61     		str	r3, [r7, #28]
 1395              	.L46:
 310:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     {
 1396              		.loc 3 310 5 is_stmt 0 discriminator 1
 1397 0090 7B68     		ldr	r3, [r7, #4]
 1398 0092 7A69     		ldr	r2, [r7, #20]
 1399 0094 9100     		lsls	r1, r2, #2
 1400 0096 3A69     		ldr	r2, [r7, #16]
 1401 0098 0A44     		add	r2, r2, r1
 1402 009a 0832     		adds	r2, r2, #8
 1403 009c 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1404 00a0 0833     		adds	r3, r3, #8
 1405 00a2 FA69     		ldr	r2, [r7, #28]
 1406 00a4 9A42     		cmp	r2, r3
 1407 00a6 E5D1     		bne	.L48
 317:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****         }
 318:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     }
 319:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** 
 320:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h ****     return max;
 1408              		.loc 3 320 12 is_stmt 1
 1409 00a8 BB69     		ldr	r3, [r7, #24]
 1410              	.L43:
 321:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/cm-tlsf.h **** }
 1411              		.loc 3 321 1
 1412 00aa 1846     		mov	r0, r3
 1413 00ac 2437     		adds	r7, r7, #36
 1414              	.LCFI113:
 1415              		.cfi_def_cfa_offset 4
 1416 00ae BD46     		mov	sp, r7
 1417              	.LCFI114:
 1418              		.cfi_def_cfa_register 13
 1419              		@ sp needed
 1420 00b0 5DF8047B 		ldr	r7, [sp], #4
 1421              	.LCFI115:
 1422              		.cfi_restore 7
 1423              		.cfi_def_cfa_offset 0
 1424 00b4 7047     		bx	lr
 1425              		.cfi_endproc
 1426              	.LFE155:
 1428              		.section	.text.__stat_chunk_add,"ax",%progbits
 1429              		.align	1
 1430              		.syntax unified
 1431              		.thumb
 1432              		.thumb_func
 1433              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccBtvIog.s 			page 37


 1435              	__stat_chunk_add:
 1436              	.LFB156:
 1437              		.file 4 "/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h"
   1:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** /*----------------------------------------------------------------------------
   2:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * Copyright (c) <2018>, <Huawei Technologies Co., Ltd>
   3:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * All rights reserved.
   4:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * Redistribution and use in source and binary forms, with or without modification,
   5:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * are permitted provided that the following conditions are met:
   6:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * conditions and the following disclaimer.
   8:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * provided with the distribution.
  11:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * to endorse or promote products derived from this software without specific prior written
  13:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * permission.
  14:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  *---------------------------------------------------------------------------*/
  26:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** /*----------------------------------------------------------------------------
  27:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * Notice of Export Control Law
  28:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * ===============================================
  29:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  * applicable export control laws and regulations.
  33:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****  *---------------------------------------------------------------------------*/
  34:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
  35:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #ifndef __HEAP_H__
  36:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #define __HEAP_H__
  37:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
  38:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #include <los_config.h>
  39:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
  40:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #include <stddef.h>
  41:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #include <stdbool.h>
  42:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
  43:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #include <los_mux.h>
  44:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
  45:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #include <los_slab.ph>
  46:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
  47:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #include "chunk.h"
  48:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
  49:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #if !defined (LOSCFG_CONFIG_CM_TLSF) && !defined (LOSCFG_CONFIG_CM_BESTFIT)
  50:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #define LOSCFG_CONFIG_CM_BESTFIT
  51:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #endif
  52:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
  53:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #if   defined (LOSCFG_CONFIG_CM_TLSF)
  54:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #include "cm-tlsf.h"
ARM GAS  /tmp/ccBtvIog.s 			page 38


  55:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #elif defined (LOSCFG_CONFIG_CM_BESTFIT)
  56:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #include "cm-bestfit.h"
  57:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #endif
  58:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
  59:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #define MIN_BLOCK_SIZE          (sizeof (block_t) + sizeof (ach_t) * 2 + \
  60:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****                                  sizeof (fch_t))
  61:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
  62:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #ifndef ALLOC_ALIGN
  63:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #define ALLOC_ALIGN             8
  64:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #endif
  65:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
  66:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** typedef struct block
  67:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** {
  68:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     struct block * next;        /* link into next block      */
  69:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     size_t         size;
  70:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** } block_t;
  71:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
  72:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #if (LOSCFG_MEM_STATISTICS == YES)
  73:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** typedef struct mem_stat
  74:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** {
  75:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     unsigned int       free_chunks;
  76:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     size_t             free_size;
  77:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     unsigned int       busy_chunks;
  78:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     size_t             busy_size;
  79:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     size_t             max_busy_size;
  80:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     size_t             max_free_size;
  81:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     unsigned long long cum_allocated;
  82:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     unsigned long long cum_size_allocated;
  83:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     unsigned long long cum_freed;
  84:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     unsigned long long cum_size_freed;
  85:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** } mem_stat_t;
  86:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #endif
  87:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
  88:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** typedef struct heap
  89:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** {
  90:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     chunk_mgr_t        cm;
  91:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     block_t          * blocks;
  92:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     UINT32             mux;
  93:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #if (LOSCFG_MEM_STATISTICS == YES)
  94:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     struct mem_stat    stat;
  95:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #endif
  96:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #if (LOSCFG_KERNEL_MEM_SLAB == YES)
  97:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     struct LOS_SLAB_CONTROL_HEADER stSlabCtrlHdr;
  98:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #endif
  99:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** } heap_t;
 100:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
 101:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** /* inlines */
 102:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
 103:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** #if (LOSCFG_MEM_STATISTICS == YES)
 104:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** static inline void __stat_chunk_add (mem_stat_t * stat, chunk_t * chunk)
 105:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** {
 1438              		.loc 4 105 1
 1439              		.cfi_startproc
 1440              		@ args = 0, pretend = 0, frame = 8
 1441              		@ frame_needed = 1, uses_anonymous_args = 0
 1442              		@ link register save eliminated.
 1443 0000 80B4     		push	{r7}
ARM GAS  /tmp/ccBtvIog.s 			page 39


 1444              	.LCFI116:
 1445              		.cfi_def_cfa_offset 4
 1446              		.cfi_offset 7, -4
 1447 0002 83B0     		sub	sp, sp, #12
 1448              	.LCFI117:
 1449              		.cfi_def_cfa_offset 16
 1450 0004 00AF     		add	r7, sp, #0
 1451              	.LCFI118:
 1452              		.cfi_def_cfa_register 7
 1453 0006 7860     		str	r0, [r7, #4]
 1454 0008 3960     		str	r1, [r7]
 106:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     stat->free_chunks++;
 1455              		.loc 4 106 9
 1456 000a 7B68     		ldr	r3, [r7, #4]
 1457 000c 1B68     		ldr	r3, [r3]
 1458              		.loc 4 106 22
 1459 000e 5A1C     		adds	r2, r3, #1
 1460 0010 7B68     		ldr	r3, [r7, #4]
 1461 0012 1A60     		str	r2, [r3]
 107:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     stat->free_size += (chunk->size - sizeof (ach_t));
 1462              		.loc 4 107 21
 1463 0014 7B68     		ldr	r3, [r7, #4]
 1464 0016 5A68     		ldr	r2, [r3, #4]
 1465              		.loc 4 107 30
 1466 0018 3B68     		ldr	r3, [r7]
 1467 001a 5B68     		ldr	r3, [r3, #4]
 1468              		.loc 4 107 21
 1469 001c 1344     		add	r3, r3, r2
 1470 001e A3F10802 		sub	r2, r3, #8
 1471 0022 7B68     		ldr	r3, [r7, #4]
 1472 0024 5A60     		str	r2, [r3, #4]
 108:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** }
 1473              		.loc 4 108 1
 1474 0026 00BF     		nop
 1475 0028 0C37     		adds	r7, r7, #12
 1476              	.LCFI119:
 1477              		.cfi_def_cfa_offset 4
 1478 002a BD46     		mov	sp, r7
 1479              	.LCFI120:
 1480              		.cfi_def_cfa_register 13
 1481              		@ sp needed
 1482 002c 5DF8047B 		ldr	r7, [sp], #4
 1483              	.LCFI121:
 1484              		.cfi_restore 7
 1485              		.cfi_def_cfa_offset 0
 1486 0030 7047     		bx	lr
 1487              		.cfi_endproc
 1488              	.LFE156:
 1490              		.section	.text.__stat_chunk_del,"ax",%progbits
 1491              		.align	1
 1492              		.syntax unified
 1493              		.thumb
 1494              		.thumb_func
 1495              		.fpu fpv4-sp-d16
 1497              	__stat_chunk_del:
 1498              	.LFB157:
 109:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
ARM GAS  /tmp/ccBtvIog.s 			page 40


 110:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** static inline void __stat_chunk_del (mem_stat_t * stat, chunk_t * chunk)
 111:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** {
 1499              		.loc 4 111 1
 1500              		.cfi_startproc
 1501              		@ args = 0, pretend = 0, frame = 8
 1502              		@ frame_needed = 1, uses_anonymous_args = 0
 1503              		@ link register save eliminated.
 1504 0000 80B4     		push	{r7}
 1505              	.LCFI122:
 1506              		.cfi_def_cfa_offset 4
 1507              		.cfi_offset 7, -4
 1508 0002 83B0     		sub	sp, sp, #12
 1509              	.LCFI123:
 1510              		.cfi_def_cfa_offset 16
 1511 0004 00AF     		add	r7, sp, #0
 1512              	.LCFI124:
 1513              		.cfi_def_cfa_register 7
 1514 0006 7860     		str	r0, [r7, #4]
 1515 0008 3960     		str	r1, [r7]
 112:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     stat->free_chunks--;
 1516              		.loc 4 112 9
 1517 000a 7B68     		ldr	r3, [r7, #4]
 1518 000c 1B68     		ldr	r3, [r3]
 1519              		.loc 4 112 22
 1520 000e 5A1E     		subs	r2, r3, #1
 1521 0010 7B68     		ldr	r3, [r7, #4]
 1522 0012 1A60     		str	r2, [r3]
 113:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     stat->free_size -= (chunk->size - sizeof (ach_t));
 1523              		.loc 4 113 21
 1524 0014 7B68     		ldr	r3, [r7, #4]
 1525 0016 5A68     		ldr	r2, [r3, #4]
 1526              		.loc 4 113 30
 1527 0018 3B68     		ldr	r3, [r7]
 1528 001a 5B68     		ldr	r3, [r3, #4]
 1529              		.loc 4 113 21
 1530 001c D31A     		subs	r3, r2, r3
 1531 001e 03F10802 		add	r2, r3, #8
 1532 0022 7B68     		ldr	r3, [r7, #4]
 1533 0024 5A60     		str	r2, [r3, #4]
 114:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** }
 1534              		.loc 4 114 1
 1535 0026 00BF     		nop
 1536 0028 0C37     		adds	r7, r7, #12
 1537              	.LCFI125:
 1538              		.cfi_def_cfa_offset 4
 1539 002a BD46     		mov	sp, r7
 1540              	.LCFI126:
 1541              		.cfi_def_cfa_register 13
 1542              		@ sp needed
 1543 002c 5DF8047B 		ldr	r7, [sp], #4
 1544              	.LCFI127:
 1545              		.cfi_restore 7
 1546              		.cfi_def_cfa_offset 0
 1547 0030 7047     		bx	lr
 1548              		.cfi_endproc
 1549              	.LFE157:
 1551              		.section	.text.__stat_chunk_alloc,"ax",%progbits
ARM GAS  /tmp/ccBtvIog.s 			page 41


 1552              		.align	1
 1553              		.syntax unified
 1554              		.thumb
 1555              		.thumb_func
 1556              		.fpu fpv4-sp-d16
 1558              	__stat_chunk_alloc:
 1559              	.LFB158:
 115:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
 116:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** static inline void __stat_chunk_alloc (mem_stat_t * stat, chunk_t * chunk)
 117:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** {
 1560              		.loc 4 117 1
 1561              		.cfi_startproc
 1562              		@ args = 0, pretend = 0, frame = 8
 1563              		@ frame_needed = 1, uses_anonymous_args = 0
 1564              		@ link register save eliminated.
 1565 0000 2DE9B003 		push	{r4, r5, r7, r8, r9}
 1566              	.LCFI128:
 1567              		.cfi_def_cfa_offset 20
 1568              		.cfi_offset 4, -20
 1569              		.cfi_offset 5, -16
 1570              		.cfi_offset 7, -12
 1571              		.cfi_offset 8, -8
 1572              		.cfi_offset 9, -4
 1573 0004 83B0     		sub	sp, sp, #12
 1574              	.LCFI129:
 1575              		.cfi_def_cfa_offset 32
 1576 0006 00AF     		add	r7, sp, #0
 1577              	.LCFI130:
 1578              		.cfi_def_cfa_register 7
 1579 0008 7860     		str	r0, [r7, #4]
 1580 000a 3960     		str	r1, [r7]
 118:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     stat->busy_chunks++;
 1581              		.loc 4 118 9
 1582 000c 7B68     		ldr	r3, [r7, #4]
 1583 000e 9B68     		ldr	r3, [r3, #8]
 1584              		.loc 4 118 22
 1585 0010 5A1C     		adds	r2, r3, #1
 1586 0012 7B68     		ldr	r3, [r7, #4]
 1587 0014 9A60     		str	r2, [r3, #8]
 119:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     stat->busy_size += chunk->size;
 1588              		.loc 4 119 21
 1589 0016 7B68     		ldr	r3, [r7, #4]
 1590 0018 DA68     		ldr	r2, [r3, #12]
 1591              		.loc 4 119 29
 1592 001a 3B68     		ldr	r3, [r7]
 1593 001c 5B68     		ldr	r3, [r3, #4]
 1594              		.loc 4 119 21
 1595 001e 1A44     		add	r2, r2, r3
 1596 0020 7B68     		ldr	r3, [r7, #4]
 1597 0022 DA60     		str	r2, [r3, #12]
 120:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     stat->cum_allocated++;
 1598              		.loc 4 120 9
 1599 0024 7B68     		ldr	r3, [r7, #4]
 1600 0026 D3E90623 		ldrd	r2, [r3, #24]
 1601              		.loc 4 120 24
 1602 002a 12F10108 		adds	r8, r2, #1
 1603 002e 43F10009 		adc	r9, r3, #0
ARM GAS  /tmp/ccBtvIog.s 			page 42


 1604 0032 7B68     		ldr	r3, [r7, #4]
 1605 0034 C3E90689 		strd	r8, [r3, #24]
 121:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     stat->cum_size_allocated += chunk->size;
 1606              		.loc 4 121 30
 1607 0038 7B68     		ldr	r3, [r7, #4]
 1608 003a D3E90801 		ldrd	r0, [r3, #32]
 1609              		.loc 4 121 38
 1610 003e 3B68     		ldr	r3, [r7]
 1611 0040 5B68     		ldr	r3, [r3, #4]
 1612 0042 1A46     		mov	r2, r3
 1613 0044 4FF00003 		mov	r3, #0
 1614              		.loc 4 121 30
 1615 0048 8418     		adds	r4, r0, r2
 1616 004a 41EB0305 		adc	r5, r1, r3
 1617 004e 7B68     		ldr	r3, [r7, #4]
 1618 0050 C3E90845 		strd	r4, [r3, #32]
 122:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
 123:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     if (stat->busy_size > stat->max_busy_size)
 1619              		.loc 4 123 13
 1620 0054 7B68     		ldr	r3, [r7, #4]
 1621 0056 DA68     		ldr	r2, [r3, #12]
 1622              		.loc 4 123 31
 1623 0058 7B68     		ldr	r3, [r7, #4]
 1624 005a 1B69     		ldr	r3, [r3, #16]
 1625              		.loc 4 123 8
 1626 005c 9A42     		cmp	r2, r3
 1627 005e 03D9     		bls	.L53
 124:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     {
 125:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****         stat->max_busy_size = stat->busy_size;
 1628              		.loc 4 125 35
 1629 0060 7B68     		ldr	r3, [r7, #4]
 1630 0062 DA68     		ldr	r2, [r3, #12]
 1631              		.loc 4 125 29
 1632 0064 7B68     		ldr	r3, [r7, #4]
 1633 0066 1A61     		str	r2, [r3, #16]
 1634              	.L53:
 126:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     }
 127:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** }
 1635              		.loc 4 127 1
 1636 0068 00BF     		nop
 1637 006a 0C37     		adds	r7, r7, #12
 1638              	.LCFI131:
 1639              		.cfi_def_cfa_offset 20
 1640 006c BD46     		mov	sp, r7
 1641              	.LCFI132:
 1642              		.cfi_def_cfa_register 13
 1643              		@ sp needed
 1644 006e BDE8B003 		pop	{r4, r5, r7, r8, r9}
 1645              	.LCFI133:
 1646              		.cfi_restore 9
 1647              		.cfi_restore 8
 1648              		.cfi_restore 7
 1649              		.cfi_restore 5
 1650              		.cfi_restore 4
 1651              		.cfi_def_cfa_offset 0
 1652 0072 7047     		bx	lr
 1653              		.cfi_endproc
ARM GAS  /tmp/ccBtvIog.s 			page 43


 1654              	.LFE158:
 1656              		.section	.text.__stat_chunk_free,"ax",%progbits
 1657              		.align	1
 1658              		.syntax unified
 1659              		.thumb
 1660              		.thumb_func
 1661              		.fpu fpv4-sp-d16
 1663              	__stat_chunk_free:
 1664              	.LFB159:
 128:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** 
 129:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** static inline void __stat_chunk_free (mem_stat_t * stat, chunk_t * chunk)
 130:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** {
 1665              		.loc 4 130 1
 1666              		.cfi_startproc
 1667              		@ args = 0, pretend = 0, frame = 8
 1668              		@ frame_needed = 1, uses_anonymous_args = 0
 1669              		@ link register save eliminated.
 1670 0000 2DE9B003 		push	{r4, r5, r7, r8, r9}
 1671              	.LCFI134:
 1672              		.cfi_def_cfa_offset 20
 1673              		.cfi_offset 4, -20
 1674              		.cfi_offset 5, -16
 1675              		.cfi_offset 7, -12
 1676              		.cfi_offset 8, -8
 1677              		.cfi_offset 9, -4
 1678 0004 83B0     		sub	sp, sp, #12
 1679              	.LCFI135:
 1680              		.cfi_def_cfa_offset 32
 1681 0006 00AF     		add	r7, sp, #0
 1682              	.LCFI136:
 1683              		.cfi_def_cfa_register 7
 1684 0008 7860     		str	r0, [r7, #4]
 1685 000a 3960     		str	r1, [r7]
 131:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     stat->busy_chunks--;
 1686              		.loc 4 131 9
 1687 000c 7B68     		ldr	r3, [r7, #4]
 1688 000e 9B68     		ldr	r3, [r3, #8]
 1689              		.loc 4 131 22
 1690 0010 5A1E     		subs	r2, r3, #1
 1691 0012 7B68     		ldr	r3, [r7, #4]
 1692 0014 9A60     		str	r2, [r3, #8]
 132:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     stat->busy_size -= chunk->size;
 1693              		.loc 4 132 21
 1694 0016 7B68     		ldr	r3, [r7, #4]
 1695 0018 DA68     		ldr	r2, [r3, #12]
 1696              		.loc 4 132 29
 1697 001a 3B68     		ldr	r3, [r7]
 1698 001c 5B68     		ldr	r3, [r3, #4]
 1699              		.loc 4 132 21
 1700 001e D21A     		subs	r2, r2, r3
 1701 0020 7B68     		ldr	r3, [r7, #4]
 1702 0022 DA60     		str	r2, [r3, #12]
 133:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     stat->cum_freed++;
 1703              		.loc 4 133 9
 1704 0024 7B68     		ldr	r3, [r7, #4]
 1705 0026 D3E90A23 		ldrd	r2, [r3, #40]
 1706              		.loc 4 133 20
ARM GAS  /tmp/ccBtvIog.s 			page 44


 1707 002a 12F10108 		adds	r8, r2, #1
 1708 002e 43F10009 		adc	r9, r3, #0
 1709 0032 7B68     		ldr	r3, [r7, #4]
 1710 0034 C3E90A89 		strd	r8, [r3, #40]
 134:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h ****     stat->cum_size_freed += chunk->size;
 1711              		.loc 4 134 26
 1712 0038 7B68     		ldr	r3, [r7, #4]
 1713 003a D3E90C01 		ldrd	r0, [r3, #48]
 1714              		.loc 4 134 34
 1715 003e 3B68     		ldr	r3, [r7]
 1716 0040 5B68     		ldr	r3, [r3, #4]
 1717 0042 1A46     		mov	r2, r3
 1718 0044 4FF00003 		mov	r3, #0
 1719              		.loc 4 134 26
 1720 0048 8418     		adds	r4, r0, r2
 1721 004a 41EB0305 		adc	r5, r1, r3
 1722 004e 7B68     		ldr	r3, [r7, #4]
 1723 0050 C3E90C45 		strd	r4, [r3, #48]
 135:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/heap.h **** }
 1724              		.loc 4 135 1
 1725 0054 00BF     		nop
 1726 0056 0C37     		adds	r7, r7, #12
 1727              	.LCFI137:
 1728              		.cfi_def_cfa_offset 20
 1729 0058 BD46     		mov	sp, r7
 1730              	.LCFI138:
 1731              		.cfi_def_cfa_register 13
 1732              		@ sp needed
 1733 005a BDE8B003 		pop	{r4, r5, r7, r8, r9}
 1734              	.LCFI139:
 1735              		.cfi_restore 9
 1736              		.cfi_restore 8
 1737              		.cfi_restore 7
 1738              		.cfi_restore 5
 1739              		.cfi_restore 4
 1740              		.cfi_def_cfa_offset 0
 1741 005e 7047     		bx	lr
 1742              		.cfi_endproc
 1743              	.LFE159:
 1745              		.section	.text.__put_chunk,"ax",%progbits
 1746              		.align	1
 1747              		.syntax unified
 1748              		.thumb
 1749              		.thumb_func
 1750              		.fpu fpv4-sp-d16
 1752              	__put_chunk:
 1753              	.LFB160:
 1754              		.file 5 "/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c"
   1:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** /*----------------------------------------------------------------------------
   2:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * Copyright (c) <2013-2015>, <Huawei Technologies Co., Ltd>
   3:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * All rights reserved.
   4:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * are permitted provided that the following conditions are met:
   6:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * conditions and the following disclaimer.
   8:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
ARM GAS  /tmp/ccBtvIog.s 			page 45


  10:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * provided with the distribution.
  11:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * to endorse or promote products derived from this software without specific prior written
  13:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * permission.
  14:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  *---------------------------------------------------------------------------*/
  26:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** /*----------------------------------------------------------------------------
  27:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * Notice of Export Control Law
  28:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * ===============================================
  29:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * applicable export control laws and regulations.
  33:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  *---------------------------------------------------------------------------*/
  34:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  35:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #include <los_config.h>
  36:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #include <los_printf.h>
  37:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  38:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #if (LOSCFG_HEAP_IMPROVED == YES)
  39:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  40:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #include <string.h>
  41:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  42:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #include <heap.h>
  43:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #include <mem.h>
  44:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  45:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** static inline int __put_chunk (heap_t * heap, chunk_t * chunk)
  46:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** {
 1755              		.loc 5 46 1
 1756              		.cfi_startproc
 1757              		@ args = 0, pretend = 0, frame = 8
 1758              		@ frame_needed = 1, uses_anonymous_args = 0
 1759 0000 80B5     		push	{r7, lr}
 1760              	.LCFI140:
 1761              		.cfi_def_cfa_offset 8
 1762              		.cfi_offset 7, -8
 1763              		.cfi_offset 14, -4
 1764 0002 82B0     		sub	sp, sp, #8
 1765              	.LCFI141:
 1766              		.cfi_def_cfa_offset 16
 1767 0004 00AF     		add	r7, sp, #0
 1768              	.LCFI142:
 1769              		.cfi_def_cfa_register 7
 1770 0006 7860     		str	r0, [r7, #4]
 1771 0008 3960     		str	r1, [r7]
  47:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (__cm_put_chunk (&heap->cm, chunk) != 0)
 1772              		.loc 5 47 9
 1773 000a 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccBtvIog.s 			page 46


 1774 000c 3968     		ldr	r1, [r7]
 1775 000e 1846     		mov	r0, r3
 1776 0010 FFF7FEFF 		bl	__cm_put_chunk
 1777 0014 0346     		mov	r3, r0
 1778              		.loc 5 47 8
 1779 0016 002B     		cmp	r3, #0
 1780 0018 02D0     		beq	.L56
  48:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
  49:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return -1;
 1781              		.loc 5 49 16
 1782 001a 4FF0FF33 		mov	r3, #-1
 1783 001e 07E0     		b	.L57
 1784              	.L56:
  50:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
  51:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  52:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #if (LOSCFG_MEM_STATISTICS == YES)
  53:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     __stat_chunk_add (&heap->stat, chunk);
 1785              		.loc 5 53 23
 1786 0020 7B68     		ldr	r3, [r7, #4]
 1787 0022 03F5DC73 		add	r3, r3, #440
 1788              		.loc 5 53 5
 1789 0026 3968     		ldr	r1, [r7]
 1790 0028 1846     		mov	r0, r3
 1791 002a FFF7FEFF 		bl	__stat_chunk_add
  54:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #endif
  55:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  56:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     return 0;
 1792              		.loc 5 56 12
 1793 002e 0023     		movs	r3, #0
 1794              	.L57:
  57:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** }
 1795              		.loc 5 57 1
 1796 0030 1846     		mov	r0, r3
 1797 0032 0837     		adds	r7, r7, #8
 1798              	.LCFI143:
 1799              		.cfi_def_cfa_offset 8
 1800 0034 BD46     		mov	sp, r7
 1801              	.LCFI144:
 1802              		.cfi_def_cfa_register 13
 1803              		@ sp needed
 1804 0036 80BD     		pop	{r7, pc}
 1805              		.cfi_endproc
 1806              	.LFE160:
 1808              		.section	.text.__del_chunk,"ax",%progbits
 1809              		.align	1
 1810              		.syntax unified
 1811              		.thumb
 1812              		.thumb_func
 1813              		.fpu fpv4-sp-d16
 1815              	__del_chunk:
 1816              	.LFB161:
  58:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  59:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** static inline void __del_chunk (heap_t * heap, chunk_t * chunk)
  60:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** {
 1817              		.loc 5 60 1
 1818              		.cfi_startproc
 1819              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccBtvIog.s 			page 47


 1820              		@ frame_needed = 1, uses_anonymous_args = 0
 1821 0000 80B5     		push	{r7, lr}
 1822              	.LCFI145:
 1823              		.cfi_def_cfa_offset 8
 1824              		.cfi_offset 7, -8
 1825              		.cfi_offset 14, -4
 1826 0002 82B0     		sub	sp, sp, #8
 1827              	.LCFI146:
 1828              		.cfi_def_cfa_offset 16
 1829 0004 00AF     		add	r7, sp, #0
 1830              	.LCFI147:
 1831              		.cfi_def_cfa_register 7
 1832 0006 7860     		str	r0, [r7, #4]
 1833 0008 3960     		str	r1, [r7]
  61:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     __cm_del_chunk (&heap->cm, chunk);
 1834              		.loc 5 61 5
 1835 000a 7B68     		ldr	r3, [r7, #4]
 1836 000c 3968     		ldr	r1, [r7]
 1837 000e 1846     		mov	r0, r3
 1838 0010 FFF7FEFF 		bl	__cm_del_chunk
  62:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  63:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #if (LOSCFG_MEM_STATISTICS == YES)
  64:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     __stat_chunk_del (&heap->stat, chunk);
 1839              		.loc 5 64 23
 1840 0014 7B68     		ldr	r3, [r7, #4]
 1841 0016 03F5DC73 		add	r3, r3, #440
 1842              		.loc 5 64 5
 1843 001a 3968     		ldr	r1, [r7]
 1844 001c 1846     		mov	r0, r3
 1845 001e FFF7FEFF 		bl	__stat_chunk_del
  65:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #endif
  66:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** }
 1846              		.loc 5 66 1
 1847 0022 00BF     		nop
 1848 0024 0837     		adds	r7, r7, #8
 1849              	.LCFI148:
 1850              		.cfi_def_cfa_offset 8
 1851 0026 BD46     		mov	sp, r7
 1852              	.LCFI149:
 1853              		.cfi_def_cfa_register 13
 1854              		@ sp needed
 1855 0028 80BD     		pop	{r7, pc}
 1856              		.cfi_endproc
 1857              	.LFE161:
 1859              		.section	.text.__get_chunk,"ax",%progbits
 1860              		.align	1
 1861              		.syntax unified
 1862              		.thumb
 1863              		.thumb_func
 1864              		.fpu fpv4-sp-d16
 1866              	__get_chunk:
 1867              	.LFB162:
  67:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  68:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** static inline chunk_t * __get_chunk (heap_t * heap, size_t size)
  69:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** {
 1868              		.loc 5 69 1
 1869              		.cfi_startproc
ARM GAS  /tmp/ccBtvIog.s 			page 48


 1870              		@ args = 0, pretend = 0, frame = 16
 1871              		@ frame_needed = 1, uses_anonymous_args = 0
 1872 0000 80B5     		push	{r7, lr}
 1873              	.LCFI150:
 1874              		.cfi_def_cfa_offset 8
 1875              		.cfi_offset 7, -8
 1876              		.cfi_offset 14, -4
 1877 0002 84B0     		sub	sp, sp, #16
 1878              	.LCFI151:
 1879              		.cfi_def_cfa_offset 24
 1880 0004 00AF     		add	r7, sp, #0
 1881              	.LCFI152:
 1882              		.cfi_def_cfa_register 7
 1883 0006 7860     		str	r0, [r7, #4]
 1884 0008 3960     		str	r1, [r7]
  70:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk_t * chunk = __cm_get_chunk (&heap->cm, size);
 1885              		.loc 5 70 23
 1886 000a 7B68     		ldr	r3, [r7, #4]
 1887 000c 3968     		ldr	r1, [r7]
 1888 000e 1846     		mov	r0, r3
 1889 0010 FFF7FEFF 		bl	__cm_get_chunk
 1890 0014 F860     		str	r0, [r7, #12]
  71:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  72:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (chunk != NULL)
 1891              		.loc 5 72 8
 1892 0016 FB68     		ldr	r3, [r7, #12]
 1893 0018 002B     		cmp	r3, #0
 1894 001a 03D0     		beq	.L60
  73:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
  74:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         __del_chunk (heap, chunk);
 1895              		.loc 5 74 9
 1896 001c F968     		ldr	r1, [r7, #12]
 1897 001e 7868     		ldr	r0, [r7, #4]
 1898 0020 FFF7FEFF 		bl	__del_chunk
 1899              	.L60:
  75:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
  76:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  77:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     return chunk;
 1900              		.loc 5 77 12
 1901 0024 FB68     		ldr	r3, [r7, #12]
  78:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** }
 1902              		.loc 5 78 1
 1903 0026 1846     		mov	r0, r3
 1904 0028 1037     		adds	r7, r7, #16
 1905              	.LCFI153:
 1906              		.cfi_def_cfa_offset 8
 1907 002a BD46     		mov	sp, r7
 1908              	.LCFI154:
 1909              		.cfi_def_cfa_register 13
 1910              		@ sp needed
 1911 002c 80BD     		pop	{r7, pc}
 1912              		.cfi_endproc
 1913              	.LFE162:
 1915              		.section	.text.heap_init,"ax",%progbits
 1916              		.align	1
 1917              		.global	heap_init
 1918              		.syntax unified
ARM GAS  /tmp/ccBtvIog.s 			page 49


 1919              		.thumb
 1920              		.thumb_func
 1921              		.fpu fpv4-sp-d16
 1923              	heap_init:
 1924              	.LFB163:
  79:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  80:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** /**
  81:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * heap_init - initialize a heap struct
  82:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @heap: the given heap
  83:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  *
  84:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * return: 0 on success, negtive value on error
  85:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  */
  86:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  87:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** int heap_init (heap_t * heap)
  88:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** {
 1925              		.loc 5 88 1
 1926              		.cfi_startproc
 1927              		@ args = 0, pretend = 0, frame = 16
 1928              		@ frame_needed = 1, uses_anonymous_args = 0
 1929 0000 80B5     		push	{r7, lr}
 1930              	.LCFI155:
 1931              		.cfi_def_cfa_offset 8
 1932              		.cfi_offset 7, -8
 1933              		.cfi_offset 14, -4
 1934 0002 84B0     		sub	sp, sp, #16
 1935              	.LCFI156:
 1936              		.cfi_def_cfa_offset 24
 1937 0004 00AF     		add	r7, sp, #0
 1938              	.LCFI157:
 1939              		.cfi_def_cfa_register 7
 1940 0006 7860     		str	r0, [r7, #4]
  89:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     UINT32 ret;
  90:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  91:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (heap == NULL)
 1941              		.loc 5 91 8
 1942 0008 7B68     		ldr	r3, [r7, #4]
 1943 000a 002B     		cmp	r3, #0
 1944 000c 02D1     		bne	.L63
  92:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
  93:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return -1;
 1945              		.loc 5 93 16
 1946 000e 4FF0FF33 		mov	r3, #-1
 1947 0012 16E0     		b	.L64
 1948              	.L63:
  94:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
  95:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  96:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     memset (heap, 0, sizeof (heap_t));
 1949              		.loc 5 96 5
 1950 0014 4FF40C72 		mov	r2, #560
 1951 0018 0021     		movs	r1, #0
 1952 001a 7868     		ldr	r0, [r7, #4]
 1953 001c FFF7FEFF 		bl	memset
  97:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
  98:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     ret = LOS_MuxCreate (&heap->mux);
 1954              		.loc 5 98 11
 1955 0020 7B68     		ldr	r3, [r7, #4]
 1956 0022 03F5DA73 		add	r3, r3, #436
ARM GAS  /tmp/ccBtvIog.s 			page 50


 1957 0026 1846     		mov	r0, r3
 1958 0028 FFF7FEFF 		bl	LOS_MuxCreate
 1959 002c F860     		str	r0, [r7, #12]
  99:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 100:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (ret != LOS_OK)
 1960              		.loc 5 100 8
 1961 002e FB68     		ldr	r3, [r7, #12]
 1962 0030 002B     		cmp	r3, #0
 1963 0032 01D0     		beq	.L65
 101:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 102:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return ret;
 1964              		.loc 5 102 16
 1965 0034 FB68     		ldr	r3, [r7, #12]
 1966 0036 04E0     		b	.L64
 1967              	.L65:
 103:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 104:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 105:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     __cm_init (&heap->cm);
 1968              		.loc 5 105 5
 1969 0038 7B68     		ldr	r3, [r7, #4]
 1970 003a 1846     		mov	r0, r3
 1971 003c FFF7FEFF 		bl	__cm_init
 106:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 107:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     return LOS_OK;
 1972              		.loc 5 107 12
 1973 0040 0023     		movs	r3, #0
 1974              	.L64:
 108:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** }
 1975              		.loc 5 108 1
 1976 0042 1846     		mov	r0, r3
 1977 0044 1037     		adds	r7, r7, #16
 1978              	.LCFI158:
 1979              		.cfi_def_cfa_offset 8
 1980 0046 BD46     		mov	sp, r7
 1981              	.LCFI159:
 1982              		.cfi_def_cfa_register 13
 1983              		@ sp needed
 1984 0048 80BD     		pop	{r7, pc}
 1985              		.cfi_endproc
 1986              	.LFE163:
 1988              		.section	.text.heap_add,"ax",%progbits
 1989              		.align	1
 1990              		.global	heap_add
 1991              		.syntax unified
 1992              		.thumb
 1993              		.thumb_func
 1994              		.fpu fpv4-sp-d16
 1996              	heap_add:
 1997              	.LFB164:
 109:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 110:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** /**
 111:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * heap_add - add a block of memory to a heap
 112:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @heap: the heap to add in
 113:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @buff: the memory address to add
 114:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @size: the memory block size
 115:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  *
 116:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * return: 0 on success, negtive value on error
ARM GAS  /tmp/ccBtvIog.s 			page 51


 117:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  */
 118:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 119:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** int heap_add (heap_t * heap, char * buff, size_t size)
 120:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** {
 1998              		.loc 5 120 1
 1999              		.cfi_startproc
 2000              		@ args = 0, pretend = 0, frame = 32
 2001              		@ frame_needed = 1, uses_anonymous_args = 0
 2002 0000 80B5     		push	{r7, lr}
 2003              	.LCFI160:
 2004              		.cfi_def_cfa_offset 8
 2005              		.cfi_offset 7, -8
 2006              		.cfi_offset 14, -4
 2007 0002 88B0     		sub	sp, sp, #32
 2008              	.LCFI161:
 2009              		.cfi_def_cfa_offset 40
 2010 0004 00AF     		add	r7, sp, #0
 2011              	.LCFI162:
 2012              		.cfi_def_cfa_register 7
 2013 0006 F860     		str	r0, [r7, #12]
 2014 0008 B960     		str	r1, [r7, #8]
 2015 000a 7A60     		str	r2, [r7, #4]
 121:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     int       ret;
 122:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     block_t * cb;
 123:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk_t * chunk, * last;
 124:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 125:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if ((heap == NULL) || (buff == NULL))
 2016              		.loc 5 125 8
 2017 000c FB68     		ldr	r3, [r7, #12]
 2018 000e 002B     		cmp	r3, #0
 2019 0010 02D0     		beq	.L67
 2020              		.loc 5 125 24 discriminator 1
 2021 0012 BB68     		ldr	r3, [r7, #8]
 2022 0014 002B     		cmp	r3, #0
 2023 0016 02D1     		bne	.L68
 2024              	.L67:
 126:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 127:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return -1;
 2025              		.loc 5 127 16
 2026 0018 4FF0FF33 		mov	r3, #-1
 2027 001c 6EE0     		b	.L69
 2028              	.L68:
 128:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 129:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 130:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     size -= (uintptr_t) buff & ALLOC_ALIGN_MASK;
 2029              		.loc 5 130 30
 2030 001e BB68     		ldr	r3, [r7, #8]
 2031 0020 03F00303 		and	r3, r3, #3
 2032              		.loc 5 130 10
 2033 0024 7A68     		ldr	r2, [r7, #4]
 2034 0026 D31A     		subs	r3, r2, r3
 2035 0028 7B60     		str	r3, [r7, #4]
 131:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     size &= ~ALLOC_ALIGN_MASK;
 2036              		.loc 5 131 10
 2037 002a 7B68     		ldr	r3, [r7, #4]
 2038 002c 23F00303 		bic	r3, r3, #3
 2039 0030 7B60     		str	r3, [r7, #4]
ARM GAS  /tmp/ccBtvIog.s 			page 52


 132:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     buff  = (char *) ((uintptr_t) buff & ~ALLOC_ALIGN_MASK);
 2040              		.loc 5 132 23
 2041 0032 BB68     		ldr	r3, [r7, #8]
 2042              		.loc 5 132 40
 2043 0034 23F00303 		bic	r3, r3, #3
 2044              		.loc 5 132 11
 2045 0038 BB60     		str	r3, [r7, #8]
 133:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 134:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (buff > (buff + size))
 2046              		.loc 5 134 14
 2047 003a 7B68     		ldr	r3, [r7, #4]
 2048              		.loc 5 134 8
 2049 003c 002B     		cmp	r3, #0
 2050 003e 02DA     		bge	.L70
 135:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 136:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return -1;
 2051              		.loc 5 136 16
 2052 0040 4FF0FF33 		mov	r3, #-1
 2053 0044 5AE0     		b	.L69
 2054              	.L70:
 137:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 138:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 139:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (size < MIN_BLOCK_SIZE)
 2055              		.loc 5 139 8
 2056 0046 7B68     		ldr	r3, [r7, #4]
 2057 0048 272B     		cmp	r3, #39
 2058 004a 02D8     		bhi	.L71
 140:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 141:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return -1;
 2059              		.loc 5 141 16
 2060 004c 4FF0FF33 		mov	r3, #-1
 2061 0050 54E0     		b	.L69
 2062              	.L71:
 142:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 143:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 144:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     ret = LOS_MuxPend (heap->mux, LOS_WAIT_FOREVER);
 2063              		.loc 5 144 11
 2064 0052 FB68     		ldr	r3, [r7, #12]
 2065 0054 D3F8B431 		ldr	r3, [r3, #436]
 2066 0058 4FF0FF31 		mov	r1, #-1
 2067 005c 1846     		mov	r0, r3
 2068 005e FFF7FEFF 		bl	LOS_MuxPend
 2069 0062 0346     		mov	r3, r0
 2070              		.loc 5 144 9
 2071 0064 FB61     		str	r3, [r7, #28]
 145:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 146:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (ret != LOS_OK)
 2072              		.loc 5 146 8
 2073 0066 FB69     		ldr	r3, [r7, #28]
 2074 0068 002B     		cmp	r3, #0
 2075 006a 01D0     		beq	.L72
 147:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 148:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return ret;
 2076              		.loc 5 148 16
 2077 006c FB69     		ldr	r3, [r7, #28]
 2078 006e 45E0     		b	.L69
 2079              	.L72:
ARM GAS  /tmp/ccBtvIog.s 			page 53


 149:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 150:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 151:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     /*
 152:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * this block of memory will be initialized as:
 153:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      *
 154:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * +----+-----+-----+-----+
 155:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * | CB | ACH | FCH | ACH |
 156:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * +----+-----+-----+-----+
 157:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      *
 158:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * CB  - chunk block
 159:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * ACH - allocated chunk header
 160:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * FCH - free chunk header
 161:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      *
 162:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * These two ACH at the beginning and ending are guards.
 163:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      */
 164:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 165:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     cb           = (block_t *) (buff);
 2080              		.loc 5 165 18
 2081 0070 BB68     		ldr	r3, [r7, #8]
 2082 0072 BB61     		str	r3, [r7, #24]
 166:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     cb->size     = size;
 2083              		.loc 5 166 18
 2084 0074 BB69     		ldr	r3, [r7, #24]
 2085 0076 7A68     		ldr	r2, [r7, #4]
 2086 0078 5A60     		str	r2, [r3, #4]
 167:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 168:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     cb->next     = heap->blocks;
 2087              		.loc 5 168 24
 2088 007a FB68     		ldr	r3, [r7, #12]
 2089 007c D3F8B021 		ldr	r2, [r3, #432]
 2090              		.loc 5 168 18
 2091 0080 BB69     		ldr	r3, [r7, #24]
 2092 0082 1A60     		str	r2, [r3]
 169:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     heap->blocks = cb;
 2093              		.loc 5 169 18
 2094 0084 FB68     		ldr	r3, [r7, #12]
 2095 0086 BA69     		ldr	r2, [r7, #24]
 2096 0088 C3F8B021 		str	r2, [r3, #432]
 170:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 171:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk        = (chunk_t *) (cb + 1);
 2097              		.loc 5 171 18
 2098 008c BB69     		ldr	r3, [r7, #24]
 2099 008e 0833     		adds	r3, r3, #8
 2100 0090 7B61     		str	r3, [r7, #20]
 172:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 173:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk->prev  = NULL;
 2101              		.loc 5 173 18
 2102 0092 7B69     		ldr	r3, [r7, #20]
 2103 0094 0022     		movs	r2, #0
 2104 0096 1A60     		str	r2, [r3]
 174:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk->size  = sizeof (ach_t);
 2105              		.loc 5 174 18
 2106 0098 7B69     		ldr	r3, [r7, #20]
 2107 009a 0822     		movs	r2, #8
 2108 009c 5A60     		str	r2, [r3, #4]
 175:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     __set_chunk_allocated (chunk);
 2109              		.loc 5 175 5
ARM GAS  /tmp/ccBtvIog.s 			page 54


 2110 009e 7869     		ldr	r0, [r7, #20]
 2111 00a0 FFF7FEFF 		bl	__set_chunk_allocated
 176:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 177:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk        = __get_next_chunk (chunk);
 2112              		.loc 5 177 20
 2113 00a4 7869     		ldr	r0, [r7, #20]
 2114 00a6 FFF7FEFF 		bl	__get_next_chunk
 2115 00aa 7861     		str	r0, [r7, #20]
 178:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk->prev  = (chunk_t *) (cb + 1);
 2116              		.loc 5 178 36
 2117 00ac BB69     		ldr	r3, [r7, #24]
 2118 00ae 03F10802 		add	r2, r3, #8
 2119              		.loc 5 178 18
 2120 00b2 7B69     		ldr	r3, [r7, #20]
 2121 00b4 1A60     		str	r2, [r3]
 179:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk->size  = (size - sizeof (block_t) - 2 * sizeof (ach_t));
 2122              		.loc 5 179 45
 2123 00b6 7B68     		ldr	r3, [r7, #4]
 2124 00b8 A3F11802 		sub	r2, r3, #24
 2125              		.loc 5 179 18
 2126 00bc 7B69     		ldr	r3, [r7, #20]
 2127 00be 5A60     		str	r2, [r3, #4]
 180:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 181:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (__put_chunk (heap, chunk) != 0)
 2128              		.loc 5 181 9
 2129 00c0 7969     		ldr	r1, [r7, #20]
 2130 00c2 F868     		ldr	r0, [r7, #12]
 2131 00c4 FFF7FEFF 		bl	__put_chunk
 2132 00c8 0346     		mov	r3, r0
 2133              		.loc 5 181 8
 2134 00ca 002B     		cmp	r3, #0
 2135 00cc 02D0     		beq	.L73
 182:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 183:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return -1;
 2136              		.loc 5 183 16
 2137 00ce 4FF0FF33 		mov	r3, #-1
 2138 00d2 13E0     		b	.L69
 2139              	.L73:
 184:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 185:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 186:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     last         = __get_next_chunk (chunk);
 2140              		.loc 5 186 20
 2141 00d4 7869     		ldr	r0, [r7, #20]
 2142 00d6 FFF7FEFF 		bl	__get_next_chunk
 2143 00da 3861     		str	r0, [r7, #16]
 187:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 188:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     last->prev   = chunk;
 2144              		.loc 5 188 18
 2145 00dc 3B69     		ldr	r3, [r7, #16]
 2146 00de 7A69     		ldr	r2, [r7, #20]
 2147 00e0 1A60     		str	r2, [r3]
 189:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     last->size   = sizeof (ach_t);
 2148              		.loc 5 189 18
 2149 00e2 3B69     		ldr	r3, [r7, #16]
 2150 00e4 0822     		movs	r2, #8
 2151 00e6 5A60     		str	r2, [r3, #4]
 190:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     __set_chunk_allocated (last);
ARM GAS  /tmp/ccBtvIog.s 			page 55


 2152              		.loc 5 190 5
 2153 00e8 3869     		ldr	r0, [r7, #16]
 2154 00ea FFF7FEFF 		bl	__set_chunk_allocated
 191:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 192:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     (void) LOS_MuxPost (heap->mux);
 2155              		.loc 5 192 12
 2156 00ee FB68     		ldr	r3, [r7, #12]
 2157 00f0 D3F8B431 		ldr	r3, [r3, #436]
 2158 00f4 1846     		mov	r0, r3
 2159 00f6 FFF7FEFF 		bl	LOS_MuxPost
 193:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 194:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     return 0;
 2160              		.loc 5 194 12
 2161 00fa 0023     		movs	r3, #0
 2162              	.L69:
 195:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** }
 2163              		.loc 5 195 1
 2164 00fc 1846     		mov	r0, r3
 2165 00fe 2037     		adds	r7, r7, #32
 2166              	.LCFI163:
 2167              		.cfi_def_cfa_offset 8
 2168 0100 BD46     		mov	sp, r7
 2169              	.LCFI164:
 2170              		.cfi_def_cfa_register 13
 2171              		@ sp needed
 2172 0102 80BD     		pop	{r7, pc}
 2173              		.cfi_endproc
 2174              	.LFE164:
 2176              		.section	.text.__carve_extra,"ax",%progbits
 2177              		.align	1
 2178              		.syntax unified
 2179              		.thumb
 2180              		.thumb_func
 2181              		.fpu fpv4-sp-d16
 2183              	__carve_extra:
 2184              	.LFB165:
 196:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 197:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** /**
 198:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * __carve_extra - round up a block of memory and carve the unused memory at
 199:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  *                 the beginning and ending
 200:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @heap:  the heap used
 201:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @chunk: the chunk which hold the memory block to round up and carve
 202:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @align: the alignment to round up
 203:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  *
 204:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * return: the new aligned memory block
 205:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  */
 206:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 207:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** static inline char * __carve_extra (heap_t * heap, chunk_t * chunk,
 208:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****                                     size_t align, size_t size)
 209:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** {
 2185              		.loc 5 209 1
 2186              		.cfi_startproc
 2187              		@ args = 0, pretend = 0, frame = 40
 2188              		@ frame_needed = 1, uses_anonymous_args = 0
 2189 0000 80B5     		push	{r7, lr}
 2190              	.LCFI165:
 2191              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccBtvIog.s 			page 56


 2192              		.cfi_offset 7, -8
 2193              		.cfi_offset 14, -4
 2194 0002 8AB0     		sub	sp, sp, #40
 2195              	.LCFI166:
 2196              		.cfi_def_cfa_offset 48
 2197 0004 00AF     		add	r7, sp, #0
 2198              	.LCFI167:
 2199              		.cfi_def_cfa_register 7
 2200 0006 F860     		str	r0, [r7, #12]
 2201 0008 B960     		str	r1, [r7, #8]
 2202 000a 7A60     		str	r2, [r7, #4]
 2203 000c 3B60     		str	r3, [r7]
 210:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     char    * mem         = __get_mem_block (chunk);
 2204              		.loc 5 210 29
 2205 000e B868     		ldr	r0, [r7, #8]
 2206 0010 FFF7FEFF 		bl	__get_mem_block
 2207 0014 3862     		str	r0, [r7, #32]
 211:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     char    * aligned_mem = (char *) round_up (mem, align);
 2208              		.loc 5 211 38
 2209 0016 3A6A     		ldr	r2, [r7, #32]
 2210 0018 7B68     		ldr	r3, [r7, #4]
 2211 001a 1344     		add	r3, r3, r2
 2212 001c 5A1E     		subs	r2, r3, #1
 2213 001e 7B68     		ldr	r3, [r7, #4]
 2214 0020 5B42     		rsbs	r3, r3, #0
 2215 0022 1340     		ands	r3, r3, r2
 2216              		.loc 5 211 15
 2217 0024 FB61     		str	r3, [r7, #28]
 212:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     ach_t   * ach         = (ach_t *) chunk;
 2218              		.loc 5 212 15
 2219 0026 BB68     		ldr	r3, [r7, #8]
 2220 0028 7B62     		str	r3, [r7, #36]
 213:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk_t * next;
 214:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     size_t    usable_size;
 215:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 216:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (aligned_mem != mem)
 2221              		.loc 5 216 8
 2222 002a FA69     		ldr	r2, [r7, #28]
 2223 002c 3B6A     		ldr	r3, [r7, #32]
 2224 002e 9A42     		cmp	r2, r3
 2225 0030 27D0     		beq	.L75
 217:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 218:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 219:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         /*
 220:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * carve at the begining (carve head)
 221:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *
 222:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *   .-chunk(FCH)-.
 223:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *  /              \
 224:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * +---+---+---+---+~~~+---+---+~~
 225:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * | p | s |   l   | ~ | p | s |
 226:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * | r | i |   i   | ~ | r | i |
 227:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * | e | z |   s   | ~ | e | z |
 228:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * | v | e |   t   | ~ | v | e |
 229:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * +---+---+---+---+~~~+---+---+~~
 230:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *         \           \       /\
 231:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *          `-- mem     `-ach-' `-- aligned_mem
 232:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *
ARM GAS  /tmp/ccBtvIog.s 			page 57


 233:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * now "mem != aligned_mem", so there must be "chunk < ach" so there are
 234:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * memory space in front of ach (chunk ~ ach), if "(ach - chunk) <= chunk",
 235:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * needless create new chunk, it is not worse to add logic save such memory
 236:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * block, because for any method to save such memory block we must allocate
 237:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * a chunk head for it, the chunk head itself waste more memory
 238:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          */
 239:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 240:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         if ((aligned_mem - (char *) chunk) <= (sizeof (chunk_t) + sizeof (ach_t)))
 2226              		.loc 5 240 26
 2227 0032 FA69     		ldr	r2, [r7, #28]
 2228 0034 BB68     		ldr	r3, [r7, #8]
 2229 0036 D31A     		subs	r3, r2, r3
 2230              		.loc 5 240 12
 2231 0038 182B     		cmp	r3, #24
 2232 003a 04D8     		bhi	.L76
 241:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         {
 242:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             __set_ach_to_mem (aligned_mem, chunk);
 2233              		.loc 5 242 13
 2234 003c B968     		ldr	r1, [r7, #8]
 2235 003e F869     		ldr	r0, [r7, #28]
 2236 0040 FFF7FEFF 		bl	__set_ach_to_mem
 2237 0044 1DE0     		b	.L75
 2238              	.L76:
 243:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         }
 244:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         else
 245:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         {
 246:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             ach = (ach_t *) (aligned_mem - sizeof (ach_t));
 2239              		.loc 5 246 17
 2240 0046 FB69     		ldr	r3, [r7, #28]
 2241 0048 083B     		subs	r3, r3, #8
 2242 004a 7B62     		str	r3, [r7, #36]
 247:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 248:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             ach->prev = chunk;
 2243              		.loc 5 248 23
 2244 004c 7B6A     		ldr	r3, [r7, #36]
 2245 004e BA68     		ldr	r2, [r7, #8]
 2246 0050 1A60     		str	r2, [r3]
 249:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             ach->size = chunk->size - ((char *) ach - (char *) chunk);
 2247              		.loc 5 249 30
 2248 0052 BB68     		ldr	r3, [r7, #8]
 2249 0054 5B68     		ldr	r3, [r3, #4]
 2250              		.loc 5 249 53
 2251 0056 796A     		ldr	r1, [r7, #36]
 2252 0058 BA68     		ldr	r2, [r7, #8]
 2253 005a 8A1A     		subs	r2, r1, r2
 2254              		.loc 5 249 37
 2255 005c 9A1A     		subs	r2, r3, r2
 2256              		.loc 5 249 23
 2257 005e 7B6A     		ldr	r3, [r7, #36]
 2258 0060 5A60     		str	r2, [r3, #4]
 250:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 251:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             __get_next_chunk ((chunk_t *) ach)->prev = (chunk_t *) ach;
 2259              		.loc 5 251 13
 2260 0062 786A     		ldr	r0, [r7, #36]
 2261 0064 FFF7FEFF 		bl	__get_next_chunk
 2262 0068 0246     		mov	r2, r0
 2263              		.loc 5 251 54
ARM GAS  /tmp/ccBtvIog.s 			page 58


 2264 006a 7B6A     		ldr	r3, [r7, #36]
 2265 006c 1360     		str	r3, [r2]
 252:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 253:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             chunk->size = (char *) ach - (char *) chunk;
 2266              		.loc 5 253 40
 2267 006e 7A6A     		ldr	r2, [r7, #36]
 2268 0070 BB68     		ldr	r3, [r7, #8]
 2269 0072 D31A     		subs	r3, r2, r3
 2270 0074 1A46     		mov	r2, r3
 2271              		.loc 5 253 25
 2272 0076 BB68     		ldr	r3, [r7, #8]
 2273 0078 5A60     		str	r2, [r3, #4]
 254:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 255:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             __put_chunk (heap, chunk);
 2274              		.loc 5 255 13
 2275 007a B968     		ldr	r1, [r7, #8]
 2276 007c F868     		ldr	r0, [r7, #12]
 2277 007e FFF7FEFF 		bl	__put_chunk
 2278              	.L75:
 256:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         }
 257:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 258:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 259:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     /*
 260:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * carve at the ending (carve tail)
 261:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      *
 262:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * there may be small memory gap (less than a chunk head size) betwen
 263:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * __get_mem_block (chunk) and mem, see above "carve head" for details
 264:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      *
 265:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      *                     .-- total size is chunk->size
 266:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      *                    /
 267:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      *  ..................+....................
 268:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * /                                       \
 269:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * +-----+-----+----------------------------+------------+ ~ ...
 270:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * | ACH | GAP |        usable memory       | next chunk | ~ ...
 271:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * +-----+-----+----------------------------+------------+ ~ ...
 272:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * \            \
 273:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      *  \            `-------- mem
 274:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      *   `-------------------- chunk
 275:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      *
 276:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * so, the usable memory size is (chunk->size - (addr (mem) - (addr) chunk))
 277:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      *
 278:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * we are going to carve extra memory block at the end of the usable memory
 279:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      */
 280:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 281:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     usable_size = ach->size - (aligned_mem - (char *) ach);
 2279              		.loc 5 281 22
 2280 0082 7B6A     		ldr	r3, [r7, #36]
 2281 0084 5B68     		ldr	r3, [r3, #4]
 2282              		.loc 5 281 44
 2283 0086 F969     		ldr	r1, [r7, #28]
 2284 0088 7A6A     		ldr	r2, [r7, #36]
 2285 008a 8A1A     		subs	r2, r1, r2
 2286              		.loc 5 281 17
 2287 008c 9B1A     		subs	r3, r3, r2
 2288 008e BB61     		str	r3, [r7, #24]
 282:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 283:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     /*
ARM GAS  /tmp/ccBtvIog.s 			page 59


 284:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * if the extra memory at the end is smaller than a chunk head size, do not
 285:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      * create new chunk
 286:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****      */
 287:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 288:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if ((usable_size - size) >= sizeof (chunk_t))
 2289              		.loc 5 288 22
 2290 0090 BA69     		ldr	r2, [r7, #24]
 2291 0092 3B68     		ldr	r3, [r7]
 2292 0094 D31A     		subs	r3, r2, r3
 2293              		.loc 5 288 8
 2294 0096 0F2B     		cmp	r3, #15
 2295 0098 1ED9     		bls	.L77
 289:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 290:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 291:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         /*
 292:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * there is extra memory at the end of usable memory greater than chunk size:
 293:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *
 294:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *                              .----- usable memory
 295:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *                             /
 296:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *                   .........+........
 297:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *                  /                  \
 298:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *                 /      .- size       \
 299:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *                /      /               \
 300:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *               .......+......           \
 301:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *              /              \           \
 302:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * +-----+-----+----------------+-----------+------------+ ~ ...
 303:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * | ACH | GAP | wanted memory  | extra mem | next chunk | ~ ...
 304:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * +-----+-----+----------------+-----------+------------+ ~ ...
 305:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *  \           \                 \
 306:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *   \           \                 `-- extra memory at the end
 307:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *    \           `------------------- mem
 308:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *     `------------------------------ ach
 309:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *
 310:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * ==>
 311:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *
 312:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * +-----+-----+----------------+-----+-----+------------+ ~ ...
 313:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * | ACH | GAP | wanted memory  | FCH | mem | next chunk | ~ ...
 314:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          * +-----+-----+----------------+-----+-----+------------+ ~ ...
 315:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *  \           \                \
 316:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *   \           \                `--- new_chunk, will return to heap
 317:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *    \           `------------------- mem, will return to user
 318:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          *     `------------------------------ ach
 319:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****          */
 320:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 321:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         ach->size  -= (usable_size - size);
 2296              		.loc 5 321 20
 2297 009a 7B6A     		ldr	r3, [r7, #36]
 2298 009c 5A68     		ldr	r2, [r3, #4]
 2299              		.loc 5 321 36
 2300 009e 3968     		ldr	r1, [r7]
 2301 00a0 BB69     		ldr	r3, [r7, #24]
 2302 00a2 CB1A     		subs	r3, r1, r3
 2303              		.loc 5 321 20
 2304 00a4 1A44     		add	r2, r2, r3
 2305 00a6 7B6A     		ldr	r3, [r7, #36]
 2306 00a8 5A60     		str	r2, [r3, #4]
 322:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
ARM GAS  /tmp/ccBtvIog.s 			page 60


 323:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         chunk       = (chunk_t *) (aligned_mem + size);
 2307              		.loc 5 323 21
 2308 00aa FA69     		ldr	r2, [r7, #28]
 2309 00ac 3B68     		ldr	r3, [r7]
 2310 00ae 1344     		add	r3, r3, r2
 2311 00b0 BB60     		str	r3, [r7, #8]
 324:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         chunk->prev = (chunk_t *) ach;
 2312              		.loc 5 324 21
 2313 00b2 BB68     		ldr	r3, [r7, #8]
 2314 00b4 7A6A     		ldr	r2, [r7, #36]
 2315 00b6 1A60     		str	r2, [r3]
 325:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         chunk->size = (usable_size - size);
 2316              		.loc 5 325 36
 2317 00b8 BA69     		ldr	r2, [r7, #24]
 2318 00ba 3B68     		ldr	r3, [r7]
 2319 00bc D21A     		subs	r2, r2, r3
 2320              		.loc 5 325 21
 2321 00be BB68     		ldr	r3, [r7, #8]
 2322 00c0 5A60     		str	r2, [r3, #4]
 326:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 327:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         next        = __get_next_chunk (chunk);
 2323              		.loc 5 327 23
 2324 00c2 B868     		ldr	r0, [r7, #8]
 2325 00c4 FFF7FEFF 		bl	__get_next_chunk
 2326 00c8 7861     		str	r0, [r7, #20]
 328:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 329:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         next->prev  = chunk;
 2327              		.loc 5 329 21
 2328 00ca 7B69     		ldr	r3, [r7, #20]
 2329 00cc BA68     		ldr	r2, [r7, #8]
 2330 00ce 1A60     		str	r2, [r3]
 330:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 331:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         __put_chunk (heap, chunk);
 2331              		.loc 5 331 9
 2332 00d0 B968     		ldr	r1, [r7, #8]
 2333 00d2 F868     		ldr	r0, [r7, #12]
 2334 00d4 FFF7FEFF 		bl	__put_chunk
 2335              	.L77:
 332:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 333:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 334:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #if (LOSCFG_MEM_STATISTICS == YES)
 335:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     __stat_chunk_alloc (&heap->stat, (chunk_t *) ach);
 2336              		.loc 5 335 25
 2337 00d8 FB68     		ldr	r3, [r7, #12]
 2338 00da 03F5DC73 		add	r3, r3, #440
 2339              		.loc 5 335 5
 2340 00de 796A     		ldr	r1, [r7, #36]
 2341 00e0 1846     		mov	r0, r3
 2342 00e2 FFF7FEFF 		bl	__stat_chunk_alloc
 336:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #endif
 337:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 338:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     __set_chunk_allocated ((chunk_t *) ach);
 2343              		.loc 5 338 5
 2344 00e6 786A     		ldr	r0, [r7, #36]
 2345 00e8 FFF7FEFF 		bl	__set_chunk_allocated
 339:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 340:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     return aligned_mem;
ARM GAS  /tmp/ccBtvIog.s 			page 61


 2346              		.loc 5 340 12
 2347 00ec FB69     		ldr	r3, [r7, #28]
 341:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** }
 2348              		.loc 5 341 1
 2349 00ee 1846     		mov	r0, r3
 2350 00f0 2837     		adds	r7, r7, #40
 2351              	.LCFI168:
 2352              		.cfi_def_cfa_offset 8
 2353 00f2 BD46     		mov	sp, r7
 2354              	.LCFI169:
 2355              		.cfi_def_cfa_register 13
 2356              		@ sp needed
 2357 00f4 80BD     		pop	{r7, pc}
 2358              		.cfi_endproc
 2359              	.LFE165:
 2361              		.section	.text.heap_alloc_align,"ax",%progbits
 2362              		.align	1
 2363              		.global	heap_alloc_align
 2364              		.syntax unified
 2365              		.thumb
 2366              		.thumb_func
 2367              		.fpu fpv4-sp-d16
 2369              	heap_alloc_align:
 2370              	.LFB166:
 342:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 343:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** /**
 344:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * heap_alloc_align - allocate a block of memory from a heap with alignment
 345:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @heap:  the heap to allocate from
 346:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @bytes: size of memory in bytes to allocate
 347:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @align: the expected alignment value
 348:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  *
 349:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * return: the allocated memory block or NULL if fail
 350:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  */
 351:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 352:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** char * heap_alloc_align (heap_t * heap, size_t align, size_t bytes)
 353:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** {
 2371              		.loc 5 353 1
 2372              		.cfi_startproc
 2373              		@ args = 0, pretend = 0, frame = 24
 2374              		@ frame_needed = 1, uses_anonymous_args = 0
 2375 0000 80B5     		push	{r7, lr}
 2376              	.LCFI170:
 2377              		.cfi_def_cfa_offset 8
 2378              		.cfi_offset 7, -8
 2379              		.cfi_offset 14, -4
 2380 0002 86B0     		sub	sp, sp, #24
 2381              	.LCFI171:
 2382              		.cfi_def_cfa_offset 32
 2383 0004 00AF     		add	r7, sp, #0
 2384              	.LCFI172:
 2385              		.cfi_def_cfa_register 7
 2386 0006 F860     		str	r0, [r7, #12]
 2387 0008 B960     		str	r1, [r7, #8]
 2388 000a 7A60     		str	r2, [r7, #4]
 354:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk_t * chunk;
 355:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     char    * mem = NULL;
 2389              		.loc 5 355 15
ARM GAS  /tmp/ccBtvIog.s 			page 62


 2390 000c 0023     		movs	r3, #0
 2391 000e 7B61     		str	r3, [r7, #20]
 356:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 357:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (heap == NULL)
 2392              		.loc 5 357 8
 2393 0010 FB68     		ldr	r3, [r7, #12]
 2394 0012 002B     		cmp	r3, #0
 2395 0014 01D1     		bne	.L80
 358:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 359:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return NULL;
 2396              		.loc 5 359 16
 2397 0016 0023     		movs	r3, #0
 2398 0018 44E0     		b	.L81
 2399              	.L80:
 360:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 361:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 362:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     /* align must be power of 2 */
 363:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 364:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (align & (align - 1))
 2400              		.loc 5 364 24
 2401 001a BB68     		ldr	r3, [r7, #8]
 2402 001c 5A1E     		subs	r2, r3, #1
 2403              		.loc 5 364 15
 2404 001e BB68     		ldr	r3, [r7, #8]
 2405 0020 1340     		ands	r3, r3, r2
 2406              		.loc 5 364 8
 2407 0022 002B     		cmp	r3, #0
 2408 0024 01D0     		beq	.L82
 365:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 366:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return NULL;
 2409              		.loc 5 366 16
 2410 0026 0023     		movs	r3, #0
 2411 0028 3CE0     		b	.L81
 2412              	.L82:
 367:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 368:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 369:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     bytes = bytes == 0 ? 1 : bytes;
 2413              		.loc 5 369 28
 2414 002a 7B68     		ldr	r3, [r7, #4]
 2415 002c 002B     		cmp	r3, #0
 2416 002e 01D0     		beq	.L83
 2417              		.loc 5 369 28 is_stmt 0 discriminator 1
 2418 0030 7B68     		ldr	r3, [r7, #4]
 2419 0032 00E0     		b	.L84
 2420              	.L83:
 2421              		.loc 5 369 28 discriminator 2
 2422 0034 0123     		movs	r3, #1
 2423              	.L84:
 2424              		.loc 5 369 11 is_stmt 1 discriminator 4
 2425 0036 7B60     		str	r3, [r7, #4]
 370:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 371:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     align = align < ALLOC_ALIGN_SIZE ? ALLOC_ALIGN_SIZE : align;
 2426              		.loc 5 371 11 discriminator 4
 2427 0038 BB68     		ldr	r3, [r7, #8]
 2428 003a 042B     		cmp	r3, #4
 2429 003c 38BF     		it	cc
 2430 003e 0423     		movcc	r3, #4
ARM GAS  /tmp/ccBtvIog.s 			page 63


 2431 0040 BB60     		str	r3, [r7, #8]
 372:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 373:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (bytes < ALLOC_MIN_SIZE)
 2432              		.loc 5 373 8 discriminator 4
 2433 0042 7B68     		ldr	r3, [r7, #4]
 2434 0044 072B     		cmp	r3, #7
 2435 0046 01D8     		bhi	.L85
 374:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 375:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         bytes = ALLOC_MIN_SIZE;
 2436              		.loc 5 375 15
 2437 0048 0823     		movs	r3, #8
 2438 004a 7B60     		str	r3, [r7, #4]
 2439              	.L85:
 376:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 377:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 378:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     bytes = round_up (bytes, ALLOC_ALIGN_SIZE);
 2440              		.loc 5 378 13
 2441 004c 7B68     		ldr	r3, [r7, #4]
 2442 004e 0333     		adds	r3, r3, #3
 2443              		.loc 5 378 11
 2444 0050 23F00303 		bic	r3, r3, #3
 2445 0054 7B60     		str	r3, [r7, #4]
 379:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 380:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (LOS_MuxPend (heap->mux, LOS_WAIT_FOREVER) != LOS_OK)
 2446              		.loc 5 380 9
 2447 0056 FB68     		ldr	r3, [r7, #12]
 2448 0058 D3F8B431 		ldr	r3, [r3, #436]
 2449 005c 4FF0FF31 		mov	r1, #-1
 2450 0060 1846     		mov	r0, r3
 2451 0062 FFF7FEFF 		bl	LOS_MuxPend
 2452 0066 0346     		mov	r3, r0
 2453              		.loc 5 380 8
 2454 0068 002B     		cmp	r3, #0
 2455 006a 01D0     		beq	.L86
 381:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 382:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return NULL;
 2456              		.loc 5 382 16
 2457 006c 0023     		movs	r3, #0
 2458 006e 19E0     		b	.L81
 2459              	.L86:
 383:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 384:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 385:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     /* find a big enough memory chunk */
 386:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 387:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk = __get_chunk (heap, bytes + sizeof (ach_t) + align - ALLOC_ALIGN_SIZE);
 2460              		.loc 5 387 55
 2461 0070 7A68     		ldr	r2, [r7, #4]
 2462 0072 BB68     		ldr	r3, [r7, #8]
 2463 0074 1344     		add	r3, r3, r2
 2464              		.loc 5 387 13
 2465 0076 0433     		adds	r3, r3, #4
 2466 0078 1946     		mov	r1, r3
 2467 007a F868     		ldr	r0, [r7, #12]
 2468 007c FFF7FEFF 		bl	__get_chunk
 2469 0080 3861     		str	r0, [r7, #16]
 388:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 389:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (chunk != NULL)
ARM GAS  /tmp/ccBtvIog.s 			page 64


 2470              		.loc 5 389 8
 2471 0082 3B69     		ldr	r3, [r7, #16]
 2472 0084 002B     		cmp	r3, #0
 2473 0086 06D0     		beq	.L87
 390:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 391:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         mem = __carve_extra (heap, chunk, align, bytes);
 2474              		.loc 5 391 15
 2475 0088 7B68     		ldr	r3, [r7, #4]
 2476 008a BA68     		ldr	r2, [r7, #8]
 2477 008c 3969     		ldr	r1, [r7, #16]
 2478 008e F868     		ldr	r0, [r7, #12]
 2479 0090 FFF7FEFF 		bl	__carve_extra
 2480 0094 7861     		str	r0, [r7, #20]
 2481              	.L87:
 392:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 393:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 394:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     (void) LOS_MuxPost (heap->mux);
 2482              		.loc 5 394 12
 2483 0096 FB68     		ldr	r3, [r7, #12]
 2484 0098 D3F8B431 		ldr	r3, [r3, #436]
 2485 009c 1846     		mov	r0, r3
 2486 009e FFF7FEFF 		bl	LOS_MuxPost
 395:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 396:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     return mem;
 2487              		.loc 5 396 12
 2488 00a2 7B69     		ldr	r3, [r7, #20]
 2489              	.L81:
 397:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** }
 2490              		.loc 5 397 1
 2491 00a4 1846     		mov	r0, r3
 2492 00a6 1837     		adds	r7, r7, #24
 2493              	.LCFI173:
 2494              		.cfi_def_cfa_offset 8
 2495 00a8 BD46     		mov	sp, r7
 2496              	.LCFI174:
 2497              		.cfi_def_cfa_register 13
 2498              		@ sp needed
 2499 00aa 80BD     		pop	{r7, pc}
 2500              		.cfi_endproc
 2501              	.LFE166:
 2503              		.section	.text.heap_alloc,"ax",%progbits
 2504              		.align	1
 2505              		.global	heap_alloc
 2506              		.syntax unified
 2507              		.thumb
 2508              		.thumb_func
 2509              		.fpu fpv4-sp-d16
 2511              	heap_alloc:
 2512              	.LFB167:
 398:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 399:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** /**
 400:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * heap_alloc - allocate a block of memory from a heap
 401:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @heap:  the heap to allocate from
 402:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @bytes: size of memory in bytes to allocate
 403:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  *
 404:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * return: the allocated memory block or NULL if fail
 405:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  */
ARM GAS  /tmp/ccBtvIog.s 			page 65


 406:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 407:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** char * heap_alloc (heap_t * heap, size_t bytes)
 408:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** {
 2513              		.loc 5 408 1
 2514              		.cfi_startproc
 2515              		@ args = 0, pretend = 0, frame = 8
 2516              		@ frame_needed = 1, uses_anonymous_args = 0
 2517 0000 80B5     		push	{r7, lr}
 2518              	.LCFI175:
 2519              		.cfi_def_cfa_offset 8
 2520              		.cfi_offset 7, -8
 2521              		.cfi_offset 14, -4
 2522 0002 82B0     		sub	sp, sp, #8
 2523              	.LCFI176:
 2524              		.cfi_def_cfa_offset 16
 2525 0004 00AF     		add	r7, sp, #0
 2526              	.LCFI177:
 2527              		.cfi_def_cfa_register 7
 2528 0006 7860     		str	r0, [r7, #4]
 2529 0008 3960     		str	r1, [r7]
 409:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     return heap_alloc_align (heap, ALLOC_ALIGN_SIZE, bytes);
 2530              		.loc 5 409 12
 2531 000a 3A68     		ldr	r2, [r7]
 2532 000c 0421     		movs	r1, #4
 2533 000e 7868     		ldr	r0, [r7, #4]
 2534 0010 FFF7FEFF 		bl	heap_alloc_align
 2535 0014 0346     		mov	r3, r0
 410:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** }
 2536              		.loc 5 410 1
 2537 0016 1846     		mov	r0, r3
 2538 0018 0837     		adds	r7, r7, #8
 2539              	.LCFI178:
 2540              		.cfi_def_cfa_offset 8
 2541 001a BD46     		mov	sp, r7
 2542              	.LCFI179:
 2543              		.cfi_def_cfa_register 13
 2544              		@ sp needed
 2545 001c 80BD     		pop	{r7, pc}
 2546              		.cfi_endproc
 2547              	.LFE167:
 2549              		.section	.text.heap_free,"ax",%progbits
 2550              		.align	1
 2551              		.global	heap_free
 2552              		.syntax unified
 2553              		.thumb
 2554              		.thumb_func
 2555              		.fpu fpv4-sp-d16
 2557              	heap_free:
 2558              	.LFB168:
 411:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 412:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** /**
 413:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * heap_free - free a block of memory
 414:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @heap:  the heap to allocate from
 415:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  *
 416:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * return: 0 on sucess
 417:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  */
 418:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
ARM GAS  /tmp/ccBtvIog.s 			page 66


 419:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** int heap_free (heap_t * heap, char * mem)
 420:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** {
 2559              		.loc 5 420 1
 2560              		.cfi_startproc
 2561              		@ args = 0, pretend = 0, frame = 24
 2562              		@ frame_needed = 1, uses_anonymous_args = 0
 2563 0000 80B5     		push	{r7, lr}
 2564              	.LCFI180:
 2565              		.cfi_def_cfa_offset 8
 2566              		.cfi_offset 7, -8
 2567              		.cfi_offset 14, -4
 2568 0002 86B0     		sub	sp, sp, #24
 2569              	.LCFI181:
 2570              		.cfi_def_cfa_offset 32
 2571 0004 00AF     		add	r7, sp, #0
 2572              	.LCFI182:
 2573              		.cfi_def_cfa_register 7
 2574 0006 7860     		str	r0, [r7, #4]
 2575 0008 3960     		str	r1, [r7]
 421:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk_t * chunk;
 422:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk_t * prev_chunk;
 423:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk_t * next_chunk;
 424:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 425:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (heap == NULL)
 2576              		.loc 5 425 8
 2577 000a 7B68     		ldr	r3, [r7, #4]
 2578 000c 002B     		cmp	r3, #0
 2579 000e 02D1     		bne	.L91
 426:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 427:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return -1;
 2580              		.loc 5 427 16
 2581 0010 4FF0FF33 		mov	r3, #-1
 2582 0014 5EE0     		b	.L92
 2583              	.L91:
 428:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 429:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 430:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     /* ANSI C - free of NULL is OK */
 431:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 432:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (mem == NULL)
 2584              		.loc 5 432 8
 2585 0016 3B68     		ldr	r3, [r7]
 2586 0018 002B     		cmp	r3, #0
 2587 001a 01D1     		bne	.L93
 433:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 434:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return 0;
 2588              		.loc 5 434 16
 2589 001c 0023     		movs	r3, #0
 2590 001e 59E0     		b	.L92
 2591              	.L93:
 435:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 436:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 437:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk = (chunk_t *) __get_ach_from_mem (mem);
 2592              		.loc 5 437 25
 2593 0020 3868     		ldr	r0, [r7]
 2594 0022 FFF7FEFF 		bl	__get_ach_from_mem
 2595 0026 7861     		str	r0, [r7, #20]
 438:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
ARM GAS  /tmp/ccBtvIog.s 			page 67


 439:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (LOS_MuxPend (heap->mux, LOS_WAIT_FOREVER) != LOS_OK)
 2596              		.loc 5 439 9
 2597 0028 7B68     		ldr	r3, [r7, #4]
 2598 002a D3F8B431 		ldr	r3, [r3, #436]
 2599 002e 4FF0FF31 		mov	r1, #-1
 2600 0032 1846     		mov	r0, r3
 2601 0034 FFF7FEFF 		bl	LOS_MuxPend
 2602 0038 0346     		mov	r3, r0
 2603              		.loc 5 439 8
 2604 003a 002B     		cmp	r3, #0
 2605 003c 02D0     		beq	.L94
 440:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 441:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return -1;
 2606              		.loc 5 441 16
 2607 003e 4FF0FF33 		mov	r3, #-1
 2608 0042 47E0     		b	.L92
 2609              	.L94:
 442:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 443:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 444:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     __set_chunk_free (chunk);
 2610              		.loc 5 444 5
 2611 0044 7869     		ldr	r0, [r7, #20]
 2612 0046 FFF7FEFF 		bl	__set_chunk_free
 445:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 446:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #if (LOSCFG_MEM_STATISTICS == YES)
 447:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     __stat_chunk_free (&heap->stat, chunk);
 2613              		.loc 5 447 24
 2614 004a 7B68     		ldr	r3, [r7, #4]
 2615 004c 03F5DC73 		add	r3, r3, #440
 2616              		.loc 5 447 5
 2617 0050 7969     		ldr	r1, [r7, #20]
 2618 0052 1846     		mov	r0, r3
 2619 0054 FFF7FEFF 		bl	__stat_chunk_free
 448:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #endif
 449:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 450:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     prev_chunk = __get_prev_chunk (chunk);
 2620              		.loc 5 450 18
 2621 0058 7869     		ldr	r0, [r7, #20]
 2622 005a FFF7FEFF 		bl	__get_prev_chunk
 2623 005e F860     		str	r0, [r7, #12]
 451:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     next_chunk = __get_next_chunk (chunk);
 2624              		.loc 5 451 18
 2625 0060 7869     		ldr	r0, [r7, #20]
 2626 0062 FFF7FEFF 		bl	__get_next_chunk
 2627 0066 3861     		str	r0, [r7, #16]
 452:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 453:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (__is_free (prev_chunk))
 2628              		.loc 5 453 9
 2629 0068 F868     		ldr	r0, [r7, #12]
 2630 006a FFF7FEFF 		bl	__is_free
 2631 006e 0346     		mov	r3, r0
 2632              		.loc 5 453 8
 2633 0070 002B     		cmp	r3, #0
 2634 0072 0CD0     		beq	.L95
 454:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 455:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         __del_chunk (heap, prev_chunk);
 2635              		.loc 5 455 9
ARM GAS  /tmp/ccBtvIog.s 			page 68


 2636 0074 F968     		ldr	r1, [r7, #12]
 2637 0076 7868     		ldr	r0, [r7, #4]
 2638 0078 FFF7FEFF 		bl	__del_chunk
 456:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         prev_chunk->size += chunk->size;
 2639              		.loc 5 456 26
 2640 007c FB68     		ldr	r3, [r7, #12]
 2641 007e 5A68     		ldr	r2, [r3, #4]
 2642              		.loc 5 456 34
 2643 0080 7B69     		ldr	r3, [r7, #20]
 2644 0082 5B68     		ldr	r3, [r3, #4]
 2645              		.loc 5 456 26
 2646 0084 1A44     		add	r2, r2, r3
 2647 0086 FB68     		ldr	r3, [r7, #12]
 2648 0088 5A60     		str	r2, [r3, #4]
 457:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         chunk = prev_chunk;
 2649              		.loc 5 457 15
 2650 008a FB68     		ldr	r3, [r7, #12]
 2651 008c 7B61     		str	r3, [r7, #20]
 2652              	.L95:
 458:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 459:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 460:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (__is_free (next_chunk))
 2653              		.loc 5 460 9
 2654 008e 3869     		ldr	r0, [r7, #16]
 2655 0090 FFF7FEFF 		bl	__is_free
 2656 0094 0346     		mov	r3, r0
 2657              		.loc 5 460 8
 2658 0096 002B     		cmp	r3, #0
 2659 0098 0ED0     		beq	.L96
 461:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 462:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         __del_chunk (heap, next_chunk);
 2660              		.loc 5 462 9
 2661 009a 3969     		ldr	r1, [r7, #16]
 2662 009c 7868     		ldr	r0, [r7, #4]
 2663 009e FFF7FEFF 		bl	__del_chunk
 463:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         chunk->size += next_chunk->size;
 2664              		.loc 5 463 21
 2665 00a2 7B69     		ldr	r3, [r7, #20]
 2666 00a4 5A68     		ldr	r2, [r3, #4]
 2667              		.loc 5 463 34
 2668 00a6 3B69     		ldr	r3, [r7, #16]
 2669 00a8 5B68     		ldr	r3, [r3, #4]
 2670              		.loc 5 463 21
 2671 00aa 1A44     		add	r2, r2, r3
 2672 00ac 7B69     		ldr	r3, [r7, #20]
 2673 00ae 5A60     		str	r2, [r3, #4]
 464:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 465:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         next_chunk = __get_next_chunk (chunk);
 2674              		.loc 5 465 22
 2675 00b0 7869     		ldr	r0, [r7, #20]
 2676 00b2 FFF7FEFF 		bl	__get_next_chunk
 2677 00b6 3861     		str	r0, [r7, #16]
 2678              	.L96:
 466:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 467:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 468:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     next_chunk->prev = chunk;
 2679              		.loc 5 468 22
ARM GAS  /tmp/ccBtvIog.s 			page 69


 2680 00b8 3B69     		ldr	r3, [r7, #16]
 2681 00ba 7A69     		ldr	r2, [r7, #20]
 2682 00bc 1A60     		str	r2, [r3]
 469:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 470:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     __put_chunk (heap, chunk);
 2683              		.loc 5 470 5
 2684 00be 7969     		ldr	r1, [r7, #20]
 2685 00c0 7868     		ldr	r0, [r7, #4]
 2686 00c2 FFF7FEFF 		bl	__put_chunk
 471:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 472:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     (void) LOS_MuxPost (heap->mux);
 2687              		.loc 5 472 12
 2688 00c6 7B68     		ldr	r3, [r7, #4]
 2689 00c8 D3F8B431 		ldr	r3, [r3, #436]
 2690 00cc 1846     		mov	r0, r3
 2691 00ce FFF7FEFF 		bl	LOS_MuxPost
 473:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 474:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     return 0;
 2692              		.loc 5 474 12
 2693 00d2 0023     		movs	r3, #0
 2694              	.L92:
 475:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** }
 2695              		.loc 5 475 1
 2696 00d4 1846     		mov	r0, r3
 2697 00d6 1837     		adds	r7, r7, #24
 2698              	.LCFI183:
 2699              		.cfi_def_cfa_offset 8
 2700 00d8 BD46     		mov	sp, r7
 2701              	.LCFI184:
 2702              		.cfi_def_cfa_register 13
 2703              		@ sp needed
 2704 00da 80BD     		pop	{r7, pc}
 2705              		.cfi_endproc
 2706              	.LFE168:
 2708              		.section	.text.heap_realloc,"ax",%progbits
 2709              		.align	1
 2710              		.global	heap_realloc
 2711              		.syntax unified
 2712              		.thumb
 2713              		.thumb_func
 2714              		.fpu fpv4-sp-d16
 2716              	heap_realloc:
 2717              	.LFB169:
 476:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 477:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** /**
 478:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * heap_realloc - realloc memory from a heap
 479:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @heap: the heap to allocate from
 480:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @ptr:  the original memory
 481:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * @size: the new size
 482:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  *
 483:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  * return: the allocated memory block or NULL if fail
 484:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****  */
 485:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 486:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** char * heap_realloc (heap_t * heap, char * ptr, size_t size)
 487:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** {
 2718              		.loc 5 487 1
 2719              		.cfi_startproc
ARM GAS  /tmp/ccBtvIog.s 			page 70


 2720              		@ args = 0, pretend = 0, frame = 40
 2721              		@ frame_needed = 1, uses_anonymous_args = 0
 2722 0000 80B5     		push	{r7, lr}
 2723              	.LCFI185:
 2724              		.cfi_def_cfa_offset 8
 2725              		.cfi_offset 7, -8
 2726              		.cfi_offset 14, -4
 2727 0002 8AB0     		sub	sp, sp, #40
 2728              	.LCFI186:
 2729              		.cfi_def_cfa_offset 48
 2730 0004 00AF     		add	r7, sp, #0
 2731              	.LCFI187:
 2732              		.cfi_def_cfa_register 7
 2733 0006 F860     		str	r0, [r7, #12]
 2734 0008 B960     		str	r1, [r7, #8]
 2735 000a 7A60     		str	r2, [r7, #4]
 488:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     char    * mem;
 489:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     size_t    usable_size;
 490:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     size_t    left_size;
 491:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk_t * chunk;
 492:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk_t * new;
 493:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk_t * next;
 494:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 495:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (ptr == NULL)
 2736              		.loc 5 495 8
 2737 000c BB68     		ldr	r3, [r7, #8]
 2738 000e 002B     		cmp	r3, #0
 2739 0010 05D1     		bne	.L98
 496:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 497:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return heap_alloc (heap, size);
 2740              		.loc 5 497 16
 2741 0012 7968     		ldr	r1, [r7, #4]
 2742 0014 F868     		ldr	r0, [r7, #12]
 2743 0016 FFF7FEFF 		bl	heap_alloc
 2744 001a 0346     		mov	r3, r0
 2745 001c 80E0     		b	.L99
 2746              	.L98:
 498:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 499:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 500:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (size == 0)
 2747              		.loc 5 500 8
 2748 001e 7B68     		ldr	r3, [r7, #4]
 2749 0020 002B     		cmp	r3, #0
 2750 0022 05D1     		bne	.L100
 501:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 502:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         heap_free (heap, ptr);
 2751              		.loc 5 502 9
 2752 0024 B968     		ldr	r1, [r7, #8]
 2753 0026 F868     		ldr	r0, [r7, #12]
 2754 0028 FFF7FEFF 		bl	heap_free
 503:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return NULL;
 2755              		.loc 5 503 16
 2756 002c 0023     		movs	r3, #0
 2757 002e 77E0     		b	.L99
 2758              	.L100:
 504:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 505:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
ARM GAS  /tmp/ccBtvIog.s 			page 71


 506:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (size < ALLOC_MIN_SIZE)
 2759              		.loc 5 506 8
 2760 0030 7B68     		ldr	r3, [r7, #4]
 2761 0032 072B     		cmp	r3, #7
 2762 0034 02D8     		bhi	.L101
 507:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 508:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         size = ALLOC_MIN_SIZE;
 2763              		.loc 5 508 14
 2764 0036 0823     		movs	r3, #8
 2765 0038 7B60     		str	r3, [r7, #4]
 2766 003a 04E0     		b	.L102
 2767              	.L101:
 509:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 510:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     else
 511:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 512:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         size  = round_up (size, ALLOC_ALIGN);
 2768              		.loc 5 512 17
 2769 003c 7B68     		ldr	r3, [r7, #4]
 2770 003e 0733     		adds	r3, r3, #7
 2771              		.loc 5 512 15
 2772 0040 23F00703 		bic	r3, r3, #7
 2773 0044 7B60     		str	r3, [r7, #4]
 2774              	.L102:
 513:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 514:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 515:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk = (chunk_t *) __get_ach_from_mem (ptr);
 2775              		.loc 5 515 25
 2776 0046 B868     		ldr	r0, [r7, #8]
 2777 0048 FFF7FEFF 		bl	__get_ach_from_mem
 2778 004c 3862     		str	r0, [r7, #32]
 516:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     next  = __get_next_chunk (chunk);
 2779              		.loc 5 516 13
 2780 004e 386A     		ldr	r0, [r7, #32]
 2781 0050 FFF7FEFF 		bl	__get_next_chunk
 2782 0054 7862     		str	r0, [r7, #36]
 517:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 518:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     usable_size = ((char *) next) - ptr;
 2783              		.loc 5 518 35
 2784 0056 7A6A     		ldr	r2, [r7, #36]
 2785 0058 BB68     		ldr	r3, [r7, #8]
 2786 005a D31A     		subs	r3, r2, r3
 2787              		.loc 5 518 17
 2788 005c FB61     		str	r3, [r7, #28]
 519:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 520:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (usable_size < size)
 2789              		.loc 5 520 8
 2790 005e FA69     		ldr	r2, [r7, #28]
 2791 0060 7B68     		ldr	r3, [r7, #4]
 2792 0062 9A42     		cmp	r2, r3
 2793 0064 12D2     		bcs	.L103
 521:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 522:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         mem = heap_alloc (heap, size);
 2794              		.loc 5 522 15
 2795 0066 7968     		ldr	r1, [r7, #4]
 2796 0068 F868     		ldr	r0, [r7, #12]
 2797 006a FFF7FEFF 		bl	heap_alloc
 2798 006e 3861     		str	r0, [r7, #16]
ARM GAS  /tmp/ccBtvIog.s 			page 72


 523:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 524:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         if (mem != NULL)
 2799              		.loc 5 524 12
 2800 0070 3B69     		ldr	r3, [r7, #16]
 2801 0072 002B     		cmp	r3, #0
 2802 0074 08D0     		beq	.L104
 525:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         {
 526:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             memcpy (mem, ptr, usable_size);
 2803              		.loc 5 526 13
 2804 0076 FA69     		ldr	r2, [r7, #28]
 2805 0078 B968     		ldr	r1, [r7, #8]
 2806 007a 3869     		ldr	r0, [r7, #16]
 2807 007c FFF7FEFF 		bl	memcpy
 527:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             heap_free (heap, ptr);
 2808              		.loc 5 527 13
 2809 0080 B968     		ldr	r1, [r7, #8]
 2810 0082 F868     		ldr	r0, [r7, #12]
 2811 0084 FFF7FEFF 		bl	heap_free
 2812              	.L104:
 528:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         }
 529:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 530:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return mem;
 2813              		.loc 5 530 16
 2814 0088 3B69     		ldr	r3, [r7, #16]
 2815 008a 49E0     		b	.L99
 2816              	.L103:
 531:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 532:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 533:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     /* memory in this chunk is enough, needless alloc new one */
 534:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 535:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     left_size = usable_size - size;
 2817              		.loc 5 535 15
 2818 008c FA69     		ldr	r2, [r7, #28]
 2819 008e 7B68     		ldr	r3, [r7, #4]
 2820 0090 D31A     		subs	r3, r2, r3
 2821 0092 BB61     		str	r3, [r7, #24]
 536:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 537:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (left_size < sizeof (chunk_t))
 2822              		.loc 5 537 8
 2823 0094 BB69     		ldr	r3, [r7, #24]
 2824 0096 0F2B     		cmp	r3, #15
 2825 0098 01D8     		bhi	.L105
 538:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 539:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return ptr;
 2826              		.loc 5 539 16
 2827 009a BB68     		ldr	r3, [r7, #8]
 2828 009c 40E0     		b	.L99
 2829              	.L105:
 540:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 541:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 542:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     /* extra memory in the end and can be released */
 543:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 544:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     new = (chunk_t *) ((char *) next - left_size);
 2830              		.loc 5 544 38
 2831 009e BB69     		ldr	r3, [r7, #24]
 2832 00a0 5B42     		rsbs	r3, r3, #0
 2833              		.loc 5 544 9
ARM GAS  /tmp/ccBtvIog.s 			page 73


 2834 00a2 7A6A     		ldr	r2, [r7, #36]
 2835 00a4 1344     		add	r3, r3, r2
 2836 00a6 7B61     		str	r3, [r7, #20]
 545:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 546:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     new->prev = chunk;
 2837              		.loc 5 546 15
 2838 00a8 7B69     		ldr	r3, [r7, #20]
 2839 00aa 3A6A     		ldr	r2, [r7, #32]
 2840 00ac 1A60     		str	r2, [r3]
 547:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 548:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (LOS_MuxPend (heap->mux, LOS_WAIT_FOREVER) != LOS_OK)
 2841              		.loc 5 548 9
 2842 00ae FB68     		ldr	r3, [r7, #12]
 2843 00b0 D3F8B431 		ldr	r3, [r3, #436]
 2844 00b4 4FF0FF31 		mov	r1, #-1
 2845 00b8 1846     		mov	r0, r3
 2846 00ba FFF7FEFF 		bl	LOS_MuxPend
 2847 00be 0346     		mov	r3, r0
 2848              		.loc 5 548 8
 2849 00c0 002B     		cmp	r3, #0
 2850 00c2 01D0     		beq	.L106
 549:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 550:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return ptr;
 2851              		.loc 5 550 16
 2852 00c4 BB68     		ldr	r3, [r7, #8]
 2853 00c6 2BE0     		b	.L99
 2854              	.L106:
 551:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 552:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 553:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk->size -= left_size;
 2855              		.loc 5 553 17
 2856 00c8 3B6A     		ldr	r3, [r7, #32]
 2857 00ca 5A68     		ldr	r2, [r3, #4]
 2858 00cc BB69     		ldr	r3, [r7, #24]
 2859 00ce D21A     		subs	r2, r2, r3
 2860 00d0 3B6A     		ldr	r3, [r7, #32]
 2861 00d2 5A60     		str	r2, [r3, #4]
 554:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 555:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (__is_free (next))
 2862              		.loc 5 555 9
 2863 00d4 786A     		ldr	r0, [r7, #36]
 2864 00d6 FFF7FEFF 		bl	__is_free
 2865 00da 0346     		mov	r3, r0
 2866              		.loc 5 555 8
 2867 00dc 002B     		cmp	r3, #0
 2868 00de 0ED0     		beq	.L107
 556:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 557:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         new->size = left_size + next->size;
 2869              		.loc 5 557 37
 2870 00e0 7B6A     		ldr	r3, [r7, #36]
 2871 00e2 5A68     		ldr	r2, [r3, #4]
 2872              		.loc 5 557 31
 2873 00e4 BB69     		ldr	r3, [r7, #24]
 2874 00e6 1A44     		add	r2, r2, r3
 2875              		.loc 5 557 19
 2876 00e8 7B69     		ldr	r3, [r7, #20]
 2877 00ea 5A60     		str	r2, [r3, #4]
ARM GAS  /tmp/ccBtvIog.s 			page 74


 558:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         __del_chunk (heap, next);
 2878              		.loc 5 558 9
 2879 00ec 796A     		ldr	r1, [r7, #36]
 2880 00ee F868     		ldr	r0, [r7, #12]
 2881 00f0 FFF7FEFF 		bl	__del_chunk
 559:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         next = __get_next_chunk (new);
 2882              		.loc 5 559 16
 2883 00f4 7869     		ldr	r0, [r7, #20]
 2884 00f6 FFF7FEFF 		bl	__get_next_chunk
 2885 00fa 7862     		str	r0, [r7, #36]
 2886 00fc 02E0     		b	.L108
 2887              	.L107:
 560:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 561:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     else
 562:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 563:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         new->size = left_size;
 2888              		.loc 5 563 19
 2889 00fe 7B69     		ldr	r3, [r7, #20]
 2890 0100 BA69     		ldr	r2, [r7, #24]
 2891 0102 5A60     		str	r2, [r3, #4]
 2892              	.L108:
 564:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 565:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 566:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     next->prev = new;
 2893              		.loc 5 566 16
 2894 0104 7B6A     		ldr	r3, [r7, #36]
 2895 0106 7A69     		ldr	r2, [r7, #20]
 2896 0108 1A60     		str	r2, [r3]
 567:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 568:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     __put_chunk (heap, new);
 2897              		.loc 5 568 5
 2898 010a 7969     		ldr	r1, [r7, #20]
 2899 010c F868     		ldr	r0, [r7, #12]
 2900 010e FFF7FEFF 		bl	__put_chunk
 569:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 570:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     (void) LOS_MuxPost (heap->mux);
 2901              		.loc 5 570 12
 2902 0112 FB68     		ldr	r3, [r7, #12]
 2903 0114 D3F8B431 		ldr	r3, [r3, #436]
 2904 0118 1846     		mov	r0, r3
 2905 011a FFF7FEFF 		bl	LOS_MuxPost
 571:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 572:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     return ptr;
 2906              		.loc 5 572 12
 2907 011e BB68     		ldr	r3, [r7, #8]
 2908              	.L99:
 573:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** }
 2909              		.loc 5 573 1
 2910 0120 1846     		mov	r0, r3
 2911 0122 2837     		adds	r7, r7, #40
 2912              	.LCFI188:
 2913              		.cfi_def_cfa_offset 8
 2914 0124 BD46     		mov	sp, r7
 2915              	.LCFI189:
 2916              		.cfi_def_cfa_register 13
 2917              		@ sp needed
 2918 0126 80BD     		pop	{r7, pc}
ARM GAS  /tmp/ccBtvIog.s 			page 75


 2919              		.cfi_endproc
 2920              	.LFE169:
 2922              		.section	.text.heap_stat_get,"ax",%progbits
 2923              		.align	1
 2924              		.global	heap_stat_get
 2925              		.syntax unified
 2926              		.thumb
 2927              		.thumb_func
 2928              		.fpu fpv4-sp-d16
 2930              	heap_stat_get:
 2931              	.LFB170:
 574:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 575:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #if (LOSCFG_MEM_STATISTICS == YES)
 576:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** int heap_stat_get (heap_t * heap, mem_stat_t * stat)
 577:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 2932              		.loc 5 577 5
 2933              		.cfi_startproc
 2934              		@ args = 0, pretend = 0, frame = 8
 2935              		@ frame_needed = 1, uses_anonymous_args = 0
 2936 0000 B0B5     		push	{r4, r5, r7, lr}
 2937              	.LCFI190:
 2938              		.cfi_def_cfa_offset 16
 2939              		.cfi_offset 4, -16
 2940              		.cfi_offset 5, -12
 2941              		.cfi_offset 7, -8
 2942              		.cfi_offset 14, -4
 2943 0002 82B0     		sub	sp, sp, #8
 2944              	.LCFI191:
 2945              		.cfi_def_cfa_offset 24
 2946 0004 00AF     		add	r7, sp, #0
 2947              	.LCFI192:
 2948              		.cfi_def_cfa_register 7
 2949 0006 7860     		str	r0, [r7, #4]
 2950 0008 3960     		str	r1, [r7]
 578:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if ((heap == NULL) || (stat == NULL))
 2951              		.loc 5 578 8
 2952 000a 7B68     		ldr	r3, [r7, #4]
 2953 000c 002B     		cmp	r3, #0
 2954 000e 02D0     		beq	.L110
 2955              		.loc 5 578 24 discriminator 1
 2956 0010 3B68     		ldr	r3, [r7]
 2957 0012 002B     		cmp	r3, #0
 2958 0014 01D1     		bne	.L111
 2959              	.L110:
 579:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         {
 580:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return LOS_NOK;
 2960              		.loc 5 580 16
 2961 0016 0123     		movs	r3, #1
 2962 0018 29E0     		b	.L112
 2963              	.L111:
 581:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         }
 582:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 583:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (LOS_MuxPend (heap->mux, LOS_WAIT_FOREVER) != LOS_OK)
 2964              		.loc 5 583 9
 2965 001a 7B68     		ldr	r3, [r7, #4]
 2966 001c D3F8B431 		ldr	r3, [r3, #436]
 2967 0020 4FF0FF31 		mov	r1, #-1
ARM GAS  /tmp/ccBtvIog.s 			page 76


 2968 0024 1846     		mov	r0, r3
 2969 0026 FFF7FEFF 		bl	LOS_MuxPend
 2970 002a 0346     		mov	r3, r0
 2971              		.loc 5 583 8
 2972 002c 002B     		cmp	r3, #0
 2973 002e 01D0     		beq	.L113
 584:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         {
 585:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return LOS_NOK;
 2974              		.loc 5 585 16
 2975 0030 0123     		movs	r3, #1
 2976 0032 1CE0     		b	.L112
 2977              	.L113:
 586:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         }
 587:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 588:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     *stat = heap->stat;
 2978              		.loc 5 588 11
 2979 0034 3A68     		ldr	r2, [r7]
 2980 0036 7B68     		ldr	r3, [r7, #4]
 2981 0038 1546     		mov	r5, r2
 2982 003a 03F5DC74 		add	r4, r3, #440
 2983 003e 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 2984 0040 0FC5     		stmia	r5!, {r0, r1, r2, r3}
 2985 0042 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 2986 0044 0FC5     		stmia	r5!, {r0, r1, r2, r3}
 2987 0046 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 2988 0048 0FC5     		stmia	r5!, {r0, r1, r2, r3}
 2989 004a 94E80300 		ldm	r4, {r0, r1}
 2990 004e 85E80300 		stm	r5, {r0, r1}
 589:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 590:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     stat->max_free_size = __get_max_free (&heap->cm);
 2991              		.loc 5 590 27
 2992 0052 7B68     		ldr	r3, [r7, #4]
 2993 0054 1846     		mov	r0, r3
 2994 0056 FFF7FEFF 		bl	__get_max_free
 2995 005a 0246     		mov	r2, r0
 2996              		.loc 5 590 25
 2997 005c 3B68     		ldr	r3, [r7]
 2998 005e 5A61     		str	r2, [r3, #20]
 591:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 592:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     (void) LOS_MuxPost (heap->mux);
 2999              		.loc 5 592 12
 3000 0060 7B68     		ldr	r3, [r7, #4]
 3001 0062 D3F8B431 		ldr	r3, [r3, #436]
 3002 0066 1846     		mov	r0, r3
 3003 0068 FFF7FEFF 		bl	LOS_MuxPost
 593:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 594:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     return LOS_OK;
 3004              		.loc 5 594 12
 3005 006c 0023     		movs	r3, #0
 3006              	.L112:
 595:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 3007              		.loc 5 595 5
 3008 006e 1846     		mov	r0, r3
 3009 0070 0837     		adds	r7, r7, #8
 3010              	.LCFI193:
 3011              		.cfi_def_cfa_offset 16
 3012 0072 BD46     		mov	sp, r7
ARM GAS  /tmp/ccBtvIog.s 			page 77


 3013              	.LCFI194:
 3014              		.cfi_def_cfa_register 13
 3015              		@ sp needed
 3016 0074 B0BD     		pop	{r4, r5, r7, pc}
 3017              		.cfi_endproc
 3018              	.LFE170:
 3020              		.section	.rodata
 3021              		.align	2
 3022              	.LC0:
 3023 0000 09616464 		.ascii	"\011address    size       status\012\015\000"
 3023      72657373 
 3023      20202020 
 3023      73697A65 
 3023      20202020 
 3024              		.align	2
 3025              	.LC1:
 3026 0020 092D2D2D 		.ascii	"\011---------- ---------- ---------\012\015\000"
 3026      2D2D2D2D 
 3026      2D2D2D20 
 3026      2D2D2D2D 
 3026      2D2D2D2D 
 3027 0043 00       		.align	2
 3028              	.LC2:
 3029 0044 66726565 		.ascii	"free\012\015\000"
 3029      0A0D00
 3030 004b 00       		.align	2
 3031              	.LC3:
 3032 004c 616C6C6F 		.ascii	"allocated\012\015\000"
 3032      63617465 
 3032      640A0D00 
 3033              		.align	2
 3034              	.LC4:
 3035 0058 09257020 		.ascii	"\011%p 0x%08x %s\000"
 3035      30782530 
 3035      38782025 
 3035      7300
 3036              		.section	.text.__dump_block,"ax",%progbits
 3037              		.align	1
 3038              		.syntax unified
 3039              		.thumb
 3040              		.thumb_func
 3041              		.fpu fpv4-sp-d16
 3043              	__dump_block:
 3044              	.LFB171:
 596:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #endif
 597:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 598:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** static inline void __dump_block (block_t * block)
 599:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 3045              		.loc 5 599 5
 3046              		.cfi_startproc
 3047              		@ args = 0, pretend = 0, frame = 16
 3048              		@ frame_needed = 1, uses_anonymous_args = 0
 3049 0000 80B5     		push	{r7, lr}
 3050              	.LCFI195:
 3051              		.cfi_def_cfa_offset 8
 3052              		.cfi_offset 7, -8
 3053              		.cfi_offset 14, -4
ARM GAS  /tmp/ccBtvIog.s 			page 78


 3054 0002 84B0     		sub	sp, sp, #16
 3055              	.LCFI196:
 3056              		.cfi_def_cfa_offset 24
 3057 0004 00AF     		add	r7, sp, #0
 3058              	.LCFI197:
 3059              		.cfi_def_cfa_register 7
 3060 0006 7860     		str	r0, [r7, #4]
 600:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     chunk_t * chunk = (chunk_t *) (block + 1);
 3061              		.loc 5 600 15
 3062 0008 7B68     		ldr	r3, [r7, #4]
 3063 000a 0833     		adds	r3, r3, #8
 3064 000c FB60     		str	r3, [r7, #12]
 601:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 602:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     PRINTK ("\taddress    size       status\n\r");
 3065              		.loc 5 602 5
 3066 000e 1448     		ldr	r0, .L122
 3067 0010 FFF7FEFF 		bl	printf
 603:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     PRINTK ("\t---------- ---------- ---------\n\r");
 3068              		.loc 5 603 5
 3069 0014 1348     		ldr	r0, .L122+4
 3070 0016 FFF7FEFF 		bl	printf
 3071              	.L119:
 604:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 605:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     do
 606:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         {
 607:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         PRINTK ("\t%p 0x%08x %s", chunk, chunk->size & ~1,
 3072              		.loc 5 607 9
 3073 001a FB68     		ldr	r3, [r7, #12]
 3074 001c 5B68     		ldr	r3, [r3, #4]
 3075 001e 23F00102 		bic	r2, r3, #1
 3076 0022 FB68     		ldr	r3, [r7, #12]
 3077 0024 5B68     		ldr	r3, [r3, #4]
 3078 0026 03F00103 		and	r3, r3, #1
 3079 002a 002B     		cmp	r3, #0
 3080 002c 01D1     		bne	.L115
 3081              		.loc 5 607 9 is_stmt 0 discriminator 1
 3082 002e 0E4B     		ldr	r3, .L122+8
 3083 0030 00E0     		b	.L116
 3084              	.L115:
 3085              		.loc 5 607 9 discriminator 2
 3086 0032 0E4B     		ldr	r3, .L122+12
 3087              	.L116:
 3088              		.loc 5 607 9 discriminator 4
 3089 0034 F968     		ldr	r1, [r7, #12]
 3090 0036 0E48     		ldr	r0, .L122+16
 3091 0038 FFF7FEFF 		bl	printf
 608:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****                  (chunk->size & 1) == 0 ? "free\n\r" : "allocated\n\r");
 609:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 610:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         if ((chunk->prev != NULL) && (chunk->size == (sizeof (ach_t) | 1)))
 3092              		.loc 5 610 19 is_stmt 1 discriminator 4
 3093 003c FB68     		ldr	r3, [r7, #12]
 3094 003e 1B68     		ldr	r3, [r3]
 3095              		.loc 5 610 12 discriminator 4
 3096 0040 002B     		cmp	r3, #0
 3097 0042 03D0     		beq	.L117
 3098              		.loc 5 610 44 discriminator 1
 3099 0044 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccBtvIog.s 			page 79


 3100 0046 5B68     		ldr	r3, [r3, #4]
 3101              		.loc 5 610 35 discriminator 1
 3102 0048 092B     		cmp	r3, #9
 3103 004a 04D0     		beq	.L121
 3104              	.L117:
 611:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             {
 612:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             break;
 613:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             }
 614:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 615:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         chunk = __get_next_chunk (chunk);
 3105              		.loc 5 615 17
 3106 004c F868     		ldr	r0, [r7, #12]
 3107 004e FFF7FEFF 		bl	__get_next_chunk
 3108 0052 F860     		str	r0, [r7, #12]
 607:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****                  (chunk->size & 1) == 0 ? "free\n\r" : "allocated\n\r");
 3109              		.loc 5 607 9
 3110 0054 E1E7     		b	.L119
 3111              	.L121:
 612:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             }
 3112              		.loc 5 612 13
 3113 0056 00BF     		nop
 616:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         } while (1);
 617:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 3114              		.loc 5 617 5
 3115 0058 00BF     		nop
 3116 005a 1037     		adds	r7, r7, #16
 3117              	.LCFI198:
 3118              		.cfi_def_cfa_offset 8
 3119 005c BD46     		mov	sp, r7
 3120              	.LCFI199:
 3121              		.cfi_def_cfa_register 13
 3122              		@ sp needed
 3123 005e 80BD     		pop	{r7, pc}
 3124              	.L123:
 3125              		.align	2
 3126              	.L122:
 3127 0060 00000000 		.word	.LC0
 3128 0064 20000000 		.word	.LC1
 3129 0068 44000000 		.word	.LC2
 3130 006c 4C000000 		.word	.LC3
 3131 0070 58000000 		.word	.LC4
 3132              		.cfi_endproc
 3133              	.LFE171:
 3135              		.section	.rodata
 3136 0066 0000     		.align	2
 3137              	.LC5:
 3138 0068 0D0A0963 		.ascii	"\015\012\011chunk information:\012\015\012\015\000"
 3138      68756E6B 
 3138      20696E66 
 3138      6F726D61 
 3138      74696F6E 
 3139 0082 0000     		.align	2
 3140              	.LC6:
 3141 0084 0A0D0953 		.ascii	"\012\015\011SUMMARY:\012\015\012\015\000"
 3141      554D4D41 
 3141      52593A0A 
 3141      0D0A0D00 
ARM GAS  /tmp/ccBtvIog.s 			page 80


 3142              		.align	2
 3143              	.LC7:
 3144 0094 09737461 		.ascii	"\011status  bytes              blocks\012\015\000"
 3144      74757320 
 3144      20627974 
 3144      65732020 
 3144      20202020 
 3145 00b9 000000   		.align	2
 3146              	.LC8:
 3147 00bc 092D2D2D 		.ascii	"\011------  ------------------ ------\012\015\000"
 3147      2D2D2D20 
 3147      202D2D2D 
 3147      2D2D2D2D 
 3147      2D2D2D2D 
 3148 00e1 000000   		.align	2
 3149              	.LC9:
 3150 00e4 09637572 		.ascii	"\011current:\012\015\000"
 3150      72656E74 
 3150      3A0A0D00 
 3151              		.align	2
 3152              	.LC10:
 3153 00f0 09667265 		.ascii	"\011free\0110x%-16x %d\012\015\000"
 3153      65093078 
 3153      252D3136 
 3153      78202564 
 3153      0A0D00
 3154 0103 00       		.align	2
 3155              	.LC11:
 3156 0104 09616C6C 		.ascii	"\011alloc\0110x%-16x %d\012\015\000"
 3156      6F630930 
 3156      78252D31 
 3156      36782025 
 3156      640A0D00 
 3157              		.align	2
 3158              	.LC12:
 3159 0118 0963756D 		.ascii	"\011cumulative:\012\015\000"
 3159      756C6174 
 3159      6976653A 
 3159      0A0D00
 3160 0127 00       		.align	2
 3161              	.LC13:
 3162 0128 09667265 		.ascii	"\011free\0110x%-16llx %lld\012\015\000"
 3162      65093078 
 3162      252D3136 
 3162      6C6C7820 
 3162      256C6C64 
 3163 013f 00       		.align	2
 3164              	.LC14:
 3165 0140 09616C6C 		.ascii	"\011alloc\0110x%-16llx %lld\012\015\000"
 3165      6F630930 
 3165      78252D31 
 3165      366C6C78 
 3165      20256C6C 
 3166              		.align	2
 3167              	.LC15:
 3168 0158 0A0D096D 		.ascii	"\012\015\011maximum allocated size ever: 0x%08x\012"
 3168      6178696D 
ARM GAS  /tmp/ccBtvIog.s 			page 81


 3168      756D2061 
 3168      6C6C6F63 
 3168      61746564 
 3169 017f 0D00     		.ascii	"\015\000"
 3170 0181 000000   		.align	2
 3171              	.LC16:
 3172 0184 0A0D096D 		.ascii	"\012\015\011maximum free size: 0x%08x\012\015\000"
 3172      6178696D 
 3172      756D2066 
 3172      72656520 
 3172      73697A65 
 3173              		.section	.text.__dump_heap,"ax",%progbits
 3174              		.align	1
 3175              		.global	__dump_heap
 3176              		.syntax unified
 3177              		.thumb
 3178              		.thumb_func
 3179              		.fpu fpv4-sp-d16
 3181              	__dump_heap:
 3182              	.LFB172:
 618:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 619:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** void __dump_heap (heap_t * heap, bool show_chunk)
 620:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     {
 3183              		.loc 5 620 5
 3184              		.cfi_startproc
 3185              		@ args = 0, pretend = 0, frame = 16
 3186              		@ frame_needed = 1, uses_anonymous_args = 0
 3187 0000 80B5     		push	{r7, lr}
 3188              	.LCFI200:
 3189              		.cfi_def_cfa_offset 8
 3190              		.cfi_offset 7, -8
 3191              		.cfi_offset 14, -4
 3192 0002 86B0     		sub	sp, sp, #24
 3193              	.LCFI201:
 3194              		.cfi_def_cfa_offset 32
 3195 0004 02AF     		add	r7, sp, #8
 3196              	.LCFI202:
 3197              		.cfi_def_cfa 7, 24
 3198 0006 7860     		str	r0, [r7, #4]
 3199 0008 0B46     		mov	r3, r1
 3200 000a FB70     		strb	r3, [r7, #3]
 621:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     block_t * block = heap->blocks;
 3201              		.loc 5 621 15
 3202 000c 7B68     		ldr	r3, [r7, #4]
 3203 000e D3F8B031 		ldr	r3, [r3, #432]
 3204 0012 FB60     		str	r3, [r7, #12]
 622:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 623:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (show_chunk)
 3205              		.loc 5 623 8
 3206 0014 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3207 0016 002B     		cmp	r3, #0
 3208 0018 02D0     		beq	.L125
 624:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         {
 625:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         PRINTK ("\r\n\tchunk information:\n\r\n\r");
 3209              		.loc 5 625 9
 3210 001a 3948     		ldr	r0, .L132
 3211 001c FFF7FEFF 		bl	printf
ARM GAS  /tmp/ccBtvIog.s 			page 82


 3212              	.L125:
 626:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         }
 627:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 628:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (LOS_MuxPend (heap->mux, LOS_WAIT_FOREVER) != LOS_OK)
 3213              		.loc 5 628 9
 3214 0020 7B68     		ldr	r3, [r7, #4]
 3215 0022 D3F8B431 		ldr	r3, [r3, #436]
 3216 0026 4FF0FF31 		mov	r1, #-1
 3217 002a 1846     		mov	r0, r3
 3218 002c FFF7FEFF 		bl	LOS_MuxPend
 3219 0030 0346     		mov	r3, r0
 3220              		.loc 5 628 8
 3221 0032 002B     		cmp	r3, #0
 3222 0034 60D1     		bne	.L131
 629:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         {
 630:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         return;
 631:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         }
 632:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 633:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     if (show_chunk)
 3223              		.loc 5 633 8
 3224 0036 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3225 0038 002B     		cmp	r3, #0
 3226 003a 09D0     		beq	.L128
 634:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         {
 635:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         while (block)
 3227              		.loc 5 635 15
 3228 003c 05E0     		b	.L129
 3229              	.L130:
 636:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             {
 637:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             __dump_block (block);
 3230              		.loc 5 637 13
 3231 003e F868     		ldr	r0, [r7, #12]
 3232 0040 FFF7FEFF 		bl	__dump_block
 638:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             block = block->next;
 3233              		.loc 5 638 19
 3234 0044 FB68     		ldr	r3, [r7, #12]
 3235 0046 1B68     		ldr	r3, [r3]
 3236 0048 FB60     		str	r3, [r7, #12]
 3237              	.L129:
 635:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             {
 3238              		.loc 5 635 15
 3239 004a FB68     		ldr	r3, [r7, #12]
 3240 004c 002B     		cmp	r3, #0
 3241 004e F6D1     		bne	.L130
 3242              	.L128:
 639:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****             }
 640:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         }
 641:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 642:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #if (LOSCFG_MEM_STATISTICS == YES)
 643:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     PRINTK ("\n\r\tSUMMARY:\n\r\n\r");
 3243              		.loc 5 643 5
 3244 0050 2C48     		ldr	r0, .L132+4
 3245 0052 FFF7FEFF 		bl	printf
 644:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     PRINTK ("\tstatus  bytes              blocks\n\r");
 3246              		.loc 5 644 5
 3247 0056 2C48     		ldr	r0, .L132+8
 3248 0058 FFF7FEFF 		bl	printf
ARM GAS  /tmp/ccBtvIog.s 			page 83


 645:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     PRINTK ("\t------  ------------------ ------\n\r");
 3249              		.loc 5 645 5
 3250 005c 2B48     		ldr	r0, .L132+12
 3251 005e FFF7FEFF 		bl	printf
 646:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     PRINTK ("\tcurrent:\n\r");
 3252              		.loc 5 646 5
 3253 0062 2B48     		ldr	r0, .L132+16
 3254 0064 FFF7FEFF 		bl	printf
 647:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     PRINTK ("\tfree\t0x%-16x %d\n\r", heap->stat.free_size, heap->stat.free_chunks);
 3255              		.loc 5 647 5
 3256 0068 7B68     		ldr	r3, [r7, #4]
 3257 006a D3F8BC11 		ldr	r1, [r3, #444]
 3258 006e 7B68     		ldr	r3, [r7, #4]
 3259 0070 D3F8B831 		ldr	r3, [r3, #440]
 3260 0074 1A46     		mov	r2, r3
 3261 0076 2748     		ldr	r0, .L132+20
 3262 0078 FFF7FEFF 		bl	printf
 648:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     PRINTK ("\talloc\t0x%-16x %d\n\r", heap->stat.busy_size, heap->stat.busy_chunks);
 3263              		.loc 5 648 5
 3264 007c 7B68     		ldr	r3, [r7, #4]
 3265 007e D3F8C411 		ldr	r1, [r3, #452]
 3266 0082 7B68     		ldr	r3, [r7, #4]
 3267 0084 D3F8C031 		ldr	r3, [r3, #448]
 3268 0088 1A46     		mov	r2, r3
 3269 008a 2348     		ldr	r0, .L132+24
 3270 008c FFF7FEFF 		bl	printf
 649:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     PRINTK ("\tcumulative:\n\r");
 3271              		.loc 5 649 5
 3272 0090 2248     		ldr	r0, .L132+28
 3273 0092 FFF7FEFF 		bl	printf
 650:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     PRINTK ("\tfree\t0x%-16llx %lld\n\r", heap->stat.cum_size_freed, heap->stat.cum_freed);
 3274              		.loc 5 650 5
 3275 0096 7B68     		ldr	r3, [r7, #4]
 3276 0098 D3E97A01 		ldrd	r0, [r3, #488]
 3277 009c 7B68     		ldr	r3, [r7, #4]
 3278 009e D3E97823 		ldrd	r2, [r3, #480]
 3279 00a2 CDE90023 		strd	r2, [sp]
 3280 00a6 0246     		mov	r2, r0
 3281 00a8 0B46     		mov	r3, r1
 3282 00aa 1D48     		ldr	r0, .L132+32
 3283 00ac FFF7FEFF 		bl	printf
 651:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     PRINTK ("\talloc\t0x%-16llx %lld\n\r", heap->stat.cum_size_allocated, heap->stat.cum_allocated)
 3284              		.loc 5 651 5
 3285 00b0 7B68     		ldr	r3, [r7, #4]
 3286 00b2 D3E97601 		ldrd	r0, [r3, #472]
 3287 00b6 7B68     		ldr	r3, [r7, #4]
 3288 00b8 D3E97423 		ldrd	r2, [r3, #464]
 3289 00bc CDE90023 		strd	r2, [sp]
 3290 00c0 0246     		mov	r2, r0
 3291 00c2 0B46     		mov	r3, r1
 3292 00c4 1748     		ldr	r0, .L132+36
 3293 00c6 FFF7FEFF 		bl	printf
 652:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 653:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     PRINTK ("\n\r\tmaximum allocated size ever: 0x%08x\n\r", heap->stat.max_busy_size);
 3294              		.loc 5 653 5
 3295 00ca 7B68     		ldr	r3, [r7, #4]
 3296 00cc D3F8C831 		ldr	r3, [r3, #456]
ARM GAS  /tmp/ccBtvIog.s 			page 84


 3297 00d0 1946     		mov	r1, r3
 3298 00d2 1548     		ldr	r0, .L132+40
 3299 00d4 FFF7FEFF 		bl	printf
 654:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     PRINTK ("\n\r\tmaximum free size: 0x%08x\n\r", __get_max_free (&heap->cm));
 3300              		.loc 5 654 5
 3301 00d8 7B68     		ldr	r3, [r7, #4]
 3302 00da 1846     		mov	r0, r3
 3303 00dc FFF7FEFF 		bl	__get_max_free
 3304 00e0 0346     		mov	r3, r0
 3305 00e2 1946     		mov	r1, r3
 3306 00e4 1148     		ldr	r0, .L132+44
 3307 00e6 FFF7FEFF 		bl	printf
 655:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** #endif
 656:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c **** 
 657:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     LOS_MuxPost (heap->mux);
 3308              		.loc 5 657 5
 3309 00ea 7B68     		ldr	r3, [r7, #4]
 3310 00ec D3F8B431 		ldr	r3, [r3, #436]
 3311 00f0 1846     		mov	r0, r3
 3312 00f2 FFF7FEFF 		bl	LOS_MuxPost
 3313 00f6 00E0     		b	.L124
 3314              	.L131:
 630:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****         }
 3315              		.loc 5 630 9
 3316 00f8 00BF     		nop
 3317              	.L124:
 658:/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/mem/heap/los_heap.c ****     }
 3318              		.loc 5 658 5
 3319 00fa 1037     		adds	r7, r7, #16
 3320              	.LCFI203:
 3321              		.cfi_def_cfa_offset 8
 3322 00fc BD46     		mov	sp, r7
 3323              	.LCFI204:
 3324              		.cfi_def_cfa_register 13
 3325              		@ sp needed
 3326 00fe 80BD     		pop	{r7, pc}
 3327              	.L133:
 3328              		.align	2
 3329              	.L132:
 3330 0100 68000000 		.word	.LC5
 3331 0104 84000000 		.word	.LC6
 3332 0108 94000000 		.word	.LC7
 3333 010c BC000000 		.word	.LC8
 3334 0110 E4000000 		.word	.LC9
 3335 0114 F0000000 		.word	.LC10
 3336 0118 04010000 		.word	.LC11
 3337 011c 18010000 		.word	.LC12
 3338 0120 28010000 		.word	.LC13
 3339 0124 40010000 		.word	.LC14
 3340 0128 58010000 		.word	.LC15
 3341 012c 84010000 		.word	.LC16
 3342              		.cfi_endproc
 3343              	.LFE172:
 3345              		.text
 3346              	.Letext0:
 3347              		.file 6 "/home/fanxinhao/toolchain/gcc-arm-none-eabi-9-2019-q4-major/lib/gcc/arm-none-eabi/9.2.1/i
 3348              		.file 7 "/home/fanxinhao/toolchain/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/machine
ARM GAS  /tmp/ccBtvIog.s 			page 85


 3349              		.file 8 "/home/fanxinhao/toolchain/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/sys/loc
 3350              		.file 9 "/home/fanxinhao/toolchain/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/sys/_ty
 3351              		.file 10 "/home/fanxinhao/toolchain/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/sys/re
 3352              		.file 11 "/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/los_typedef.h"
 3353              		.file 12 "/home/fanxinhao/toolchain/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/sys/_s
 3354              		.file 13 "/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/arch/arm/common/cmsis/core_cm4.h"
 3355              		.file 14 "/home/fanxinhao/Work/LiteOS_Lab/targets/STM32L476RG_NB476/Inc/system_stm32l4xx.h"
 3356              		.file 15 "/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/los_config.h"
 3357              		.file 16 "/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/los_err.h"
 3358              		.file 17 "/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/arch/arm/arm-m/include/los_hwi.h"
 3359              		.file 18 "/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/los_tick.h"
 3360              		.file 19 "/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/include/los_task.h"
 3361              		.file 20 "/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/los_slab.ph"
 3362              		.file 21 "/home/fanxinhao/Work/LiteOS_Lab/iot_link/os/liteos/base/include/mem.h"
ARM GAS  /tmp/ccBtvIog.s 			page 86


DEFINED SYMBOLS
                            *ABS*:0000000000000000 los_heap.c
     /tmp/ccBtvIog.s:18     .text.dlist_init:0000000000000000 $t
     /tmp/ccBtvIog.s:25     .text.dlist_init:0000000000000000 dlist_init
     /tmp/ccBtvIog.s:72     .text.__dlist_add_at:0000000000000000 $t
     /tmp/ccBtvIog.s:78     .text.__dlist_add_at:0000000000000000 __dlist_add_at
     /tmp/ccBtvIog.s:132    .text.dlist_add_tail:0000000000000000 $t
     /tmp/ccBtvIog.s:138    .text.dlist_add_tail:0000000000000000 dlist_add_tail
     /tmp/ccBtvIog.s:179    .text.dlist_del:0000000000000000 $t
     /tmp/ccBtvIog.s:185    .text.dlist_del:0000000000000000 dlist_del
     /tmp/ccBtvIog.s:237    .text.dlist_empty:0000000000000000 $t
     /tmp/ccBtvIog.s:243    .text.dlist_empty:0000000000000000 dlist_empty
     /tmp/ccBtvIog.s:289    .text.__is_free:0000000000000000 $t
     /tmp/ccBtvIog.s:295    .text.__is_free:0000000000000000 __is_free
     /tmp/ccBtvIog.s:343    .text.__set_chunk_allocated:0000000000000000 $t
     /tmp/ccBtvIog.s:349    .text.__set_chunk_allocated:0000000000000000 __set_chunk_allocated
     /tmp/ccBtvIog.s:391    .text.__set_chunk_free:0000000000000000 $t
     /tmp/ccBtvIog.s:397    .text.__set_chunk_free:0000000000000000 __set_chunk_free
     /tmp/ccBtvIog.s:439    .text.__get_next_chunk:0000000000000000 $t
     /tmp/ccBtvIog.s:445    .text.__get_next_chunk:0000000000000000 __get_next_chunk
     /tmp/ccBtvIog.s:489    .text.__get_prev_chunk:0000000000000000 $t
     /tmp/ccBtvIog.s:495    .text.__get_prev_chunk:0000000000000000 __get_prev_chunk
     /tmp/ccBtvIog.s:534    .text.__get_mem_block:0000000000000000 $t
     /tmp/ccBtvIog.s:540    .text.__get_mem_block:0000000000000000 __get_mem_block
     /tmp/ccBtvIog.s:579    .text.__get_ach_from_mem:0000000000000000 $t
     /tmp/ccBtvIog.s:585    .text.__get_ach_from_mem:0000000000000000 __get_ach_from_mem
     /tmp/ccBtvIog.s:639    .text.__set_ach_to_mem:0000000000000000 $t
     /tmp/ccBtvIog.s:645    .text.__set_ach_to_mem:0000000000000000 __set_ach_to_mem
     /tmp/ccBtvIog.s:688    .text.__cm_init:0000000000000000 $t
     /tmp/ccBtvIog.s:694    .text.__cm_init:0000000000000000 __cm_init
     /tmp/ccBtvIog.s:733    .text.__get_fl_idx:0000000000000000 $t
     /tmp/ccBtvIog.s:739    .text.__get_fl_idx:0000000000000000 __get_fl_idx
     /tmp/ccBtvIog.s:780    .text.__get_sl_idx:0000000000000000 $t
     /tmp/ccBtvIog.s:786    .text.__get_sl_idx:0000000000000000 __get_sl_idx
     /tmp/ccBtvIog.s:831    .text.__cm_put_chunk:0000000000000000 $t
     /tmp/ccBtvIog.s:837    .text.__cm_put_chunk:0000000000000000 __cm_put_chunk
     /tmp/ccBtvIog.s:974    .text.__cm_del_chunk:0000000000000000 $t
     /tmp/ccBtvIog.s:980    .text.__cm_del_chunk:0000000000000000 __cm_del_chunk
     /tmp/ccBtvIog.s:1129   .text.__cm_get_chunk:0000000000000000 $t
     /tmp/ccBtvIog.s:1135   .text.__cm_get_chunk:0000000000000000 __cm_get_chunk
     /tmp/ccBtvIog.s:1281   .text.__get_max_free:0000000000000000 $t
     /tmp/ccBtvIog.s:1287   .text.__get_max_free:0000000000000000 __get_max_free
     /tmp/ccBtvIog.s:1429   .text.__stat_chunk_add:0000000000000000 $t
     /tmp/ccBtvIog.s:1435   .text.__stat_chunk_add:0000000000000000 __stat_chunk_add
     /tmp/ccBtvIog.s:1491   .text.__stat_chunk_del:0000000000000000 $t
     /tmp/ccBtvIog.s:1497   .text.__stat_chunk_del:0000000000000000 __stat_chunk_del
     /tmp/ccBtvIog.s:1552   .text.__stat_chunk_alloc:0000000000000000 $t
     /tmp/ccBtvIog.s:1558   .text.__stat_chunk_alloc:0000000000000000 __stat_chunk_alloc
     /tmp/ccBtvIog.s:1657   .text.__stat_chunk_free:0000000000000000 $t
     /tmp/ccBtvIog.s:1663   .text.__stat_chunk_free:0000000000000000 __stat_chunk_free
     /tmp/ccBtvIog.s:1746   .text.__put_chunk:0000000000000000 $t
     /tmp/ccBtvIog.s:1752   .text.__put_chunk:0000000000000000 __put_chunk
     /tmp/ccBtvIog.s:1809   .text.__del_chunk:0000000000000000 $t
     /tmp/ccBtvIog.s:1815   .text.__del_chunk:0000000000000000 __del_chunk
     /tmp/ccBtvIog.s:1860   .text.__get_chunk:0000000000000000 $t
     /tmp/ccBtvIog.s:1866   .text.__get_chunk:0000000000000000 __get_chunk
     /tmp/ccBtvIog.s:1916   .text.heap_init:0000000000000000 $t
ARM GAS  /tmp/ccBtvIog.s 			page 87


     /tmp/ccBtvIog.s:1923   .text.heap_init:0000000000000000 heap_init
     /tmp/ccBtvIog.s:1989   .text.heap_add:0000000000000000 $t
     /tmp/ccBtvIog.s:1996   .text.heap_add:0000000000000000 heap_add
     /tmp/ccBtvIog.s:2177   .text.__carve_extra:0000000000000000 $t
     /tmp/ccBtvIog.s:2183   .text.__carve_extra:0000000000000000 __carve_extra
     /tmp/ccBtvIog.s:2362   .text.heap_alloc_align:0000000000000000 $t
     /tmp/ccBtvIog.s:2369   .text.heap_alloc_align:0000000000000000 heap_alloc_align
     /tmp/ccBtvIog.s:2504   .text.heap_alloc:0000000000000000 $t
     /tmp/ccBtvIog.s:2511   .text.heap_alloc:0000000000000000 heap_alloc
     /tmp/ccBtvIog.s:2550   .text.heap_free:0000000000000000 $t
     /tmp/ccBtvIog.s:2557   .text.heap_free:0000000000000000 heap_free
     /tmp/ccBtvIog.s:2709   .text.heap_realloc:0000000000000000 $t
     /tmp/ccBtvIog.s:2716   .text.heap_realloc:0000000000000000 heap_realloc
     /tmp/ccBtvIog.s:2923   .text.heap_stat_get:0000000000000000 $t
     /tmp/ccBtvIog.s:2930   .text.heap_stat_get:0000000000000000 heap_stat_get
     /tmp/ccBtvIog.s:3021   .rodata:0000000000000000 $d
     /tmp/ccBtvIog.s:3037   .text.__dump_block:0000000000000000 $t
     /tmp/ccBtvIog.s:3043   .text.__dump_block:0000000000000000 __dump_block
     /tmp/ccBtvIog.s:3127   .text.__dump_block:0000000000000060 $d
     /tmp/ccBtvIog.s:3174   .text.__dump_heap:0000000000000000 $t
     /tmp/ccBtvIog.s:3181   .text.__dump_heap:0000000000000000 __dump_heap
     /tmp/ccBtvIog.s:3330   .text.__dump_heap:0000000000000100 $d

UNDEFINED SYMBOLS
memset
LOS_MuxCreate
LOS_MuxPend
LOS_MuxPost
memcpy
printf
