GAS LISTING /tmp/ccnB6X6Q.s 			page 1


   1              		.file	"sal_netdb.c"
   2              		.text
   3              	.Ltext0:
   4              		.section	.rodata
   5              	.LC0:
   6 0000 25642E25 		.string	"%d.%d.%d.%d"
   6      642E2564 
   6      2E256400 
   7              		.section	.text.inet_addr,"ax",@progbits
   8              		.weak	inet_addr
  10              	inet_addr:
  11              	.LFB0:
  12              		.file 1 "/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c"
   1:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** /* ----------------------------------------------------------------------------
   2:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * Copyright (c) <2018>, <Huawei Technologies Co., Ltd>
   3:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * All rights reserved.
   4:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * are permitted provided that the following conditions are met:
   6:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * conditions and the following disclaimer.
   8:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * provided with the distribution.
  11:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * to endorse or promote products derived from this software without specific prior written
  13:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * permission.
  14:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * --------------------------------------------------------------------------- */
  26:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** /* ----------------------------------------------------------------------------
  27:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * Notice of Export Control Law
  28:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * ===============================================
  29:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * applicable export control laws and regulations.
  33:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****  * --------------------------------------------------------------------------- */
  34:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
  35:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** #include <stdint.h>
  36:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** #include <stddef.h>
  37:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** #include <string.h>
  38:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
  39:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** #include "sal.h"
  40:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
  41:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** __attribute__((weak)) in_addr_t inet_addr(const char *addr)
  42:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** {
  13              		.loc 1 42 1
  14              		.cfi_startproc
GAS LISTING /tmp/ccnB6X6Q.s 			page 2


  15 0000 F30F1EFA 		endbr64
  16 0004 55       		pushq	%rbp
  17              	.LCFI0:
  18              		.cfi_def_cfa_offset 16
  19              		.cfi_offset 6, -16
  20 0005 4889E5   		movq	%rsp, %rbp
  21              	.LCFI1:
  22              		.cfi_def_cfa_register 6
  23 0008 4883EC40 		subq	$64, %rsp
  24 000c 48897DC8 		movq	%rdi, -56(%rbp)
  25              		.loc 1 42 1
  26 0010 64488B04 		movq	%fs:40, %rax
  26      25280000 
  26      00
  27 0019 488945F8 		movq	%rax, -8(%rbp)
  28 001d 31C0     		xorl	%eax, %eax
  43:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     int para;
  44:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     int tmp[4];
  45:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     in_addr_t result = INADDR_NONE;
  29              		.loc 1 45 15
  30 001f C745D800 		movl	$0, -40(%rbp)
  30      000000
  46:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     unsigned char ip[4];
  47:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
  48:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     para = sscanf(addr, "%d.%d.%d.%d", &tmp[0], &tmp[1], &tmp[2], &tmp[3]);
  31              		.loc 1 48 12
  32 0026 488D45E0 		leaq	-32(%rbp), %rax
  33 002a 488D780C 		leaq	12(%rax), %rdi
  34 002e 488D45E0 		leaq	-32(%rbp), %rax
  35 0032 488D7008 		leaq	8(%rax), %rsi
  36 0036 488D45E0 		leaq	-32(%rbp), %rax
  37 003a 488D4804 		leaq	4(%rax), %rcx
  38 003e 488D55E0 		leaq	-32(%rbp), %rdx
  39 0042 488B45C8 		movq	-56(%rbp), %rax
  40 0046 4989F9   		movq	%rdi, %r9
  41 0049 4989F0   		movq	%rsi, %r8
  42 004c 488D3500 		leaq	.LC0(%rip), %rsi
  42      000000
  43 0053 4889C7   		movq	%rax, %rdi
  44 0056 B8000000 		movl	$0, %eax
  44      00
  45 005b E8000000 		call	__isoc99_sscanf@PLT
  45      00
  46 0060 8945DC   		movl	%eax, -36(%rbp)
  49:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     if (para == 4) {
  47              		.loc 1 49 8
  48 0063 837DDC04 		cmpl	$4, -36(%rbp)
  49 0067 751E     		jne	.L2
  50:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         ip[0] = (unsigned char)tmp[0];
  50              		.loc 1 50 35
  51 0069 8B45E0   		movl	-32(%rbp), %eax
  52              		.loc 1 50 15
  53 006c 8845F4   		movb	%al, -12(%rbp)
  51:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         ip[1] = (unsigned char)tmp[1];
  54              		.loc 1 51 35
  55 006f 8B45E4   		movl	-28(%rbp), %eax
  56              		.loc 1 51 15
GAS LISTING /tmp/ccnB6X6Q.s 			page 3


  57 0072 8845F5   		movb	%al, -11(%rbp)
  52:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         ip[2] = (unsigned char)tmp[2];
  58              		.loc 1 52 35
  59 0075 8B45E8   		movl	-24(%rbp), %eax
  60              		.loc 1 52 15
  61 0078 8845F6   		movb	%al, -10(%rbp)
  53:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         ip[3] = (unsigned char)tmp[3];
  62              		.loc 1 53 35
  63 007b 8B45EC   		movl	-20(%rbp), %eax
  64              		.loc 1 53 15
  65 007e 8845F7   		movb	%al, -9(%rbp)
  66 0081 8B45F4   		movl	-12(%rbp), %eax
  54:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         (void)memcpy((void *)&result, (void *)ip, sizeof(result));
  67              		.loc 1 54 15
  68 0084 8945D8   		movl	%eax, -40(%rbp)
  69              	.L2:
  55:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     }
  56:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     return result;
  70              		.loc 1 56 12
  71 0087 8B45D8   		movl	-40(%rbp), %eax
  57:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** }
  72              		.loc 1 57 1
  73 008a 488B55F8 		movq	-8(%rbp), %rdx
  74 008e 64483314 		xorq	%fs:40, %rdx
  74      25280000 
  74      00
  75 0097 7405     		je	.L4
  76 0099 E8000000 		call	__stack_chk_fail@PLT
  76      00
  77              	.L4:
  78 009e C9       		leave
  79              	.LCFI2:
  80              		.cfi_def_cfa 7, 8
  81 009f C3       		ret
  82              		.cfi_endproc
  83              	.LFE0:
  85              		.section	.text.inet_aton,"ax",@progbits
  86              		.weak	inet_aton
  88              	inet_aton:
  89              	.LFB1:
  58:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
  59:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** __attribute__((weak)) int inet_aton(const char *string, struct in_addr *addr)
  60:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** {
  90              		.loc 1 60 1
  91              		.cfi_startproc
  92 0000 F30F1EFA 		endbr64
  93 0004 55       		pushq	%rbp
  94              	.LCFI3:
  95              		.cfi_def_cfa_offset 16
  96              		.cfi_offset 6, -16
  97 0005 4889E5   		movq	%rsp, %rbp
  98              	.LCFI4:
  99              		.cfi_def_cfa_register 6
 100 0008 4883EC40 		subq	$64, %rsp
 101 000c 48897DC8 		movq	%rdi, -56(%rbp)
 102 0010 488975C0 		movq	%rsi, -64(%rbp)
 103              		.loc 1 60 1
GAS LISTING /tmp/ccnB6X6Q.s 			page 4


 104 0014 64488B04 		movq	%fs:40, %rax
 104      25280000 
 104      00
 105 001d 488945F8 		movq	%rax, -8(%rbp)
 106 0021 31C0     		xorl	%eax, %eax
  61:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     int para;
  62:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     int tmp[4];
  63:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     unsigned char ip[4];
  64:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     int result = 0;
 107              		.loc 1 64 9
 108 0023 C745D800 		movl	$0, -40(%rbp)
 108      000000
  65:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
  66:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     para = sscanf(string, "%d.%d.%d.%d", &tmp[0], &tmp[1], &tmp[2], &tmp[3]);
 109              		.loc 1 66 12
 110 002a 488D45E0 		leaq	-32(%rbp), %rax
 111 002e 488D780C 		leaq	12(%rax), %rdi
 112 0032 488D45E0 		leaq	-32(%rbp), %rax
 113 0036 488D7008 		leaq	8(%rax), %rsi
 114 003a 488D45E0 		leaq	-32(%rbp), %rax
 115 003e 488D4804 		leaq	4(%rax), %rcx
 116 0042 488D55E0 		leaq	-32(%rbp), %rdx
 117 0046 488B45C8 		movq	-56(%rbp), %rax
 118 004a 4989F9   		movq	%rdi, %r9
 119 004d 4989F0   		movq	%rsi, %r8
 120 0050 488D3500 		leaq	.LC0(%rip), %rsi
 120      000000
 121 0057 4889C7   		movq	%rax, %rdi
 122 005a B8000000 		movl	$0, %eax
 122      00
 123 005f E8000000 		call	__isoc99_sscanf@PLT
 123      00
 124 0064 8945DC   		movl	%eax, -36(%rbp)
  67:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     if (para == 4) {
 125              		.loc 1 67 8
 126 0067 837DDC04 		cmpl	$4, -36(%rbp)
 127 006b 7528     		jne	.L6
  68:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         ip[0] = (unsigned char)tmp[0];
 128              		.loc 1 68 35
 129 006d 8B45E0   		movl	-32(%rbp), %eax
 130              		.loc 1 68 15
 131 0070 8845F4   		movb	%al, -12(%rbp)
  69:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         ip[1] = (unsigned char)tmp[1];
 132              		.loc 1 69 35
 133 0073 8B45E4   		movl	-28(%rbp), %eax
 134              		.loc 1 69 15
 135 0076 8845F5   		movb	%al, -11(%rbp)
  70:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         ip[2] = (unsigned char)tmp[2];
 136              		.loc 1 70 35
 137 0079 8B45E8   		movl	-24(%rbp), %eax
 138              		.loc 1 70 15
 139 007c 8845F6   		movb	%al, -10(%rbp)
  71:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         ip[3] = (unsigned char)tmp[3];
 140              		.loc 1 71 35
 141 007f 8B45EC   		movl	-20(%rbp), %eax
 142              		.loc 1 71 15
 143 0082 8845F7   		movb	%al, -9(%rbp)
GAS LISTING /tmp/ccnB6X6Q.s 			page 5


 144 0085 8B55F4   		movl	-12(%rbp), %edx
  72:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         (void)memcpy((void *)addr, (void *)ip, sizeof(ip));
 145              		.loc 1 72 15
 146 0088 488B45C0 		movq	-64(%rbp), %rax
 147 008c 8910     		movl	%edx, (%rax)
  73:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         result = 1;
 148              		.loc 1 73 16
 149 008e C745D801 		movl	$1, -40(%rbp)
 149      000000
 150              	.L6:
  74:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     }
  75:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
  76:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     return result;
 151              		.loc 1 76 12
 152 0095 8B45D8   		movl	-40(%rbp), %eax
  77:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** }
 153              		.loc 1 77 1
 154 0098 488B4DF8 		movq	-8(%rbp), %rcx
 155 009c 6448330C 		xorq	%fs:40, %rcx
 155      25280000 
 155      00
 156 00a5 7405     		je	.L8
 157 00a7 E8000000 		call	__stack_chk_fail@PLT
 157      00
 158              	.L8:
 159 00ac C9       		leave
 160              	.LCFI5:
 161              		.cfi_def_cfa 7, 8
 162 00ad C3       		ret
 163              		.cfi_endproc
 164              	.LFE1:
 166              		.section	.bss.s_inet_addr_buf,"aw",@nobits
 167              		.align 16
 170              	s_inet_addr_buf:
 171 0000 00000000 		.zero	16
 171      00000000 
 171      00000000 
 171      00000000 
 172              		.section	.text.inet_ntoa,"ax",@progbits
 173              		.weak	inet_ntoa
 175              	inet_ntoa:
 176              	.LFB2:
  78:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
  79:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** #define cn_inet_addrlen_max 16
  80:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** static char s_inet_addr_buf[cn_inet_addrlen_max];
  81:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
  82:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** __attribute__((weak)) char *inet_ntoa(struct in_addr addr)
  83:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** {
 177              		.loc 1 83 1
 178              		.cfi_startproc
 179 0000 F30F1EFA 		endbr64
 180 0004 55       		pushq	%rbp
 181              	.LCFI6:
 182              		.cfi_def_cfa_offset 16
 183              		.cfi_offset 6, -16
 184 0005 4889E5   		movq	%rsp, %rbp
 185              	.LCFI7:
GAS LISTING /tmp/ccnB6X6Q.s 			page 6


 186              		.cfi_def_cfa_register 6
 187 0008 4883EC30 		subq	$48, %rsp
 188 000c 897DDC   		movl	%edi, -36(%rbp)
 189              		.loc 1 83 1
 190 000f 64488B04 		movq	%fs:40, %rax
 190      25280000 
 190      00
 191 0018 488945F8 		movq	%rax, -8(%rbp)
 192 001c 31C0     		xorl	%eax, %eax
 193 001e 8B45DC   		movl	-36(%rbp), %eax
  84:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     unsigned char ip[4];
  85:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     int tmp[4];
  86:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     (void)memcpy((void *)ip, (void *)&addr, sizeof(ip));
 194              		.loc 1 86 11
 195 0021 8945F4   		movl	%eax, -12(%rbp)
  87:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     (void)memset((void *)s_inet_addr_buf, 0, cn_inet_addrlen_max);
 196              		.loc 1 87 11
 197 0024 BA100000 		movl	$16, %edx
 197      00
 198 0029 BE000000 		movl	$0, %esi
 198      00
 199 002e 488D3D00 		leaq	s_inet_addr_buf(%rip), %rdi
 199      000000
 200 0035 E8000000 		call	memset@PLT
 200      00
  88:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
  89:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     tmp[0] = (int)ip[0];
 201              		.loc 1 89 21
 202 003a 0FB645F4 		movzbl	-12(%rbp), %eax
 203              		.loc 1 89 14
 204 003e 0FB6C0   		movzbl	%al, %eax
 205              		.loc 1 89 12
 206 0041 8945E0   		movl	%eax, -32(%rbp)
  90:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     tmp[1] = (int)ip[1];
 207              		.loc 1 90 21
 208 0044 0FB645F5 		movzbl	-11(%rbp), %eax
 209              		.loc 1 90 14
 210 0048 0FB6C0   		movzbl	%al, %eax
 211              		.loc 1 90 12
 212 004b 8945E4   		movl	%eax, -28(%rbp)
  91:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     tmp[2] = (int)ip[2];
 213              		.loc 1 91 21
 214 004e 0FB645F6 		movzbl	-10(%rbp), %eax
 215              		.loc 1 91 14
 216 0052 0FB6C0   		movzbl	%al, %eax
 217              		.loc 1 91 12
 218 0055 8945E8   		movl	%eax, -24(%rbp)
  92:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     tmp[3] = (int)ip[3];
 219              		.loc 1 92 21
 220 0058 0FB645F7 		movzbl	-9(%rbp), %eax
 221              		.loc 1 92 14
 222 005c 0FB6C0   		movzbl	%al, %eax
 223              		.loc 1 92 12
 224 005f 8945EC   		movl	%eax, -20(%rbp)
  93:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     (void)sprintf(s_inet_addr_buf, "%d.%d.%d.%d", tmp[0], tmp[1], tmp[2], tmp[3]);
 225              		.loc 1 93 11
 226 0062 8B75EC   		movl	-20(%rbp), %esi
GAS LISTING /tmp/ccnB6X6Q.s 			page 7


 227 0065 8B4DE8   		movl	-24(%rbp), %ecx
 228 0068 8B55E4   		movl	-28(%rbp), %edx
 229 006b 8B45E0   		movl	-32(%rbp), %eax
 230 006e 4189F1   		movl	%esi, %r9d
 231 0071 4189C8   		movl	%ecx, %r8d
 232 0074 89D1     		movl	%edx, %ecx
 233 0076 89C2     		movl	%eax, %edx
 234 0078 488D3500 		leaq	.LC0(%rip), %rsi
 234      000000
 235 007f 488D3D00 		leaq	s_inet_addr_buf(%rip), %rdi
 235      000000
 236 0086 B8000000 		movl	$0, %eax
 236      00
 237 008b E8000000 		call	sprintf@PLT
 237      00
  94:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
  95:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     return (char *)s_inet_addr_buf;
 238              		.loc 1 95 12
 239 0090 488D0500 		leaq	s_inet_addr_buf(%rip), %rax
 239      000000
  96:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** }
 240              		.loc 1 96 1
 241 0097 488B4DF8 		movq	-8(%rbp), %rcx
 242 009b 6448330C 		xorq	%fs:40, %rcx
 242      25280000 
 242      00
 243 00a4 7405     		je	.L11
 244 00a6 E8000000 		call	__stack_chk_fail@PLT
 244      00
 245              	.L11:
 246 00ab C9       		leave
 247              	.LCFI8:
 248              		.cfi_def_cfa 7, 8
 249 00ac C3       		ret
 250              		.cfi_endproc
 251              	.LFE2:
 253              		.section	.text.inet_ntop,"ax",@progbits
 254              		.weak	inet_ntop
 256              	inet_ntop:
 257              	.LFB3:
  97:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
  98:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** __attribute__((weak)) const char *inet_ntop(int af, const void *src, char *dst, socklen_t cnt)
  99:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** {
 258              		.loc 1 99 1
 259              		.cfi_startproc
 260 0000 F30F1EFA 		endbr64
 261 0004 55       		pushq	%rbp
 262              	.LCFI9:
 263              		.cfi_def_cfa_offset 16
 264              		.cfi_offset 6, -16
 265 0005 4889E5   		movq	%rsp, %rbp
 266              	.LCFI10:
 267              		.cfi_def_cfa_register 6
 268 0008 4883EC40 		subq	$64, %rsp
 269 000c 897DDC   		movl	%edi, -36(%rbp)
 270 000f 488975D0 		movq	%rsi, -48(%rbp)
 271 0013 488955C8 		movq	%rdx, -56(%rbp)
GAS LISTING /tmp/ccnB6X6Q.s 			page 8


 272 0017 894DD8   		movl	%ecx, -40(%rbp)
 273              		.loc 1 99 1
 274 001a 64488B04 		movq	%fs:40, %rax
 274      25280000 
 274      00
 275 0023 488945F8 		movq	%rax, -8(%rbp)
 276 0027 31C0     		xorl	%eax, %eax
 100:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     char *str;
 101:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     char *result = NULL;
 277              		.loc 1 101 11
 278 0029 48C745E8 		movq	$0, -24(%rbp)
 278      00000000 
 102:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     struct in_addr addr;
 103:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
 104:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     if ((NULL == src) || (NULL == dst)) {
 279              		.loc 1 104 8
 280 0031 48837DD0 		cmpq	$0, -48(%rbp)
 280      00
 281 0036 7407     		je	.L13
 282              		.loc 1 104 23 discriminator 1
 283 0038 48837DC8 		cmpq	$0, -56(%rbp)
 283      00
 284 003d 7506     		jne	.L14
 285              	.L13:
 105:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         return result;
 286              		.loc 1 105 16
 287 003f 488B45E8 		movq	-24(%rbp), %rax
 288 0043 EB67     		jmp	.L17
 289              	.L14:
 106:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     }
 107:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
 108:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     if (af == AF_INET) {
 290              		.loc 1 108 8
 291 0045 837DDC02 		cmpl	$2, -36(%rbp)
 292 0049 755D     		jne	.L16
 293 004b 488B45D0 		movq	-48(%rbp), %rax
 294 004f 8B00     		movl	(%rax), %eax
 109:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         (void)memcpy((void *)&addr, src, sizeof(addr));
 295              		.loc 1 109 15
 296 0051 8945E4   		movl	%eax, -28(%rbp)
 110:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         str = inet_ntoa(addr);
 297              		.loc 1 110 15
 298 0054 8B45E4   		movl	-28(%rbp), %eax
 299 0057 89C7     		movl	%eax, %edi
 300 0059 E8000000 		call	inet_ntoa
 300      00
 301 005e 488945F0 		movq	%rax, -16(%rbp)
 111:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
 112:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         if ((NULL != str) && (cnt > (socklen_t)(strlen(str) + 1))) {
 302              		.loc 1 112 12
 303 0062 48837DF0 		cmpq	$0, -16(%rbp)
 303      00
 304 0067 743F     		je	.L16
 305              		.loc 1 112 49 discriminator 1
 306 0069 488B45F0 		movq	-16(%rbp), %rax
 307 006d 4889C7   		movq	%rax, %rdi
 308 0070 E8000000 		call	strlen@PLT
GAS LISTING /tmp/ccnB6X6Q.s 			page 9


 308      00
 309              		.loc 1 112 61 discriminator 1
 310 0075 83C001   		addl	$1, %eax
 311              		.loc 1 112 27 discriminator 1
 312 0078 3945D8   		cmpl	%eax, -40(%rbp)
 313 007b 7E2B     		jle	.L16
 113:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****             (void)memcpy((void *)dst, (void *)str, strlen(str) + 1);
 314              		.loc 1 113 52
 315 007d 488B45F0 		movq	-16(%rbp), %rax
 316 0081 4889C7   		movq	%rax, %rdi
 317 0084 E8000000 		call	strlen@PLT
 317      00
 318              		.loc 1 113 19
 319 0089 488D5001 		leaq	1(%rax), %rdx
 320 008d 488B4DF0 		movq	-16(%rbp), %rcx
 321 0091 488B45C8 		movq	-56(%rbp), %rax
 322 0095 4889CE   		movq	%rcx, %rsi
 323 0098 4889C7   		movq	%rax, %rdi
 324 009b E8000000 		call	memcpy@PLT
 324      00
 114:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****             result = dst;
 325              		.loc 1 114 20
 326 00a0 488B45C8 		movq	-56(%rbp), %rax
 327 00a4 488945E8 		movq	%rax, -24(%rbp)
 328              	.L16:
 115:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         }
 116:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     }
 117:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
 118:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     return result;
 329              		.loc 1 118 12
 330 00a8 488B45E8 		movq	-24(%rbp), %rax
 331              	.L17:
 119:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** }
 332              		.loc 1 119 1 discriminator 1
 333 00ac 488B75F8 		movq	-8(%rbp), %rsi
 334 00b0 64483334 		xorq	%fs:40, %rsi
 334      25280000 
 334      00
 335 00b9 7405     		je	.L18
 336              		.loc 1 119 1 is_stmt 0
 337 00bb E8000000 		call	__stack_chk_fail@PLT
 337      00
 338              	.L18:
 339 00c0 C9       		leave
 340              	.LCFI11:
 341              		.cfi_def_cfa 7, 8
 342 00c1 C3       		ret
 343              		.cfi_endproc
 344              	.LFE3:
 346              		.section	.text.inet_pton,"ax",@progbits
 347              		.weak	inet_pton
 349              	inet_pton:
 350              	.LFB4:
 120:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
 121:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** __attribute__((weak)) int inet_pton(int af, const char *src, void *dst)
 122:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** {
 351              		.loc 1 122 1 is_stmt 1
GAS LISTING /tmp/ccnB6X6Q.s 			page 10


 352              		.cfi_startproc
 353 0000 F30F1EFA 		endbr64
 354 0004 55       		pushq	%rbp
 355              	.LCFI12:
 356              		.cfi_def_cfa_offset 16
 357              		.cfi_offset 6, -16
 358 0005 4889E5   		movq	%rsp, %rbp
 359              	.LCFI13:
 360              		.cfi_def_cfa_register 6
 361 0008 4883EC30 		subq	$48, %rsp
 362 000c 897DEC   		movl	%edi, -20(%rbp)
 363 000f 488975E0 		movq	%rsi, -32(%rbp)
 364 0013 488955D8 		movq	%rdx, -40(%rbp)
 365              		.loc 1 122 1
 366 0017 64488B04 		movq	%fs:40, %rax
 366      25280000 
 366      00
 367 0020 488945F8 		movq	%rax, -8(%rbp)
 368 0024 31C0     		xorl	%eax, %eax
 123:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     int result = -1;
 369              		.loc 1 123 9
 370 0026 C745F4FF 		movl	$-1, -12(%rbp)
 370      FFFFFF
 124:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     struct in_addr addr;
 125:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
 126:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     if ((NULL == src) || (NULL == dst)) {
 371              		.loc 1 126 8
 372 002d 48837DE0 		cmpq	$0, -32(%rbp)
 372      00
 373 0032 7407     		je	.L20
 374              		.loc 1 126 23 discriminator 1
 375 0034 48837DD8 		cmpq	$0, -40(%rbp)
 375      00
 376 0039 750C     		jne	.L21
 377              	.L20:
 127:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         result = 0;
 378              		.loc 1 127 16
 379 003b C745F400 		movl	$0, -12(%rbp)
 379      000000
 128:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         return result;
 380              		.loc 1 128 16
 381 0042 8B45F4   		movl	-12(%rbp), %eax
 382 0045 EB30     		jmp	.L24
 383              	.L21:
 129:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     }
 130:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
 131:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     if (af == AF_INET) {
 384              		.loc 1 131 8
 385 0047 837DEC02 		cmpl	$2, -20(%rbp)
 386 004b 7527     		jne	.L23
 132:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         if (inet_aton(src, &addr)) {
 387              		.loc 1 132 13
 388 004d 488D55F0 		leaq	-16(%rbp), %rdx
 389 0051 488B45E0 		movq	-32(%rbp), %rax
 390 0055 4889D6   		movq	%rdx, %rsi
 391 0058 4889C7   		movq	%rax, %rdi
 392 005b E8000000 		call	inet_aton
GAS LISTING /tmp/ccnB6X6Q.s 			page 11


 392      00
 393              		.loc 1 132 12
 394 0060 85C0     		testl	%eax, %eax
 395 0062 7410     		je	.L23
 396 0064 8B55F0   		movl	-16(%rbp), %edx
 133:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****             (void)memcpy((void *)dst, &addr, sizeof(addr));
 397              		.loc 1 133 19
 398 0067 488B45D8 		movq	-40(%rbp), %rax
 399 006b 8910     		movl	%edx, (%rax)
 134:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****             result = 1;
 400              		.loc 1 134 20
 401 006d C745F401 		movl	$1, -12(%rbp)
 401      000000
 402              	.L23:
 135:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****         }
 136:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     }
 137:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** 
 138:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c ****     return result;
 403              		.loc 1 138 12
 404 0074 8B45F4   		movl	-12(%rbp), %eax
 405              	.L24:
 139:/home/xingli/share/LiteOS_Lab/network/tcpip/sal/sal_netdb.c **** }
 406              		.loc 1 139 1 discriminator 1
 407 0077 488B4DF8 		movq	-8(%rbp), %rcx
 408 007b 6448330C 		xorq	%fs:40, %rcx
 408      25280000 
 408      00
 409 0084 7405     		je	.L25
 410              		.loc 1 139 1 is_stmt 0
 411 0086 E8000000 		call	__stack_chk_fail@PLT
 411      00
 412              	.L25:
 413 008b C9       		leave
 414              	.LCFI14:
 415              		.cfi_def_cfa 7, 8
 416 008c C3       		ret
 417              		.cfi_endproc
 418              	.LFE4:
 420              		.text
 421              	.Letext0:
 422              		.file 2 "/usr/include/x86_64-linux-gnu/bits/types.h"
 423              		.file 3 "/usr/include/x86_64-linux-gnu/bits/stdint-uintn.h"
 424              		.file 4 "/usr/lib/gcc/x86_64-linux-gnu/9/include/stddef.h"
 425              		.file 5 "/usr/include/x86_64-linux-gnu/bits/types/struct_FILE.h"
 426              		.file 6 "/usr/include/x86_64-linux-gnu/bits/types/FILE.h"
 427              		.file 7 "/usr/include/stdio.h"
 428              		.file 8 "/usr/include/x86_64-linux-gnu/bits/sys_errlist.h"
 429              		.file 9 "/home/xingli/share/LiteOS_Lab/inc/sal_types.h"
 1864              		.section	.note.gnu.property,"a"
 1865              		.align 8
 1866 0000 04000000 		.long	 1f - 0f
 1867 0004 10000000 		.long	 4f - 1f
 1868 0008 05000000 		.long	 5
 1869              	0:
 1870 000c 474E5500 		.string	 "GNU"
 1871              	1:
 1872              		.align 8
GAS LISTING /tmp/ccnB6X6Q.s 			page 12


 1873 0010 020000C0 		.long	 0xc0000002
 1874 0014 04000000 		.long	 3f - 2f
 1875              	2:
 1876 0018 03000000 		.long	 0x3
 1877              	3:
 1878 001c 00000000 		.align 8
 1879              	4:
GAS LISTING /tmp/ccnB6X6Q.s 			page 13


DEFINED SYMBOLS
                            *ABS*:0000000000000000 sal_netdb.c
     /tmp/ccnB6X6Q.s:10     .text.inet_addr:0000000000000000 inet_addr
     /tmp/ccnB6X6Q.s:88     .text.inet_aton:0000000000000000 inet_aton
     /tmp/ccnB6X6Q.s:170    .bss.s_inet_addr_buf:0000000000000000 s_inet_addr_buf
     /tmp/ccnB6X6Q.s:175    .text.inet_ntoa:0000000000000000 inet_ntoa
     /tmp/ccnB6X6Q.s:256    .text.inet_ntop:0000000000000000 inet_ntop
     /tmp/ccnB6X6Q.s:349    .text.inet_pton:0000000000000000 inet_pton

UNDEFINED SYMBOLS
_GLOBAL_OFFSET_TABLE_
__isoc99_sscanf
__stack_chk_fail
memset
sprintf
strlen
memcpy
