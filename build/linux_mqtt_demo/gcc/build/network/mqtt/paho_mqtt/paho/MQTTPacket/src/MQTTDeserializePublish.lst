GAS LISTING /tmp/cc5DHL9z.s 			page 1


   1              		.file	"MQTTDeserializePublish.c"
   2              		.text
   3              	.Ltext0:
   4              		.section	.text.MQTTDeserialize_publish,"ax",@progbits
   5              		.globl	MQTTDeserialize_publish
   7              	MQTTDeserialize_publish:
   8              	.LFB0:
   9              		.file 1 "/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializeP
   1:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** /*******************************************************************************
   2:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****  * Copyright (c) 2014 IBM Corp.
   3:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****  *
   4:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****  * All rights reserved. This program and the accompanying materials
   5:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****  * are made available under the terms of the Eclipse Public License v1.0
   6:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****  * and Eclipse Distribution License v1.0 which accompany this distribution.
   7:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****  *
   8:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****  * The Eclipse Public License is available at
   9:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****  *    http://www.eclipse.org/legal/epl-v10.html
  10:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****  * and the Eclipse Distribution License is available at
  11:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****  *   http://www.eclipse.org/org/documents/edl-v10.php.
  12:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****  *
  13:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****  * Contributors:
  14:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****  *    Ian Craggs - initial API and implementation and/or initial documentation
  15:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****  *******************************************************************************/
  16:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
  17:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** #include "StackTrace.h"
  18:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** #include "MQTTPacket.h"
  19:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** #include <string.h>
  20:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
  21:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** #define min(a, b) ((a < b) ? 1 : 0)
  22:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
  23:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** /**
  24:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * Deserializes the supplied (wire) buffer into publish data
  25:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @param dup returned integer - the MQTT dup flag
  26:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @param qos returned integer - the MQTT QoS value
  27:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @param retained returned integer - the MQTT retained flag
  28:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @param packetid returned integer - the MQTT packet identifier
  29:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @param topicName returned MQTTString - the MQTT topic in the publish
  30:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @param payload returned byte buffer - the MQTT publish payload
  31:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @param payloadlen returned integer - the length of the MQTT payload
  32:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @param buf the raw buffer data, of the correct length determined by the remaining length field
  33:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @param buflen the length in bytes of the data in the supplied buffer
  34:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @return error code.  1 is success
  35:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   */
  36:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** int MQTTDeserialize_publish(unsigned char* dup, int* qos, unsigned char* retained, unsigned short* 
  37:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 		unsigned char** payload, int* payloadlen, unsigned char* buf, int buflen)
  38:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** {
  10              		.loc 1 38 1
  11              		.cfi_startproc
  12 0000 F30F1EFA 		endbr64
  13 0004 55       		pushq	%rbp
  14              	.LCFI0:
  15              		.cfi_def_cfa_offset 16
  16              		.cfi_offset 6, -16
  17 0005 4889E5   		movq	%rsp, %rbp
  18              	.LCFI1:
  19              		.cfi_def_cfa_register 6
  20 0008 4883C480 		addq	$-128, %rsp
GAS LISTING /tmp/cc5DHL9z.s 			page 2


  21 000c 48897DC8 		movq	%rdi, -56(%rbp)
  22 0010 488975C0 		movq	%rsi, -64(%rbp)
  23 0014 488955B8 		movq	%rdx, -72(%rbp)
  24 0018 48894DB0 		movq	%rcx, -80(%rbp)
  25 001c 4C8945A8 		movq	%r8, -88(%rbp)
  26 0020 4C894DA0 		movq	%r9, -96(%rbp)
  27 0024 488B4510 		movq	16(%rbp), %rax
  28 0028 48894598 		movq	%rax, -104(%rbp)
  29 002c 488B4518 		movq	24(%rbp), %rax
  30 0030 48894590 		movq	%rax, -112(%rbp)
  31 0034 8B4520   		movl	32(%rbp), %eax
  32 0037 89458C   		movl	%eax, -116(%rbp)
  33              		.loc 1 38 1
  34 003a 64488B04 		movq	%fs:40, %rax
  34      25280000 
  34      00
  35 0043 488945F8 		movq	%rax, -8(%rbp)
  36 0047 31C0     		xorl	%eax, %eax
  39:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	MQTTHeader header = {0};
  37              		.loc 1 39 13
  38 0049 C745DC00 		movl	$0, -36(%rbp)
  38      000000
  40:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	unsigned char* curdata = buf;
  39              		.loc 1 40 17
  40 0050 488B4590 		movq	-112(%rbp), %rax
  41 0054 488945E8 		movq	%rax, -24(%rbp)
  41:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	unsigned char* enddata = NULL;
  42              		.loc 1 41 17
  43 0058 48C745F0 		movq	$0, -16(%rbp)
  43      00000000 
  42:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	int rc = 0;
  44              		.loc 1 42 6
  45 0060 C745E400 		movl	$0, -28(%rbp)
  45      000000
  43:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	int mylen = 0;
  46              		.loc 1 43 6
  47 0067 C745E000 		movl	$0, -32(%rbp)
  47      000000
  44:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
  45:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	FUNC_ENTRY;
  46:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	header.byte = readChar(&curdata);
  48              		.loc 1 46 16
  49 006e 488D45E8 		leaq	-24(%rbp), %rax
  50 0072 4889C7   		movq	%rax, %rdi
  51 0075 E8000000 		call	readChar@PLT
  51      00
  52              		.loc 1 46 14
  53 007a 8845DC   		movb	%al, -36(%rbp)
  47:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	if (header.bits.type != PUBLISH)
  54              		.loc 1 47 23
  55 007d 0FB645DC 		movzbl	-36(%rbp), %eax
  56 0081 83E0F0   		andl	$-16, %eax
  57              		.loc 1 47 5
  58 0084 3C30     		cmpb	$48, %al
  59 0086 0F85E000 		jne	.L9
  59      0000
  48:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 		goto exit;
GAS LISTING /tmp/cc5DHL9z.s 			page 3


  49:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	*dup = header.bits.dup;
  60              		.loc 1 49 20
  61 008c 0FB645DC 		movzbl	-36(%rbp), %eax
  62 0090 C0E803   		shrb	$3, %al
  63 0093 83E001   		andl	$1, %eax
  64 0096 89C2     		movl	%eax, %edx
  65              		.loc 1 49 7
  66 0098 488B45C8 		movq	-56(%rbp), %rax
  67 009c 8810     		movb	%dl, (%rax)
  50:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	*qos = header.bits.qos;
  68              		.loc 1 50 20
  69 009e 0FB645DC 		movzbl	-36(%rbp), %eax
  70 00a2 D0E8     		shrb	%al
  71 00a4 83E003   		andl	$3, %eax
  72 00a7 0FB6D0   		movzbl	%al, %edx
  73              		.loc 1 50 7
  74 00aa 488B45C0 		movq	-64(%rbp), %rax
  75 00ae 8910     		movl	%edx, (%rax)
  51:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	*retained = header.bits.retain;
  76              		.loc 1 51 25
  77 00b0 0FB645DC 		movzbl	-36(%rbp), %eax
  78 00b4 83E001   		andl	$1, %eax
  79 00b7 89C2     		movl	%eax, %edx
  80              		.loc 1 51 12
  81 00b9 488B45B8 		movq	-72(%rbp), %rax
  82 00bd 8810     		movb	%dl, (%rax)
  52:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
  53:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	curdata += (rc = MQTTPacket_decodeBuf(curdata, &mylen)); /* read remaining length */
  83              		.loc 1 53 19
  84 00bf 488B45E8 		movq	-24(%rbp), %rax
  85 00c3 488D55E0 		leaq	-32(%rbp), %rdx
  86 00c7 4889D6   		movq	%rdx, %rsi
  87 00ca 4889C7   		movq	%rax, %rdi
  88 00cd E8000000 		call	MQTTPacket_decodeBuf@PLT
  88      00
  89 00d2 8945E4   		movl	%eax, -28(%rbp)
  90              		.loc 1 53 17
  91 00d5 8B45E4   		movl	-28(%rbp), %eax
  92              		.loc 1 53 10
  93 00d8 488B55E8 		movq	-24(%rbp), %rdx
  94              		.loc 1 53 17
  95 00dc 4898     		cltq
  96              		.loc 1 53 10
  97 00de 4801D0   		addq	%rdx, %rax
  98 00e1 488945E8 		movq	%rax, -24(%rbp)
  54:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	enddata = curdata + mylen;
  99              		.loc 1 54 20
 100 00e5 488B55E8 		movq	-24(%rbp), %rdx
 101 00e9 8B45E0   		movl	-32(%rbp), %eax
 102 00ec 4898     		cltq
 103              		.loc 1 54 10
 104 00ee 4801D0   		addq	%rdx, %rax
 105 00f1 488945F0 		movq	%rax, -16(%rbp)
  55:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
  56:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	if (!readMQTTLenString(topicName, &curdata, enddata) ||
 106              		.loc 1 56 7
 107 00f5 488B55F0 		movq	-16(%rbp), %rdx
GAS LISTING /tmp/cc5DHL9z.s 			page 4


 108 00f9 488D4DE8 		leaq	-24(%rbp), %rcx
 109 00fd 488B45A8 		movq	-88(%rbp), %rax
 110 0101 4889CE   		movq	%rcx, %rsi
 111 0104 4889C7   		movq	%rax, %rdi
 112 0107 E8000000 		call	readMQTTLenString@PLT
 112      00
 113              		.loc 1 56 5
 114 010c 85C0     		testl	%eax, %eax
 115 010e 745F     		je	.L10
  57:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 		enddata - curdata < 0) /* do we have enough data to read the protocol version byte? */
 116              		.loc 1 57 11 discriminator 1
 117 0110 488B45E8 		movq	-24(%rbp), %rax
 118 0114 488B55F0 		movq	-16(%rbp), %rdx
 119 0118 4829C2   		subq	%rax, %rdx
 120 011b 4889D0   		movq	%rdx, %rax
  56:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 		enddata - curdata < 0) /* do we have enough data to read the protocol version byte? */
 121              		.loc 1 56 55 discriminator 1
 122 011e 4885C0   		testq	%rax, %rax
 123 0121 784C     		js	.L10
  58:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 		goto exit;
  59:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
  60:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	if (*qos > 0)
 124              		.loc 1 60 6
 125 0123 488B45C0 		movq	-64(%rbp), %rax
 126 0127 8B00     		movl	(%rax), %eax
 127              		.loc 1 60 5
 128 0129 85C0     		testl	%eax, %eax
 129 012b 7E15     		jle	.L6
  61:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 		*packetid = readInt(&curdata);
 130              		.loc 1 61 15
 131 012d 488D45E8 		leaq	-24(%rbp), %rax
 132 0131 4889C7   		movq	%rax, %rdi
 133 0134 E8000000 		call	readInt@PLT
 133      00
 134              		.loc 1 61 13
 135 0139 89C2     		movl	%eax, %edx
 136 013b 488B45B0 		movq	-80(%rbp), %rax
 137 013f 668910   		movw	%dx, (%rax)
 138              	.L6:
  62:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
  63:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	*payloadlen = enddata - curdata;
 139              		.loc 1 63 24
 140 0142 488B45E8 		movq	-24(%rbp), %rax
 141 0146 488B55F0 		movq	-16(%rbp), %rdx
 142 014a 4829C2   		subq	%rax, %rdx
 143 014d 4889D0   		movq	%rdx, %rax
 144              		.loc 1 63 14
 145 0150 89C2     		movl	%eax, %edx
 146 0152 488B4598 		movq	-104(%rbp), %rax
 147 0156 8910     		movl	%edx, (%rax)
  64:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	*payload = curdata;
 148              		.loc 1 64 11
 149 0158 488B55E8 		movq	-24(%rbp), %rdx
 150 015c 488B45A0 		movq	-96(%rbp), %rax
 151 0160 488910   		movq	%rdx, (%rax)
  65:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	rc = 1;
 152              		.loc 1 65 5
GAS LISTING /tmp/cc5DHL9z.s 			page 5


 153 0163 C745E401 		movl	$1, -28(%rbp)
 153      000000
 154 016a EB04     		jmp	.L3
 155              	.L9:
  48:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	*dup = header.bits.dup;
 156              		.loc 1 48 3
 157 016c 90       		nop
 158 016d EB01     		jmp	.L3
 159              	.L10:
  58:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
 160              		.loc 1 58 3
 161 016f 90       		nop
 162              	.L3:
  66:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** exit:
  67:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	FUNC_EXIT_RC(rc);
  68:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	return rc;
 163              		.loc 1 68 9
 164 0170 8B45E4   		movl	-28(%rbp), %eax
  69:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** }
 165              		.loc 1 69 1
 166 0173 488B4DF8 		movq	-8(%rbp), %rcx
 167 0177 6448330C 		xorq	%fs:40, %rcx
 167      25280000 
 167      00
 168 0180 7405     		je	.L8
 169 0182 E8000000 		call	__stack_chk_fail@PLT
 169      00
 170              	.L8:
 171 0187 C9       		leave
 172              	.LCFI2:
 173              		.cfi_def_cfa 7, 8
 174 0188 C3       		ret
 175              		.cfi_endproc
 176              	.LFE0:
 178              		.section	.text.MQTTDeserialize_ack,"ax",@progbits
 179              		.globl	MQTTDeserialize_ack
 181              	MQTTDeserialize_ack:
 182              	.LFB1:
  70:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
  71:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
  72:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
  73:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** /**
  74:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * Deserializes the supplied (wire) buffer into an ack
  75:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @param packettype returned integer - the MQTT packet type
  76:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @param dup returned integer - the MQTT dup flag
  77:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @param packetid returned integer - the MQTT packet identifier
  78:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @param buf the raw buffer data, of the correct length determined by the remaining length field
  79:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @param buflen the length in bytes of the data in the supplied buffer
  80:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   * @return error code.  1 is success, 0 is failure
  81:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c ****   */
  82:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** int MQTTDeserialize_ack(unsigned char* packettype, unsigned char* dup, unsigned short* packetid, un
  83:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** {
 183              		.loc 1 83 1
 184              		.cfi_startproc
 185 0000 F30F1EFA 		endbr64
 186 0004 55       		pushq	%rbp
 187              	.LCFI3:
GAS LISTING /tmp/cc5DHL9z.s 			page 6


 188              		.cfi_def_cfa_offset 16
 189              		.cfi_offset 6, -16
 190 0005 4889E5   		movq	%rsp, %rbp
 191              	.LCFI4:
 192              		.cfi_def_cfa_register 6
 193 0008 4883EC60 		subq	$96, %rsp
 194 000c 48897DC8 		movq	%rdi, -56(%rbp)
 195 0010 488975C0 		movq	%rsi, -64(%rbp)
 196 0014 488955B8 		movq	%rdx, -72(%rbp)
 197 0018 48894DB0 		movq	%rcx, -80(%rbp)
 198 001c 448945AC 		movl	%r8d, -84(%rbp)
 199              		.loc 1 83 1
 200 0020 64488B04 		movq	%fs:40, %rax
 200      25280000 
 200      00
 201 0029 488945F8 		movq	%rax, -8(%rbp)
 202 002d 31C0     		xorl	%eax, %eax
  84:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	MQTTHeader header = {0};
 203              		.loc 1 84 13
 204 002f C745DC00 		movl	$0, -36(%rbp)
 204      000000
  85:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	unsigned char* curdata = buf;
 205              		.loc 1 85 17
 206 0036 488B45B0 		movq	-80(%rbp), %rax
 207 003a 488945E8 		movq	%rax, -24(%rbp)
  86:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	unsigned char* enddata = NULL;
 208              		.loc 1 86 17
 209 003e 48C745F0 		movq	$0, -16(%rbp)
 209      00000000 
  87:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	int rc = 0;
 210              		.loc 1 87 6
 211 0046 C745E400 		movl	$0, -28(%rbp)
 211      000000
  88:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	int mylen;
  89:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
  90:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	FUNC_ENTRY;
  91:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	header.byte = readChar(&curdata);
 212              		.loc 1 91 16
 213 004d 488D45E8 		leaq	-24(%rbp), %rax
 214 0051 4889C7   		movq	%rax, %rdi
 215 0054 E8000000 		call	readChar@PLT
 215      00
 216              		.loc 1 91 14
 217 0059 8845DC   		movb	%al, -36(%rbp)
  92:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	*dup = header.bits.dup;
 218              		.loc 1 92 20
 219 005c 0FB645DC 		movzbl	-36(%rbp), %eax
 220 0060 C0E803   		shrb	$3, %al
 221 0063 83E001   		andl	$1, %eax
 222 0066 89C2     		movl	%eax, %edx
 223              		.loc 1 92 7
 224 0068 488B45C0 		movq	-64(%rbp), %rax
 225 006c 8810     		movb	%dl, (%rax)
  93:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	*packettype = header.bits.type;
 226              		.loc 1 93 27
 227 006e 0FB645DC 		movzbl	-36(%rbp), %eax
 228 0072 C0E804   		shrb	$4, %al
GAS LISTING /tmp/cc5DHL9z.s 			page 7


 229 0075 89C2     		movl	%eax, %edx
 230              		.loc 1 93 14
 231 0077 488B45C8 		movq	-56(%rbp), %rax
 232 007b 8810     		movb	%dl, (%rax)
  94:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
  95:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	curdata += (rc = MQTTPacket_decodeBuf(curdata, &mylen)); /* read remaining length */
 233              		.loc 1 95 19
 234 007d 488B45E8 		movq	-24(%rbp), %rax
 235 0081 488D55E0 		leaq	-32(%rbp), %rdx
 236 0085 4889D6   		movq	%rdx, %rsi
 237 0088 4889C7   		movq	%rax, %rdi
 238 008b E8000000 		call	MQTTPacket_decodeBuf@PLT
 238      00
 239 0090 8945E4   		movl	%eax, -28(%rbp)
 240              		.loc 1 95 17
 241 0093 8B45E4   		movl	-28(%rbp), %eax
 242              		.loc 1 95 10
 243 0096 488B55E8 		movq	-24(%rbp), %rdx
 244              		.loc 1 95 17
 245 009a 4898     		cltq
 246              		.loc 1 95 10
 247 009c 4801D0   		addq	%rdx, %rax
 248 009f 488945E8 		movq	%rax, -24(%rbp)
  96:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	enddata = curdata + mylen;
 249              		.loc 1 96 20
 250 00a3 488B55E8 		movq	-24(%rbp), %rdx
 251 00a7 8B45E0   		movl	-32(%rbp), %eax
 252 00aa 4898     		cltq
 253              		.loc 1 96 10
 254 00ac 4801D0   		addq	%rdx, %rax
 255 00af 488945F0 		movq	%rax, -16(%rbp)
  97:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
  98:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	if (enddata - curdata < 2)
 256              		.loc 1 98 14
 257 00b3 488B45E8 		movq	-24(%rbp), %rax
 258 00b7 488B55F0 		movq	-16(%rbp), %rdx
 259 00bb 4829C2   		subq	%rax, %rdx
 260 00be 4889D0   		movq	%rdx, %rax
 261              		.loc 1 98 5
 262 00c1 4883F801 		cmpq	$1, %rax
 263 00c5 7E1E     		jle	.L16
  99:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 		goto exit;
 100:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	*packetid = readInt(&curdata);
 264              		.loc 1 100 14
 265 00c7 488D45E8 		leaq	-24(%rbp), %rax
 266 00cb 4889C7   		movq	%rax, %rdi
 267 00ce E8000000 		call	readInt@PLT
 267      00
 268              		.loc 1 100 12
 269 00d3 89C2     		movl	%eax, %edx
 270 00d5 488B45B8 		movq	-72(%rbp), %rax
 271 00d9 668910   		movw	%dx, (%rax)
 101:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 
 102:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	rc = 1;
 272              		.loc 1 102 5
 273 00dc C745E401 		movl	$1, -28(%rbp)
 273      000000
GAS LISTING /tmp/cc5DHL9z.s 			page 8


 274 00e3 EB01     		jmp	.L13
 275              	.L16:
  99:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 		goto exit;
 276              		.loc 1 99 3
 277 00e5 90       		nop
 278              	.L13:
 103:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** exit:
 104:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	FUNC_EXIT_RC(rc);
 105:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** 	return rc;
 279              		.loc 1 105 9
 280 00e6 8B45E4   		movl	-28(%rbp), %eax
 106:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTDeserializePublish.c **** }
 281              		.loc 1 106 1
 282 00e9 488B4DF8 		movq	-8(%rbp), %rcx
 283 00ed 6448330C 		xorq	%fs:40, %rcx
 283      25280000 
 283      00
 284 00f6 7405     		je	.L15
 285 00f8 E8000000 		call	__stack_chk_fail@PLT
 285      00
 286              	.L15:
 287 00fd C9       		leave
 288              	.LCFI5:
 289              		.cfi_def_cfa 7, 8
 290 00fe C3       		ret
 291              		.cfi_endproc
 292              	.LFE1:
 294              		.text
 295              	.Letext0:
 296              		.file 2 "/usr/lib/gcc/x86_64-linux-gnu/9/include/stddef.h"
 297              		.file 3 "/usr/include/x86_64-linux-gnu/bits/types.h"
 298              		.file 4 "/usr/include/x86_64-linux-gnu/bits/types/struct_FILE.h"
 299              		.file 5 "/usr/include/x86_64-linux-gnu/bits/types/FILE.h"
 300              		.file 6 "/usr/include/stdio.h"
 301              		.file 7 "/usr/include/x86_64-linux-gnu/bits/sys_errlist.h"
 302              		.file 8 "/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTPacket.h"
 1911              		.section	.note.gnu.property,"a"
 1912              		.align 8
 1913 0000 04000000 		.long	 1f - 0f
 1914 0004 10000000 		.long	 4f - 1f
 1915 0008 05000000 		.long	 5
 1916              	0:
 1917 000c 474E5500 		.string	 "GNU"
 1918              	1:
 1919              		.align 8
 1920 0010 020000C0 		.long	 0xc0000002
 1921 0014 04000000 		.long	 3f - 2f
 1922              	2:
 1923 0018 03000000 		.long	 0x3
 1924              	3:
 1925 001c 00000000 		.align 8
 1926              	4:
GAS LISTING /tmp/cc5DHL9z.s 			page 9


DEFINED SYMBOLS
                            *ABS*:0000000000000000 MQTTDeserializePublish.c
     /tmp/cc5DHL9z.s:7      .text.MQTTDeserialize_publish:0000000000000000 MQTTDeserialize_publish
     /tmp/cc5DHL9z.s:181    .text.MQTTDeserialize_ack:0000000000000000 MQTTDeserialize_ack

UNDEFINED SYMBOLS
_GLOBAL_OFFSET_TABLE_
readChar
MQTTPacket_decodeBuf
readMQTTLenString
readInt
__stack_chk_fail
