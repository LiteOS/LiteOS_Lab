GAS LISTING /tmp/ccRtk7fh.s 			page 1


   1              		.file	"MQTTSubscribeServer.c"
   2              		.text
   3              	.Ltext0:
   4              		.section	.text.MQTTDeserialize_subscribe,"ax",@progbits
   5              		.globl	MQTTDeserialize_subscribe
   7              	MQTTDeserialize_subscribe:
   8              	.LFB0:
   9              		.file 1 "/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeSer
   1:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** /*******************************************************************************
   2:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****  * Copyright (c) 2014 IBM Corp.
   3:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****  *
   4:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****  * All rights reserved. This program and the accompanying materials
   5:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****  * are made available under the terms of the Eclipse Public License v1.0
   6:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****  * and Eclipse Distribution License v1.0 which accompany this distribution.
   7:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****  *
   8:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****  * The Eclipse Public License is available at
   9:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****  *    http://www.eclipse.org/legal/epl-v10.html
  10:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****  * and the Eclipse Distribution License is available at
  11:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****  *   http://www.eclipse.org/org/documents/edl-v10.php.
  12:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****  *
  13:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****  * Contributors:
  14:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****  *    Ian Craggs - initial API and implementation and/or initial documentation
  15:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****  *******************************************************************************/
  16:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
  17:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** #include "MQTTPacket.h"
  18:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** #include "StackTrace.h"
  19:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
  20:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** #include <string.h>
  21:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
  22:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
  23:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** /**
  24:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * Deserializes the supplied (wire) buffer into subscribe data
  25:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @param dup integer returned - the MQTT dup flag
  26:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @param packetid integer returned - the MQTT packet identifier
  27:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @param maxcount - the maximum number of members allowed in the topicFilters and requestedQoSs a
  28:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @param count - number of members in the topicFilters and requestedQoSs arrays
  29:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @param topicFilters - array of topic filter names
  30:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @param requestedQoSs - array of requested QoS
  31:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @param buf the raw buffer data, of the correct length determined by the remaining length field
  32:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @param buflen the length in bytes of the data in the supplied buffer
  33:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @return the length of the serialized data.  <= 0 indicates error
  34:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   */
  35:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** int MQTTDeserialize_subscribe(unsigned char* dup, unsigned short* packetid, int maxcount, int* coun
  36:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	int requestedQoSs[], unsigned char* buf, int buflen)
  37:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** {
  10              		.loc 1 37 1
  11              		.cfi_startproc
  12 0000 F30F1EFA 		endbr64
  13 0004 55       		pushq	%rbp
  14              	.LCFI0:
  15              		.cfi_def_cfa_offset 16
  16              		.cfi_offset 6, -16
  17 0005 4889E5   		movq	%rsp, %rbp
  18              	.LCFI1:
  19              		.cfi_def_cfa_register 6
  20 0008 4883EC70 		subq	$112, %rsp
  21 000c 48897DC8 		movq	%rdi, -56(%rbp)
GAS LISTING /tmp/ccRtk7fh.s 			page 2


  22 0010 488975C0 		movq	%rsi, -64(%rbp)
  23 0014 8955BC   		movl	%edx, -68(%rbp)
  24 0017 48894DB0 		movq	%rcx, -80(%rbp)
  25 001b 4C8945A8 		movq	%r8, -88(%rbp)
  26 001f 4C894DA0 		movq	%r9, -96(%rbp)
  27 0023 488B4510 		movq	16(%rbp), %rax
  28 0027 48894598 		movq	%rax, -104(%rbp)
  29 002b 8B4518   		movl	24(%rbp), %eax
  30 002e 8945B8   		movl	%eax, -72(%rbp)
  31              		.loc 1 37 1
  32 0031 64488B04 		movq	%fs:40, %rax
  32      25280000 
  32      00
  33 003a 488945F8 		movq	%rax, -8(%rbp)
  34 003e 31C0     		xorl	%eax, %eax
  38:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	MQTTHeader header = {0};
  35              		.loc 1 38 13
  36 0040 C745DC00 		movl	$0, -36(%rbp)
  36      000000
  39:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	unsigned char* curdata = buf;
  37              		.loc 1 39 17
  38 0047 488B4598 		movq	-104(%rbp), %rax
  39 004b 488945E8 		movq	%rax, -24(%rbp)
  40:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	unsigned char* enddata = NULL;
  40              		.loc 1 40 17
  41 004f 48C745F0 		movq	$0, -16(%rbp)
  41      00000000 
  41:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	int rc = -1;
  42              		.loc 1 41 6
  43 0057 C745E4FF 		movl	$-1, -28(%rbp)
  43      FFFFFF
  42:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	int mylen = 0;
  44              		.loc 1 42 6
  45 005e C745E000 		movl	$0, -32(%rbp)
  45      000000
  43:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
  44:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	FUNC_ENTRY;
  45:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	header.byte = readChar(&curdata);
  46              		.loc 1 45 16
  47 0065 488D45E8 		leaq	-24(%rbp), %rax
  48 0069 4889C7   		movq	%rax, %rdi
  49 006c E8000000 		call	readChar@PLT
  49      00
  50              		.loc 1 45 14
  51 0071 8845DC   		movb	%al, -36(%rbp)
  46:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	if (header.bits.type != SUBSCRIBE)
  52              		.loc 1 46 23
  53 0074 0FB645DC 		movzbl	-36(%rbp), %eax
  54 0078 83E0F0   		andl	$-16, %eax
  55              		.loc 1 46 5
  56 007b 3C80     		cmpb	$-128, %al
  57 007d 0F85FA00 		jne	.L10
  57      0000
  47:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 		goto exit;
  48:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	*dup = header.bits.dup;
  58              		.loc 1 48 20
  59 0083 0FB645DC 		movzbl	-36(%rbp), %eax
GAS LISTING /tmp/ccRtk7fh.s 			page 3


  60 0087 C0E803   		shrb	$3, %al
  61 008a 83E001   		andl	$1, %eax
  62 008d 89C2     		movl	%eax, %edx
  63              		.loc 1 48 7
  64 008f 488B45C8 		movq	-56(%rbp), %rax
  65 0093 8810     		movb	%dl, (%rax)
  49:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
  50:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	curdata += (rc = MQTTPacket_decodeBuf(curdata, &mylen)); /* read remaining length */
  66              		.loc 1 50 19
  67 0095 488B45E8 		movq	-24(%rbp), %rax
  68 0099 488D55E0 		leaq	-32(%rbp), %rdx
  69 009d 4889D6   		movq	%rdx, %rsi
  70 00a0 4889C7   		movq	%rax, %rdi
  71 00a3 E8000000 		call	MQTTPacket_decodeBuf@PLT
  71      00
  72 00a8 8945E4   		movl	%eax, -28(%rbp)
  73              		.loc 1 50 17
  74 00ab 8B45E4   		movl	-28(%rbp), %eax
  75              		.loc 1 50 10
  76 00ae 488B55E8 		movq	-24(%rbp), %rdx
  77              		.loc 1 50 17
  78 00b2 4898     		cltq
  79              		.loc 1 50 10
  80 00b4 4801D0   		addq	%rdx, %rax
  81 00b7 488945E8 		movq	%rax, -24(%rbp)
  51:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	enddata = curdata + mylen;
  82              		.loc 1 51 20
  83 00bb 488B55E8 		movq	-24(%rbp), %rdx
  84 00bf 8B45E0   		movl	-32(%rbp), %eax
  85 00c2 4898     		cltq
  86              		.loc 1 51 10
  87 00c4 4801D0   		addq	%rdx, %rax
  88 00c7 488945F0 		movq	%rax, -16(%rbp)
  52:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
  53:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	*packetid = readInt(&curdata);
  89              		.loc 1 53 14
  90 00cb 488D45E8 		leaq	-24(%rbp), %rax
  91 00cf 4889C7   		movq	%rax, %rdi
  92 00d2 E8000000 		call	readInt@PLT
  92      00
  93              		.loc 1 53 12
  94 00d7 89C2     		movl	%eax, %edx
  95 00d9 488B45C0 		movq	-64(%rbp), %rax
  96 00dd 668910   		movw	%dx, (%rax)
  54:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
  55:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	*count = 0;
  97              		.loc 1 55 9
  98 00e0 488B45B0 		movq	-80(%rbp), %rax
  99 00e4 C7000000 		movl	$0, (%rax)
  99      0000
  56:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	while (curdata < enddata)
 100              		.loc 1 56 8
 101 00ea EB7A     		jmp	.L4
 102              	.L7:
  57:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	{
  58:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 		if (!readMQTTLenString(&topicFilters[*count], &curdata, enddata))
 103              		.loc 1 58 40
GAS LISTING /tmp/ccRtk7fh.s 			page 4


 104 00ec 488B45B0 		movq	-80(%rbp), %rax
 105 00f0 8B00     		movl	(%rax), %eax
 106 00f2 4863D0   		movslq	%eax, %rdx
 107              		.loc 1 58 39
 108 00f5 4889D0   		movq	%rdx, %rax
 109 00f8 4801C0   		addq	%rax, %rax
 110 00fb 4801D0   		addq	%rdx, %rax
 111 00fe 48C1E003 		salq	$3, %rax
 112 0102 4889C2   		movq	%rax, %rdx
 113              		.loc 1 58 8
 114 0105 488B45A8 		movq	-88(%rbp), %rax
 115 0109 488D0C02 		leaq	(%rdx,%rax), %rcx
 116 010d 488B55F0 		movq	-16(%rbp), %rdx
 117 0111 488D45E8 		leaq	-24(%rbp), %rax
 118 0115 4889C6   		movq	%rax, %rsi
 119 0118 4889CF   		movq	%rcx, %rdi
 120 011b E8000000 		call	readMQTTLenString@PLT
 120      00
 121              		.loc 1 58 6
 122 0120 85C0     		testl	%eax, %eax
 123 0122 745C     		je	.L11
  59:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 			goto exit;
  60:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 		if (curdata >= enddata) /* do we have enough data to read the req_qos version byte? */
 124              		.loc 1 60 15
 125 0124 488B45E8 		movq	-24(%rbp), %rax
 126              		.loc 1 60 6
 127 0128 483945F0 		cmpq	%rax, -16(%rbp)
 128 012c 7655     		jbe	.L12
  61:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 			goto exit;
  62:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 		requestedQoSs[*count] = readChar(&curdata);
 129              		.loc 1 62 27
 130 012e 488D45E8 		leaq	-24(%rbp), %rax
 131 0132 4889C7   		movq	%rax, %rdi
 132 0135 E8000000 		call	readChar@PLT
 132      00
 133              		.loc 1 62 17
 134 013a 488B55B0 		movq	-80(%rbp), %rdx
 135 013e 8B12     		movl	(%rdx), %edx
 136 0140 4863D2   		movslq	%edx, %rdx
 137              		.loc 1 62 16
 138 0143 488D0C95 		leaq	0(,%rdx,4), %rcx
 138      00000000 
 139 014b 488B55A0 		movq	-96(%rbp), %rdx
 140 014f 4801CA   		addq	%rcx, %rdx
 141              		.loc 1 62 27
 142 0152 0FBEC0   		movsbl	%al, %eax
 143              		.loc 1 62 25
 144 0155 8902     		movl	%eax, (%rdx)
  63:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 		(*count)++;
 145              		.loc 1 63 4
 146 0157 488B45B0 		movq	-80(%rbp), %rax
 147 015b 8B00     		movl	(%rax), %eax
 148              		.loc 1 63 11
 149 015d 8D5001   		leal	1(%rax), %edx
 150 0160 488B45B0 		movq	-80(%rbp), %rax
 151 0164 8910     		movl	%edx, (%rax)
 152              	.L4:
GAS LISTING /tmp/ccRtk7fh.s 			page 5


  56:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	{
 153              		.loc 1 56 17
 154 0166 488B45E8 		movq	-24(%rbp), %rax
  56:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	{
 155              		.loc 1 56 8
 156 016a 483945F0 		cmpq	%rax, -16(%rbp)
 157 016e 0F8778FF 		ja	.L7
 157      FFFF
  64:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	}
  65:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
  66:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	rc = 1;
 158              		.loc 1 66 5
 159 0174 C745E401 		movl	$1, -28(%rbp)
 159      000000
 160 017b EB07     		jmp	.L3
 161              	.L10:
  47:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	*dup = header.bits.dup;
 162              		.loc 1 47 3
 163 017d 90       		nop
 164 017e EB04     		jmp	.L3
 165              	.L11:
  59:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 		if (curdata >= enddata) /* do we have enough data to read the req_qos version byte? */
 166              		.loc 1 59 4
 167 0180 90       		nop
 168 0181 EB01     		jmp	.L3
 169              	.L12:
  61:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 		requestedQoSs[*count] = readChar(&curdata);
 170              		.loc 1 61 4
 171 0183 90       		nop
 172              	.L3:
  67:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** exit:
  68:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	FUNC_EXIT_RC(rc);
  69:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	return rc;
 173              		.loc 1 69 9
 174 0184 8B45E4   		movl	-28(%rbp), %eax
  70:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** }
 175              		.loc 1 70 1
 176 0187 488B75F8 		movq	-8(%rbp), %rsi
 177 018b 64483334 		xorq	%fs:40, %rsi
 177      25280000 
 177      00
 178 0194 7405     		je	.L9
 179 0196 E8000000 		call	__stack_chk_fail@PLT
 179      00
 180              	.L9:
 181 019b C9       		leave
 182              	.LCFI2:
 183              		.cfi_def_cfa 7, 8
 184 019c C3       		ret
 185              		.cfi_endproc
 186              	.LFE0:
 188              		.section	.text.MQTTSerialize_suback,"ax",@progbits
 189              		.globl	MQTTSerialize_suback
 191              	MQTTSerialize_suback:
 192              	.LFB1:
  71:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
  72:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
GAS LISTING /tmp/ccRtk7fh.s 			page 6


  73:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** /**
  74:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * Serializes the supplied suback data into the supplied buffer, ready for sending
  75:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @param buf the buffer into which the packet will be serialized
  76:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @param buflen the length in bytes of the supplied buffer
  77:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @param packetid integer - the MQTT packet identifier
  78:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @param count - number of members in the grantedQoSs array
  79:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @param grantedQoSs - array of granted QoS
  80:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   * @return the length of the serialized data.  <= 0 indicates error
  81:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c ****   */
  82:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** int MQTTSerialize_suback(unsigned char* buf, int buflen, unsigned short packetid, int count, int* g
  83:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** {
 193              		.loc 1 83 1
 194              		.cfi_startproc
 195 0000 F30F1EFA 		endbr64
 196 0004 55       		pushq	%rbp
 197              	.LCFI3:
 198              		.cfi_def_cfa_offset 16
 199              		.cfi_offset 6, -16
 200 0005 4889E5   		movq	%rsp, %rbp
 201              	.LCFI4:
 202              		.cfi_def_cfa_register 6
 203 0008 4883EC40 		subq	$64, %rsp
 204 000c 48897DD8 		movq	%rdi, -40(%rbp)
 205 0010 8975D4   		movl	%esi, -44(%rbp)
 206 0013 89D0     		movl	%edx, %eax
 207 0015 894DCC   		movl	%ecx, -52(%rbp)
 208 0018 4C8945C0 		movq	%r8, -64(%rbp)
 209 001c 668945D0 		movw	%ax, -48(%rbp)
 210              		.loc 1 83 1
 211 0020 64488B04 		movq	%fs:40, %rax
 211      25280000 
 211      00
 212 0029 488945F8 		movq	%rax, -8(%rbp)
 213 002d 31C0     		xorl	%eax, %eax
  84:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	MQTTHeader header = {0};
 214              		.loc 1 84 13
 215 002f C745E400 		movl	$0, -28(%rbp)
 215      000000
  85:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	int rc = -1;
 216              		.loc 1 85 6
 217 0036 C745E8FF 		movl	$-1, -24(%rbp)
 217      FFFFFF
  86:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	unsigned char *ptr = buf;
 218              		.loc 1 86 17
 219 003d 488B45D8 		movq	-40(%rbp), %rax
 220 0041 488945F0 		movq	%rax, -16(%rbp)
  87:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	int i;
  88:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
  89:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	FUNC_ENTRY;
  90:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	if (buflen < 2 + count)
 221              		.loc 1 90 13
 222 0045 8B45CC   		movl	-52(%rbp), %eax
 223 0048 83C001   		addl	$1, %eax
 224              		.loc 1 90 5
 225 004b 3945D4   		cmpl	%eax, -44(%rbp)
 226 004e 7F0C     		jg	.L14
  91:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	{
GAS LISTING /tmp/ccRtk7fh.s 			page 7


  92:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 		rc = MQTTPACKET_BUFFER_TOO_SHORT;
 227              		.loc 1 92 6
 228 0050 C745E8FE 		movl	$-2, -24(%rbp)
 228      FFFFFF
  93:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 		goto exit;
 229              		.loc 1 93 3
 230 0057 E9A00000 		jmp	.L15
 230      00
 231              	.L14:
  94:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	}
  95:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	header.byte = 0;
 232              		.loc 1 95 14
 233 005c C645E400 		movb	$0, -28(%rbp)
  96:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	header.bits.type = SUBACK;
 234              		.loc 1 96 19
 235 0060 0FB645E4 		movzbl	-28(%rbp), %eax
 236 0064 83E00F   		andl	$15, %eax
 237 0067 83C890   		orl	$-112, %eax
 238 006a 8845E4   		movb	%al, -28(%rbp)
  97:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	writeChar(&ptr, header.byte); /* write header */
 239              		.loc 1 97 24
 240 006d 0FB645E4 		movzbl	-28(%rbp), %eax
 241              		.loc 1 97 2
 242 0071 0FBED0   		movsbl	%al, %edx
 243 0074 488D45F0 		leaq	-16(%rbp), %rax
 244 0078 89D6     		movl	%edx, %esi
 245 007a 4889C7   		movq	%rax, %rdi
 246 007d E8000000 		call	writeChar@PLT
 246      00
  98:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
  99:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	ptr += MQTTPacket_encode(ptr, 2 + count); /* write remaining length */
 247              		.loc 1 99 9
 248 0082 8B45CC   		movl	-52(%rbp), %eax
 249 0085 8D5002   		leal	2(%rax), %edx
 250 0088 488B45F0 		movq	-16(%rbp), %rax
 251 008c 89D6     		movl	%edx, %esi
 252 008e 4889C7   		movq	%rax, %rdi
 253 0091 E8000000 		call	MQTTPacket_encode@PLT
 253      00
 254              		.loc 1 99 6
 255 0096 488B55F0 		movq	-16(%rbp), %rdx
 256              		.loc 1 99 9
 257 009a 4898     		cltq
 258              		.loc 1 99 6
 259 009c 4801D0   		addq	%rdx, %rax
 260 009f 488945F0 		movq	%rax, -16(%rbp)
 100:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
 101:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	writeInt(&ptr, packetid);
 261              		.loc 1 101 2
 262 00a3 0FB755D0 		movzwl	-48(%rbp), %edx
 263 00a7 488D45F0 		leaq	-16(%rbp), %rax
 264 00ab 89D6     		movl	%edx, %esi
 265 00ad 4889C7   		movq	%rax, %rdi
 266 00b0 E8000000 		call	writeInt@PLT
 266      00
 102:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
 103:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	for (i = 0; i < count; ++i)
GAS LISTING /tmp/ccRtk7fh.s 			page 8


 267              		.loc 1 103 9
 268 00b5 C745EC00 		movl	$0, -20(%rbp)
 268      000000
 269              		.loc 1 103 2
 270 00bc EB2B     		jmp	.L16
 271              	.L17:
 104:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 		writeChar(&ptr, grantedQoSs[i]);
 272              		.loc 1 104 30 discriminator 3
 273 00be 8B45EC   		movl	-20(%rbp), %eax
 274 00c1 4898     		cltq
 275 00c3 488D1485 		leaq	0(,%rax,4), %rdx
 275      00000000 
 276 00cb 488B45C0 		movq	-64(%rbp), %rax
 277 00cf 4801D0   		addq	%rdx, %rax
 278 00d2 8B00     		movl	(%rax), %eax
 279              		.loc 1 104 3 discriminator 3
 280 00d4 0FBED0   		movsbl	%al, %edx
 281 00d7 488D45F0 		leaq	-16(%rbp), %rax
 282 00db 89D6     		movl	%edx, %esi
 283 00dd 4889C7   		movq	%rax, %rdi
 284 00e0 E8000000 		call	writeChar@PLT
 284      00
 103:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 		writeChar(&ptr, grantedQoSs[i]);
 285              		.loc 1 103 25 discriminator 3
 286 00e5 8345EC01 		addl	$1, -20(%rbp)
 287              	.L16:
 103:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 		writeChar(&ptr, grantedQoSs[i]);
 288              		.loc 1 103 2 discriminator 1
 289 00e9 8B45EC   		movl	-20(%rbp), %eax
 290 00ec 3B45CC   		cmpl	-52(%rbp), %eax
 291 00ef 7CCD     		jl	.L17
 105:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 
 106:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	rc = ptr - buf;
 292              		.loc 1 106 11
 293 00f1 488B45F0 		movq	-16(%rbp), %rax
 294 00f5 482B45D8 		subq	-40(%rbp), %rax
 295              		.loc 1 106 5
 296 00f9 8945E8   		movl	%eax, -24(%rbp)
 297              	.L15:
 107:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** exit:
 108:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	FUNC_EXIT_RC(rc);
 109:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** 	return rc;
 298              		.loc 1 109 9
 299 00fc 8B45E8   		movl	-24(%rbp), %eax
 110:/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTSubscribeServer.c **** }
 300              		.loc 1 110 1
 301 00ff 488B4DF8 		movq	-8(%rbp), %rcx
 302 0103 6448330C 		xorq	%fs:40, %rcx
 302      25280000 
 302      00
 303 010c 7405     		je	.L19
 304 010e E8000000 		call	__stack_chk_fail@PLT
 304      00
 305              	.L19:
 306 0113 C9       		leave
 307              	.LCFI5:
 308              		.cfi_def_cfa 7, 8
GAS LISTING /tmp/ccRtk7fh.s 			page 9


 309 0114 C3       		ret
 310              		.cfi_endproc
 311              	.LFE1:
 313              		.text
 314              	.Letext0:
 315              		.file 2 "/home/xingli/share/LiteOS_Lab/network/mqtt/paho_mqtt/paho/MQTTPacket/src/MQTTPacket.h"
 316              		.file 3 "/usr/lib/gcc/x86_64-linux-gnu/9/include/stddef.h"
 317              		.file 4 "/usr/include/x86_64-linux-gnu/bits/types.h"
 318              		.file 5 "/usr/include/x86_64-linux-gnu/bits/types/struct_FILE.h"
 319              		.file 6 "/usr/include/x86_64-linux-gnu/bits/types/FILE.h"
 320              		.file 7 "/usr/include/stdio.h"
 321              		.file 8 "/usr/include/x86_64-linux-gnu/bits/sys_errlist.h"
 1945              		.section	.note.gnu.property,"a"
 1946              		.align 8
 1947 0000 04000000 		.long	 1f - 0f
 1948 0004 10000000 		.long	 4f - 1f
 1949 0008 05000000 		.long	 5
 1950              	0:
 1951 000c 474E5500 		.string	 "GNU"
 1952              	1:
 1953              		.align 8
 1954 0010 020000C0 		.long	 0xc0000002
 1955 0014 04000000 		.long	 3f - 2f
 1956              	2:
 1957 0018 03000000 		.long	 0x3
 1958              	3:
 1959 001c 00000000 		.align 8
 1960              	4:
GAS LISTING /tmp/ccRtk7fh.s 			page 10


DEFINED SYMBOLS
                            *ABS*:0000000000000000 MQTTSubscribeServer.c
     /tmp/ccRtk7fh.s:7      .text.MQTTDeserialize_subscribe:0000000000000000 MQTTDeserialize_subscribe
     /tmp/ccRtk7fh.s:191    .text.MQTTSerialize_suback:0000000000000000 MQTTSerialize_suback

UNDEFINED SYMBOLS
_GLOBAL_OFFSET_TABLE_
readChar
MQTTPacket_decodeBuf
readInt
readMQTTLenString
__stack_chk_fail
writeChar
MQTTPacket_encode
writeInt
