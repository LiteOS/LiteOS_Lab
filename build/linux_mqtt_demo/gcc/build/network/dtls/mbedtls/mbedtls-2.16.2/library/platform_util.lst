GAS LISTING /tmp/ccYGn2lf.s 			page 1


   1              		.file	"platform_util.c"
   2              		.text
   3              	.Ltext0:
   4              		.section	.data.rel.memset_func,"aw"
   5              		.align 8
   8              	memset_func:
   9 0000 00000000 		.quad	memset
   9      00000000 
  10              		.section	.text.mbedtls_platform_zeroize,"ax",@progbits
  11              		.globl	mbedtls_platform_zeroize
  13              	mbedtls_platform_zeroize:
  14              	.LFB0:
  15              		.file 1 "/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c
   1:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** /*
   2:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * Common and shared functions used by multiple modules in the Mbed TLS
   3:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * library.
   4:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *
   5:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *  Copyright (C) 2018, Arm Limited, All Rights Reserved
   6:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *  SPDX-License-Identifier: Apache-2.0
   7:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *
   8:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *  Licensed under the Apache License, Version 2.0 (the "License"); you may
   9:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *  not use this file except in compliance with the License.
  10:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *  You may obtain a copy of the License at
  11:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *
  12:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *  http://www.apache.org/licenses/LICENSE-2.0
  13:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *
  14:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *  Unless required by applicable law or agreed to in writing, software
  15:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  16:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  17:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *  See the License for the specific language governing permissions and
  18:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *  limitations under the License.
  19:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *
  20:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *  This file is part of Mbed TLS (https://tls.mbed.org)
  21:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  */
  22:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** 
  23:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** /*
  24:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * Ensure gmtime_r is available even with -std=c99; must be defined before
  25:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * config.h, which pulls in glibc's features.h. Harmless on other platforms.
  26:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  */
  27:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** #if !defined(_POSIX_C_SOURCE)
  28:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** #define _POSIX_C_SOURCE 200112L
  29:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** #endif
  30:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** 
  31:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** #if !defined(MBEDTLS_CONFIG_FILE)
  32:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** #include "mbedtls/config.h"
  33:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** #else
  34:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** #include MBEDTLS_CONFIG_FILE
  35:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** #endif
  36:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** 
  37:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** #include "mbedtls/platform_util.h"
  38:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** #include "mbedtls/platform.h"
  39:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** #include "mbedtls/threading.h"
  40:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** 
  41:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** #include <stddef.h>
  42:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** #include <string.h>
  43:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** 
  44:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** #if !defined(MBEDTLS_PLATFORM_ZEROIZE_ALT)
GAS LISTING /tmp/ccYGn2lf.s 			page 2


  45:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** /*
  46:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * This implementation should never be optimized out by the compiler
  47:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *
  48:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * This implementation for mbedtls_platform_zeroize() was inspired from Colin
  49:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * Percival's blog article at:
  50:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *
  51:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * http://www.daemonology.net/blog/2014-09-04-how-to-zero-a-buffer.html
  52:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *
  53:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * It uses a volatile function pointer to the standard memset(). Because the
  54:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * pointer is volatile the compiler expects it to change at
  55:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * any time and will not optimize out the call that could potentially perform
  56:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * other operations on the input buffer instead of just setting it to 0.
  57:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * Nevertheless, as pointed out by davidtgoldblatt on Hacker News
  58:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * (refer to http://www.daemonology.net/blog/2014-09-05-erratum.html for
  59:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * details), optimizations of the following form are still possible:
  60:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *
  61:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * if( memset_func != memset )
  62:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *     memset_func( buf, 0, len );
  63:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  *
  64:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * Note that it is extremely difficult to guarantee that
  65:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * mbedtls_platform_zeroize() will not be optimized out by aggressive compilers
  66:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * in a portable way. For this reason, Mbed TLS also provides the configuration
  67:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * option MBEDTLS_PLATFORM_ZEROIZE_ALT, which allows users to configure
  68:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * mbedtls_platform_zeroize() to use a suitable implementation for their
  69:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  * platform and needs.
  70:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****  */
  71:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** static void * (* const volatile memset_func)( void *, int, size_t ) = memset;
  72:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** 
  73:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** void mbedtls_platform_zeroize( void *buf, size_t len )
  74:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** {
  16              		.loc 1 74 1
  17              		.cfi_startproc
  18 0000 F30F1EFA 		endbr64
  19 0004 55       		pushq	%rbp
  20              	.LCFI0:
  21              		.cfi_def_cfa_offset 16
  22              		.cfi_offset 6, -16
  23 0005 4889E5   		movq	%rsp, %rbp
  24              	.LCFI1:
  25              		.cfi_def_cfa_register 6
  26 0008 4883EC20 		subq	$32, %rsp
  27 000c 48897DE8 		movq	%rdi, -24(%rbp)
  28 0010 488975E0 		movq	%rsi, -32(%rbp)
  29              		.loc 1 74 1
  30 0014 64488B04 		movq	%fs:40, %rax
  30      25280000 
  30      00
  31 001d 488945F8 		movq	%rax, -8(%rbp)
  32 0021 31C0     		xorl	%eax, %eax
  75:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c ****     memset_func( buf, 0, len );
  33              		.loc 1 75 5
  34 0023 488B0D00 		movq	memset_func(%rip), %rcx
  34      000000
  35 002a 488B55E0 		movq	-32(%rbp), %rdx
  36 002e 488B45E8 		movq	-24(%rbp), %rax
  37 0032 BE000000 		movl	$0, %esi
  37      00
GAS LISTING /tmp/ccYGn2lf.s 			page 3


  38 0037 4889C7   		movq	%rax, %rdi
  39 003a FFD1     		call	*%rcx
  40              	.LVL0:
  76:/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/library/platform_util.c **** }
  41              		.loc 1 76 1
  42 003c 90       		nop
  43 003d 488B45F8 		movq	-8(%rbp), %rax
  44 0041 64483304 		xorq	%fs:40, %rax
  44      25280000 
  44      00
  45 004a 7405     		je	.L2
  46 004c E8000000 		call	__stack_chk_fail@PLT
  46      00
  47              	.L2:
  48 0051 C9       		leave
  49              	.LCFI2:
  50              		.cfi_def_cfa 7, 8
  51 0052 C3       		ret
  52              		.cfi_endproc
  53              	.LFE0:
  55              		.text
  56              	.Letext0:
  57              		.file 2 "/usr/lib/gcc/x86_64-linux-gnu/9/include/stddef.h"
  58              		.file 3 "/usr/include/x86_64-linux-gnu/bits/types.h"
  59              		.file 4 "/usr/include/x86_64-linux-gnu/bits/types/struct_FILE.h"
  60              		.file 5 "/usr/include/x86_64-linux-gnu/bits/types/FILE.h"
  61              		.file 6 "/usr/include/stdio.h"
  62              		.file 7 "/usr/include/time.h"
  63              		.file 8 "/home/xingli/share/LiteOS_Lab/network/dtls/mbedtls/mbedtls-2.16.2/include/mbedtls/platfor
 1073              		.section	.note.gnu.property,"a"
 1074              		.align 8
 1075 0000 04000000 		.long	 1f - 0f
 1076 0004 10000000 		.long	 4f - 1f
 1077 0008 05000000 		.long	 5
 1078              	0:
 1079 000c 474E5500 		.string	 "GNU"
 1080              	1:
 1081              		.align 8
 1082 0010 020000C0 		.long	 0xc0000002
 1083 0014 04000000 		.long	 3f - 2f
 1084              	2:
 1085 0018 03000000 		.long	 0x3
 1086              	3:
 1087 001c 00000000 		.align 8
 1088              	4:
GAS LISTING /tmp/ccYGn2lf.s 			page 4


DEFINED SYMBOLS
                            *ABS*:0000000000000000 platform_util.c
     /tmp/ccYGn2lf.s:8      .data.rel.memset_func:0000000000000000 memset_func
     /tmp/ccYGn2lf.s:13     .text.mbedtls_platform_zeroize:0000000000000000 mbedtls_platform_zeroize

UNDEFINED SYMBOLS
memset
_GLOBAL_OFFSET_TABLE_
__stack_chk_fail
