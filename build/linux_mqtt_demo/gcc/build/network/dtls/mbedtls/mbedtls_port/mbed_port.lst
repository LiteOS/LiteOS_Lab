GAS LISTING /tmp/ccL8TmDc.s 			page 1


   1              		.file	"mbed_port.c"
   2              		.text
   3              	.Ltext0:
   4              		.section	.text.mbed_new,"ax",@progbits
   5              		.globl	mbed_new
   7              	mbed_new:
   8              	.LFB21:
   9              		.file 1 "/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c"
   1:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** /*----------------------------------------------------------------------------
   2:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * Copyright (c) <2018>, <Huawei Technologies Co., Ltd>
   3:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * All rights reserved.
   4:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * are permitted provided that the following conditions are met:
   6:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * conditions and the following disclaimer.
   8:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * provided with the distribution.
  11:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * to endorse or promote products derived from this software without specific prior written
  13:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * permission.
  14:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  *---------------------------------------------------------------------------*/
  26:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** /*----------------------------------------------------------------------------
  27:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * Notice of Export Control Law
  28:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * ===============================================
  29:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  * applicable export control laws and regulations.
  33:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****  *---------------------------------------------------------------------------*/
  34:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
  35:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
  36:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** #include <string.h>
  37:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** #include "osal.h"
  38:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** #include "dtls_al.h"
  39:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** #include "dtls_interface.h"
  40:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
  41:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** #if defined(MBEDTLS_DEBUG_C)
  42:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** static void mbed_port_debug( void *ctx, int level,
  43:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****                       const char *file, int line,
  44:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****                       const char *str )
  45:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** {
  46:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     const char *p, *basename;
  47:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
  48:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     /* Extract basename from file */
  49:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     for( p = basename = file; *p != '\0'; p++ )
GAS LISTING /tmp/ccL8TmDc.s 			page 2


  50:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         if( *p == '/' || *p == '\\' )
  51:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****             basename = p + 1;
  52:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
  53:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     printf("%s:%04d: |%d| %s", basename, line, level, str );
  54:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** }
  55:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** #endif
  56:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
  57:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** en_dtls_al_err_t mbed_new(dtls_al_para_t *para, void **handle)
  58:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** {
  10              		.loc 1 58 1
  11              		.cfi_startproc
  12 0000 F30F1EFA 		endbr64
  13 0004 55       		pushq	%rbp
  14              	.LCFI0:
  15              		.cfi_def_cfa_offset 16
  16              		.cfi_offset 6, -16
  17 0005 4889E5   		movq	%rsp, %rbp
  18              	.LCFI1:
  19              		.cfi_def_cfa_register 6
  20 0008 4883EC70 		subq	$112, %rsp
  21 000c 48897D98 		movq	%rdi, -104(%rbp)
  22 0010 48897590 		movq	%rsi, -112(%rbp)
  23              		.loc 1 58 1
  24 0014 64488B04 		movq	%fs:40, %rax
  24      25280000 
  24      00
  25 001d 488945F8 		movq	%rax, -8(%rbp)
  26 0021 31C0     		xorl	%eax, %eax
  59:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
  60:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     en_dtls_al_err_t ret = EN_DTLS_AL_ERR_PARA;
  27              		.loc 1 60 22
  28 0023 C745A401 		movl	$1, -92(%rbp)
  28      000000
  61:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     mbedtls_ssl_context  *ssl;
  62:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     dtls_establish_info_s einfo;
  63:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     char  plat_type;
  64:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
  65:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     if(para->security.type == EN_DTLS_AL_SECURITY_TYPE_CERT)
  29              		.loc 1 65 22
  30 002a 488B4598 		movq	-104(%rbp), %rax
  31 002e 8B4008   		movl	8(%rax), %eax
  32              		.loc 1 65 7
  33 0031 83F802   		cmpl	$2, %eax
  34 0034 7561     		jne	.L2
  66:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     {
  67:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.psk_or_cert = VERIFY_WITH_CERT;
  35              		.loc 1 67 27
  36 0036 C745F001 		movl	$1, -16(%rbp)
  36      000000
  68:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
  69:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.v.c.ca_cert = para->security.u.cert.server_ca;
  37              		.loc 1 69 50
  38 003d 488B4598 		movq	-104(%rbp), %rax
  39 0041 488B4010 		movq	16(%rax), %rax
  40              		.loc 1 69 27
  41 0045 488945B0 		movq	%rax, -80(%rbp)
  70:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.v.c.cert_len = para->security.u.cert.server_ca_len;
GAS LISTING /tmp/ccL8TmDc.s 			page 3


  42              		.loc 1 70 51
  43 0049 488B4598 		movq	-104(%rbp), %rax
  44 004d 8B4030   		movl	48(%rax), %eax
  45              		.loc 1 70 28
  46 0050 8945B8   		movl	%eax, -72(%rbp)
  71:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.v.c.client_ca = para->security.u.cert.client_ca;
  47              		.loc 1 71 52
  48 0053 488B4598 		movq	-104(%rbp), %rax
  49 0057 488B4018 		movq	24(%rax), %rax
  50              		.loc 1 71 29
  51 005b 488945C0 		movq	%rax, -64(%rbp)
  72:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.v.c.client_ca_len = para->security.u.cert.client_ca_len;
  52              		.loc 1 72 56
  53 005f 488B4598 		movq	-104(%rbp), %rax
  54 0063 8B4034   		movl	52(%rax), %eax
  55              		.loc 1 72 33
  56 0066 8945C8   		movl	%eax, -56(%rbp)
  73:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.v.c.client_pk = para->security.u.cert.client_pk;
  57              		.loc 1 73 52
  58 0069 488B4598 		movq	-104(%rbp), %rax
  59 006d 488B4020 		movq	32(%rax), %rax
  60              		.loc 1 73 29
  61 0071 488945D0 		movq	%rax, -48(%rbp)
  74:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.v.c.client_pk_len = para->security.u.cert.client_pk_len;
  62              		.loc 1 74 56
  63 0075 488B4598 		movq	-104(%rbp), %rax
  64 0079 8B4038   		movl	56(%rax), %eax
  65              		.loc 1 74 33
  66 007c 8945D8   		movl	%eax, -40(%rbp)
  75:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.v.c.client_pk_pwd = para->security.u.cert.client_pk_pwd;
  67              		.loc 1 75 56
  68 007f 488B4598 		movq	-104(%rbp), %rax
  69 0083 488B4028 		movq	40(%rax), %rax
  70              		.loc 1 75 33
  71 0087 488945E0 		movq	%rax, -32(%rbp)
  76:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.v.c.client_pk_pwd_len = para->security.u.cert.client_pk_pwd_len;
  72              		.loc 1 76 60
  73 008b 488B4598 		movq	-104(%rbp), %rax
  74 008f 8B403C   		movl	60(%rax), %eax
  75              		.loc 1 76 37
  76 0092 8945E8   		movl	%eax, -24(%rbp)
  77 0095 EB29     		jmp	.L3
  78              	.L2:
  77:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     }
  78:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     else
  79:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     {
  80:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.psk_or_cert  = VERIFY_WITH_PSK;
  79              		.loc 1 80 28
  80 0097 C745F000 		movl	$0, -16(%rbp)
  80      000000
  81:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.v.p.psk = para->security.u.psk.psk_key;
  81              		.loc 1 81 45
  82 009e 488B4598 		movq	-104(%rbp), %rax
  83 00a2 488B4018 		movq	24(%rax), %rax
  84              		.loc 1 81 23
  85 00a6 488945B0 		movq	%rax, -80(%rbp)
  82:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.v.p.psk_len = para->security.u.psk.psk_key_len;
GAS LISTING /tmp/ccL8TmDc.s 			page 4


  86              		.loc 1 82 49
  87 00aa 488B4598 		movq	-104(%rbp), %rax
  88 00ae 8B4024   		movl	36(%rax), %eax
  89              		.loc 1 82 27
  90 00b1 8945B8   		movl	%eax, -72(%rbp)
  83:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.v.p.psk_identity = para->security.u.psk.psk_id;
  91              		.loc 1 83 54
  92 00b4 488B4598 		movq	-104(%rbp), %rax
  93 00b8 488B4010 		movq	16(%rax), %rax
  94              		.loc 1 83 32
  95 00bc 488945C0 		movq	%rax, -64(%rbp)
  96              	.L3:
  84:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     }
  85:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
  86:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     if(para->istcp)
  97              		.loc 1 86 12
  98 00c0 488B4598 		movq	-104(%rbp), %rax
  99 00c4 8B00     		movl	(%rax), %eax
 100              		.loc 1 86 7
 101 00c6 85C0     		testl	%eax, %eax
 102 00c8 7409     		je	.L4
  87:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     {
  88:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.udp_or_tcp = MBEDTLS_NET_PROTO_TCP;
 103              		.loc 1 88 26
 104 00ca C745F400 		movl	$0, -12(%rbp)
 104      000000
 105 00d1 EB07     		jmp	.L5
 106              	.L4:
  89:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     }
  90:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     else
  91:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     {
  92:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         einfo.udp_or_tcp = MBEDTLS_NET_PROTO_UDP;
 107              		.loc 1 92 26
 108 00d3 C745F401 		movl	$1, -12(%rbp)
 108      000000
 109              	.L5:
  93:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     }
  94:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
  95:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
  96:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     if(para->isclient)
 110              		.loc 1 96 12
 111 00da 488B4598 		movq	-104(%rbp), %rax
 112 00de 8B4004   		movl	4(%rax), %eax
 113              		.loc 1 96 7
 114 00e1 85C0     		testl	%eax, %eax
 115 00e3 7406     		je	.L6
  97:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     {
  98:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         plat_type = MBEDTLS_SSL_IS_CLIENT;
 116              		.loc 1 98 19
 117 00e5 C645A300 		movb	$0, -93(%rbp)
 118 00e9 EB04     		jmp	.L7
 119              	.L6:
  99:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     }
 100:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     else
 101:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     {
 102:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         plat_type = MBEDTLS_SSL_IS_SERVER;
 120              		.loc 1 102 19
GAS LISTING /tmp/ccL8TmDc.s 			page 5


 121 00eb C645A301 		movb	$1, -93(%rbp)
 122              	.L7:
 103:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     }
 104:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 105:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     ssl = dtls_ssl_new(&einfo, plat_type);
 123              		.loc 1 105 11
 124 00ef 0FBE55A3 		movsbl	-93(%rbp), %edx
 125 00f3 488D45B0 		leaq	-80(%rbp), %rax
 126 00f7 89D6     		movl	%edx, %esi
 127 00f9 4889C7   		movq	%rax, %rdi
 128 00fc E8000000 		call	dtls_ssl_new@PLT
 128      00
 129 0101 488945A8 		movq	%rax, -88(%rbp)
 106:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 107:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     if(NULL != ssl)
 130              		.loc 1 107 7
 131 0105 48837DA8 		cmpq	$0, -88(%rbp)
 131      00
 132 010a 7412     		je	.L8
 108:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     {
 109:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         *handle = ssl;
 133              		.loc 1 109 17
 134 010c 488B4590 		movq	-112(%rbp), %rax
 135 0110 488B55A8 		movq	-88(%rbp), %rdx
 136 0114 488910   		movq	%rdx, (%rax)
 110:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         ret = EN_DTLS_AL_ERR_OK;
 137              		.loc 1 110 13
 138 0117 C745A400 		movl	$0, -92(%rbp)
 138      000000
 139              	.L8:
 111:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 112:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         #if defined(MBEDTLS_DEBUG_C)
 113:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****             mbedtls_debug_set_threshold(10);
 114:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****             mbedtls_ssl_conf_dbg (ssl->conf,mbed_port_debug,NULL);
 115:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         #endif
 116:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     }
 117:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 118:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     return ret;
 140              		.loc 1 118 12
 141 011e 8B45A4   		movl	-92(%rbp), %eax
 119:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** }
 142              		.loc 1 119 1
 143 0121 488B4DF8 		movq	-8(%rbp), %rcx
 144 0125 6448330C 		xorq	%fs:40, %rcx
 144      25280000 
 144      00
 145 012e 7405     		je	.L10
 146 0130 E8000000 		call	__stack_chk_fail@PLT
 146      00
 147              	.L10:
 148 0135 C9       		leave
 149              	.LCFI2:
 150              		.cfi_def_cfa 7, 8
 151 0136 C3       		ret
 152              		.cfi_endproc
 153              	.LFE21:
 155              		.section	.text.mbed_destroy,"ax",@progbits
GAS LISTING /tmp/ccL8TmDc.s 			page 6


 156              		.globl	mbed_destroy
 158              	mbed_destroy:
 159              	.LFB22:
 120:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 121:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 122:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** en_dtls_al_err_t mbed_destroy(void *handle)
 123:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** {
 160              		.loc 1 123 1
 161              		.cfi_startproc
 162 0000 F30F1EFA 		endbr64
 163 0004 55       		pushq	%rbp
 164              	.LCFI3:
 165              		.cfi_def_cfa_offset 16
 166              		.cfi_offset 6, -16
 167 0005 4889E5   		movq	%rsp, %rbp
 168              	.LCFI4:
 169              		.cfi_def_cfa_register 6
 170 0008 4883EC20 		subq	$32, %rsp
 171 000c 48897DE8 		movq	%rdi, -24(%rbp)
 172              		.loc 1 123 1
 173 0010 64488B04 		movq	%fs:40, %rax
 173      25280000 
 173      00
 174 0019 488945F8 		movq	%rax, -8(%rbp)
 175 001d 31C0     		xorl	%eax, %eax
 124:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     en_dtls_al_err_t ret = EN_DTLS_AL_ERR_PARA;
 176              		.loc 1 124 22
 177 001f C745F401 		movl	$1, -12(%rbp)
 177      000000
 125:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     if(NULL != handle)
 178              		.loc 1 125 7
 179 0026 48837DE8 		cmpq	$0, -24(%rbp)
 179      00
 180 002b 7413     		je	.L12
 126:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     {
 127:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         dtls_ssl_destroy(handle);
 181              		.loc 1 127 9
 182 002d 488B45E8 		movq	-24(%rbp), %rax
 183 0031 4889C7   		movq	%rax, %rdi
 184 0034 E8000000 		call	dtls_ssl_destroy@PLT
 184      00
 128:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****         ret = EN_DTLS_AL_ERR_OK;
 185              		.loc 1 128 13
 186 0039 C745F400 		movl	$0, -12(%rbp)
 186      000000
 187              	.L12:
 129:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     }
 130:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     return ret;
 188              		.loc 1 130 12
 189 0040 8B45F4   		movl	-12(%rbp), %eax
 131:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** }
 190              		.loc 1 131 1
 191 0043 488B55F8 		movq	-8(%rbp), %rdx
 192 0047 64483314 		xorq	%fs:40, %rdx
 192      25280000 
 192      00
 193 0050 7405     		je	.L14
GAS LISTING /tmp/ccL8TmDc.s 			page 7


 194 0052 E8000000 		call	__stack_chk_fail@PLT
 194      00
 195              	.L14:
 196 0057 C9       		leave
 197              	.LCFI5:
 198              		.cfi_def_cfa 7, 8
 199 0058 C3       		ret
 200              		.cfi_endproc
 201              	.LFE22:
 203              		.section	.text.mbed_write,"ax",@progbits
 204              		.globl	mbed_write
 206              	mbed_write:
 207              	.LFB23:
 132:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 133:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 134:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** ///< make it return as normal socket return
 135:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 136:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** int mbed_write(void *handle, uint8_t *buf, size_t len,int timeout)
 137:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** {
 208              		.loc 1 137 1
 209              		.cfi_startproc
 210 0000 F30F1EFA 		endbr64
 211 0004 55       		pushq	%rbp
 212              	.LCFI6:
 213              		.cfi_def_cfa_offset 16
 214              		.cfi_offset 6, -16
 215 0005 4889E5   		movq	%rsp, %rbp
 216              	.LCFI7:
 217              		.cfi_def_cfa_register 6
 218 0008 4883EC30 		subq	$48, %rsp
 219 000c 48897DE8 		movq	%rdi, -24(%rbp)
 220 0010 488975E0 		movq	%rsi, -32(%rbp)
 221 0014 488955D8 		movq	%rdx, -40(%rbp)
 222 0018 894DD4   		movl	%ecx, -44(%rbp)
 223              		.loc 1 137 1
 224 001b 64488B04 		movq	%fs:40, %rax
 224      25280000 
 224      00
 225 0024 488945F8 		movq	%rax, -8(%rbp)
 226 0028 31C0     		xorl	%eax, %eax
 138:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 139:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     int ret;
 140:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 141:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     ret = dtls_write(handle, buf,len);
 227              		.loc 1 141 11
 228 002a 488B55D8 		movq	-40(%rbp), %rdx
 229 002e 488B4DE0 		movq	-32(%rbp), %rcx
 230 0032 488B45E8 		movq	-24(%rbp), %rax
 231 0036 4889CE   		movq	%rcx, %rsi
 232 0039 4889C7   		movq	%rax, %rdi
 233 003c E8000000 		call	dtls_write@PLT
 233      00
 234 0041 8945F4   		movl	%eax, -12(%rbp)
 142:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 143:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     return ret;
 235              		.loc 1 143 12
 236 0044 8B45F4   		movl	-12(%rbp), %eax
GAS LISTING /tmp/ccL8TmDc.s 			page 8


 144:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** }
 237              		.loc 1 144 1
 238 0047 488B75F8 		movq	-8(%rbp), %rsi
 239 004b 64483334 		xorq	%fs:40, %rsi
 239      25280000 
 239      00
 240 0054 7405     		je	.L17
 241 0056 E8000000 		call	__stack_chk_fail@PLT
 241      00
 242              	.L17:
 243 005b C9       		leave
 244              	.LCFI8:
 245              		.cfi_def_cfa 7, 8
 246 005c C3       		ret
 247              		.cfi_endproc
 248              	.LFE23:
 250              		.section	.text.mbed_read,"ax",@progbits
 251              		.globl	mbed_read
 253              	mbed_read:
 254              	.LFB24:
 145:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 146:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 147:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** int mbed_read( void *handle, unsigned char *buf, size_t len, int timeout)
 148:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** {
 255              		.loc 1 148 1
 256              		.cfi_startproc
 257 0000 F30F1EFA 		endbr64
 258 0004 55       		pushq	%rbp
 259              	.LCFI9:
 260              		.cfi_def_cfa_offset 16
 261              		.cfi_offset 6, -16
 262 0005 4889E5   		movq	%rsp, %rbp
 263              	.LCFI10:
 264              		.cfi_def_cfa_register 6
 265 0008 4883EC30 		subq	$48, %rsp
 266 000c 48897DE8 		movq	%rdi, -24(%rbp)
 267 0010 488975E0 		movq	%rsi, -32(%rbp)
 268 0014 488955D8 		movq	%rdx, -40(%rbp)
 269 0018 894DD4   		movl	%ecx, -44(%rbp)
 270              		.loc 1 148 1
 271 001b 64488B04 		movq	%fs:40, %rax
 271      25280000 
 271      00
 272 0024 488945F8 		movq	%rax, -8(%rbp)
 273 0028 31C0     		xorl	%eax, %eax
 149:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     int ret;
 150:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 151:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     ret = dtls_read(handle, buf,len,timeout);
 274              		.loc 1 151 11
 275 002a 8B4DD4   		movl	-44(%rbp), %ecx
 276 002d 488B55D8 		movq	-40(%rbp), %rdx
 277 0031 488B75E0 		movq	-32(%rbp), %rsi
 278 0035 488B45E8 		movq	-24(%rbp), %rax
 279 0039 4889C7   		movq	%rax, %rdi
 280 003c E8000000 		call	dtls_read@PLT
 280      00
 281 0041 8945F4   		movl	%eax, -12(%rbp)
GAS LISTING /tmp/ccL8TmDc.s 			page 9


 152:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 153:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     return ret;
 282              		.loc 1 153 12
 283 0044 8B45F4   		movl	-12(%rbp), %eax
 154:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** }
 284              		.loc 1 154 1
 285 0047 488B7DF8 		movq	-8(%rbp), %rdi
 286 004b 6448333C 		xorq	%fs:40, %rdi
 286      25280000 
 286      00
 287 0054 7405     		je	.L20
 288 0056 E8000000 		call	__stack_chk_fail@PLT
 288      00
 289              	.L20:
 290 005b C9       		leave
 291              	.LCFI11:
 292              		.cfi_def_cfa 7, 8
 293 005c C3       		ret
 294              		.cfi_endproc
 295              	.LFE24:
 297              		.section	.text.mbed_connect,"ax",@progbits
 298              		.globl	mbed_connect
 300              	mbed_connect:
 301              	.LFB25:
 155:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 156:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** int dtls_shakehand(mbedtls_ssl_context *ssl, const dtls_shakehand_info_s *info);
 157:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 158:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 159:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** int mbed_connect(void *handle,const char *server_ip, const char *server_port,int timeout)
 160:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** {
 302              		.loc 1 160 1
 303              		.cfi_startproc
 304 0000 F30F1EFA 		endbr64
 305 0004 55       		pushq	%rbp
 306              	.LCFI12:
 307              		.cfi_def_cfa_offset 16
 308              		.cfi_offset 6, -16
 309 0005 4889E5   		movq	%rsp, %rbp
 310              	.LCFI13:
 311              		.cfi_def_cfa_register 6
 312 0008 4883EC70 		subq	$112, %rsp
 313 000c 48897DA8 		movq	%rdi, -88(%rbp)
 314 0010 488975A0 		movq	%rsi, -96(%rbp)
 315 0014 48895598 		movq	%rdx, -104(%rbp)
 316 0018 894D94   		movl	%ecx, -108(%rbp)
 317              		.loc 1 160 1
 318 001b 64488B04 		movq	%fs:40, %rax
 318      25280000 
 318      00
 319 0024 488945F8 		movq	%rax, -8(%rbp)
 320 0028 31C0     		xorl	%eax, %eax
 161:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     int ret = -1;
 321              		.loc 1 161 9
 322 002a C745BCFF 		movl	$-1, -68(%rbp)
 322      FFFFFF
 162:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     dtls_shakehand_info_s  sinfo;
 163:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
GAS LISTING /tmp/ccL8TmDc.s 			page 10


 164:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 165:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     (void) memset(&sinfo, 0, sizeof(sinfo));
 323              		.loc 1 165 12
 324 0031 488D45C0 		leaq	-64(%rbp), %rax
 325 0035 BA380000 		movl	$56, %edx
 325      00
 326 003a BE000000 		movl	$0, %esi
 326      00
 327 003f 4889C7   		movq	%rax, %rdi
 328 0042 E8000000 		call	memset@PLT
 328      00
 166:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 167:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 168:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     sinfo.u.c.host = server_ip;
 329              		.loc 1 168 20
 330 0047 488B45A0 		movq	-96(%rbp), %rax
 331 004b 488945C0 		movq	%rax, -64(%rbp)
 169:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     sinfo.u.c.port = server_port;
 332              		.loc 1 169 20
 333 004f 488B4598 		movq	-104(%rbp), %rax
 334 0053 488945C8 		movq	%rax, -56(%rbp)
 170:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 171:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     sinfo.client_or_server = MBEDTLS_SSL_IS_CLIENT;
 335              		.loc 1 171 28
 336 0057 C745D400 		movl	$0, -44(%rbp)
 336      000000
 172:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     sinfo.udp_or_tcp = MBEDTLS_NET_PROTO_TCP;
 337              		.loc 1 172 22
 338 005e C745D800 		movl	$0, -40(%rbp)
 338      000000
 173:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     sinfo.timeout = timeout;
 339              		.loc 1 173 19
 340 0065 8B4594   		movl	-108(%rbp), %eax
 341 0068 8945D0   		movl	%eax, -48(%rbp)
 174:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 175:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     ret = dtls_shakehand( handle,&sinfo);
 342              		.loc 1 175 11
 343 006b 488D55C0 		leaq	-64(%rbp), %rdx
 344 006f 488B45A8 		movq	-88(%rbp), %rax
 345 0073 4889D6   		movq	%rdx, %rsi
 346 0076 4889C7   		movq	%rax, %rdi
 347 0079 E8000000 		call	dtls_shakehand@PLT
 347      00
 348 007e 8945BC   		movl	%eax, -68(%rbp)
 176:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 177:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     return ret;
 349              		.loc 1 177 12
 350 0081 8B45BC   		movl	-68(%rbp), %eax
 178:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** }
 351              		.loc 1 178 1
 352 0084 488B4DF8 		movq	-8(%rbp), %rcx
 353 0088 6448330C 		xorq	%fs:40, %rcx
 353      25280000 
 353      00
 354 0091 7405     		je	.L23
 355 0093 E8000000 		call	__stack_chk_fail@PLT
 355      00
GAS LISTING /tmp/ccL8TmDc.s 			page 11


 356              	.L23:
 357 0098 C9       		leave
 358              	.LCFI14:
 359              		.cfi_def_cfa 7, 8
 360 0099 C3       		ret
 361              		.cfi_endproc
 362              	.LFE25:
 364              		.section	.rodata
 365              	.LC0:
 366 0000 6D626564 		.string	"mbed"
 366      00
 367              		.section	.data.rel.ro.local.s_mbedtls_io,"aw"
 368              		.align 32
 371              	s_mbedtls_io:
 372 0000 00000000 		.quad	.LC0
 372      00000000 
 373 0008 00000000 		.quad	mbed_new
 373      00000000 
 374 0010 00000000 		.quad	mbed_connect
 374      00000000 
 375 0018 00000000 		.quad	mbed_write
 375      00000000 
 376 0020 00000000 		.quad	mbed_read
 376      00000000 
 377 0028 00000000 		.quad	mbed_destroy
 377      00000000 
 378              		.section	.text.dtls_imp_init,"ax",@progbits
 379              		.globl	dtls_imp_init
 381              	dtls_imp_init:
 382              	.LFB26:
 179:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 180:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** static const dtls_al_t  s_mbedtls_io =
 181:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** {
 182:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     .name = "mbed",
 183:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     .io = {
 184:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****             .io_new = mbed_new,
 185:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****             .io_connect = mbed_connect,
 186:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****             .io_read = mbed_read,
 187:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****             .io_write = mbed_write,
 188:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****             .io_destroy = mbed_destroy,
 189:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     },
 190:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** };
 191:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 192:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 193:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 194:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** int dtls_imp_init(void)
 195:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** {
 383              		.loc 1 195 1
 384              		.cfi_startproc
 385 0000 F30F1EFA 		endbr64
 386 0004 55       		pushq	%rbp
 387              	.LCFI15:
 388              		.cfi_def_cfa_offset 16
 389              		.cfi_offset 6, -16
 390 0005 4889E5   		movq	%rsp, %rbp
 391              	.LCFI16:
 392              		.cfi_def_cfa_register 6
GAS LISTING /tmp/ccL8TmDc.s 			page 12


 393 0008 4883EC10 		subq	$16, %rsp
 394              		.loc 1 195 1
 395 000c 64488B04 		movq	%fs:40, %rax
 395      25280000 
 395      00
 396 0015 488945F8 		movq	%rax, -8(%rbp)
 397 0019 31C0     		xorl	%eax, %eax
 196:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     int ret =-1;
 398              		.loc 1 196 9
 399 001b C745F4FF 		movl	$-1, -12(%rbp)
 399      FFFFFF
 197:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 198:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     (void)mbedtls_platform_set_calloc_free(osal_calloc, osal_free);
 400              		.loc 1 198 11
 401 0022 488B0500 		movq	osal_free@GOTPCREL(%rip), %rax
 401      000000
 402 0029 4889C6   		movq	%rax, %rsi
 403 002c 488B0500 		movq	osal_calloc@GOTPCREL(%rip), %rax
 403      000000
 404 0033 4889C7   		movq	%rax, %rdi
 405 0036 E8000000 		call	mbedtls_platform_set_calloc_free@PLT
 405      00
 199:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     (void)mbedtls_platform_set_snprintf(snprintf);
 406              		.loc 1 199 11
 407 003b 488B0500 		movq	snprintf@GOTPCREL(%rip), %rax
 407      000000
 408 0042 4889C7   		movq	%rax, %rdi
 409 0045 E8000000 		call	mbedtls_platform_set_snprintf@PLT
 409      00
 200:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     (void)mbedtls_platform_set_printf(printf);
 410              		.loc 1 200 11
 411 004a 488B0500 		movq	printf@GOTPCREL(%rip), %rax
 411      000000
 412 0051 4889C7   		movq	%rax, %rdi
 413 0054 E8000000 		call	mbedtls_platform_set_printf@PLT
 413      00
 201:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     ret = dtls_al_install(&s_mbedtls_io);
 414              		.loc 1 201 11
 415 0059 488D3D00 		leaq	s_mbedtls_io(%rip), %rdi
 415      000000
 416 0060 E8000000 		call	dtls_al_install@PLT
 416      00
 417 0065 8945F4   		movl	%eax, -12(%rbp)
 202:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** 
 203:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c ****     return ret;
 418              		.loc 1 203 12
 419 0068 8B45F4   		movl	-12(%rbp), %eax
 204:/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/mbed_port.c **** }
 420              		.loc 1 204 1
 421 006b 488B55F8 		movq	-8(%rbp), %rdx
 422 006f 64483314 		xorq	%fs:40, %rdx
 422      25280000 
 422      00
 423 0078 7405     		je	.L26
 424 007a E8000000 		call	__stack_chk_fail@PLT
 424      00
 425              	.L26:
GAS LISTING /tmp/ccL8TmDc.s 			page 13


 426 007f C9       		leave
 427              	.LCFI17:
 428              		.cfi_def_cfa 7, 8
 429 0080 C3       		ret
 430              		.cfi_endproc
 431              	.LFE26:
 433              		.text
 434              	.Letext0:
 435              		.file 2 "/usr/lib/gcc/x86_64-linux-gnu/9/include/stddef.h"
 436              		.file 3 "/usr/include/x86_64-linux-gnu/bits/types.h"
 437              		.file 4 "/usr/include/x86_64-linux-gnu/bits/stdint-uintn.h"
 438              		.file 5 "/usr/include/x86_64-linux-gnu/bits/types/struct_FILE.h"
 439              		.file 6 "/usr/include/x86_64-linux-gnu/bits/types/FILE.h"
 440              		.file 7 "/usr/include/stdio.h"
 441              		.file 8 "/usr/include/x86_64-linux-gnu/bits/sys_errlist.h"
 442              		.file 9 "/home/xingli/share/1205tiny/inc/dtls_al.h"
 443              		.file 10 "/usr/include/time.h"
 444              		.file 11 "/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls-2.16.2/include/mbedtls/platform
 445              		.file 12 "/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls-2.16.2/include/mbedtls/ecp.h"
 446              		.file 13 "/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls-2.16.2/include/mbedtls/md.h"
 447              		.file 14 "/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls-2.16.2/include/mbedtls/pk.h"
 448              		.file 15 "/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls-2.16.2/include/mbedtls/asn1.h"
 449              		.file 16 "/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls-2.16.2/include/mbedtls/x509.h"
 450              		.file 17 "/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls-2.16.2/include/mbedtls/x509_crl
 451              		.file 18 "/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls-2.16.2/include/mbedtls/x509_crt
 452              		.file 19 "/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls-2.16.2/include/mbedtls/ssl.h"
 453              		.file 20 "/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls-2.16.2/include/mbedtls/timing.h
 454              		.file 21 "/home/xingli/share/1205tiny/network/dtls/mbedtls/mbedtls_port/dtls_interface.h"
 5808              		.section	.note.gnu.property,"a"
 5809              		.align 8
 5810 0000 04000000 		.long	 1f - 0f
 5811 0004 10000000 		.long	 4f - 1f
 5812 0008 05000000 		.long	 5
 5813              	0:
 5814 000c 474E5500 		.string	 "GNU"
 5815              	1:
 5816              		.align 8
 5817 0010 020000C0 		.long	 0xc0000002
 5818 0014 04000000 		.long	 3f - 2f
 5819              	2:
 5820 0018 03000000 		.long	 0x3
 5821              	3:
 5822 001c 00000000 		.align 8
 5823              	4:
GAS LISTING /tmp/ccL8TmDc.s 			page 14


DEFINED SYMBOLS
                            *ABS*:0000000000000000 mbed_port.c
     /tmp/ccL8TmDc.s:7      .text.mbed_new:0000000000000000 mbed_new
     /tmp/ccL8TmDc.s:158    .text.mbed_destroy:0000000000000000 mbed_destroy
     /tmp/ccL8TmDc.s:206    .text.mbed_write:0000000000000000 mbed_write
     /tmp/ccL8TmDc.s:253    .text.mbed_read:0000000000000000 mbed_read
     /tmp/ccL8TmDc.s:300    .text.mbed_connect:0000000000000000 mbed_connect
     /tmp/ccL8TmDc.s:371    .data.rel.ro.local.s_mbedtls_io:0000000000000000 s_mbedtls_io
     /tmp/ccL8TmDc.s:381    .text.dtls_imp_init:0000000000000000 dtls_imp_init

UNDEFINED SYMBOLS
_GLOBAL_OFFSET_TABLE_
dtls_ssl_new
__stack_chk_fail
dtls_ssl_destroy
dtls_write
dtls_read
memset
dtls_shakehand
osal_free
osal_calloc
mbedtls_platform_set_calloc_free
snprintf
mbedtls_platform_set_snprintf
printf
mbedtls_platform_set_printf
dtls_al_install
